[{
	"id": "a528ee42.6d898",
	"type": "tab",
	"label": "Temperatures",
	"disabled": false,
	"info": "Temperature readings, triggered every 2 \nseconds (note that the PID algorith has this \nfrequency hard coded into it, and those \nfunctions will need to be modified if the \ntrigger frequency is changed). Also smoothing \nand formating for temperature display."
}, {
	"id": "e47bdd25.5ea",
	"type": "tab",
	"label": "HLT buttons",
	"disabled": false,
	"info": ""
}, {
	"id": "f56f4168.8335f",
	"type": "tab",
	"label": "HLT controller",
	"disabled": false,
	"info": ""
}, {
	"id": "89f85d32.4f9b3",
	"type": "tab",
	"label": "Mash buttons",
	"disabled": false,
	"info": "Buttons for mash control. These also display \nstate."
}, {
	"id": "144c7ed2.a26d41",
	"type": "tab",
	"label": "Mash controller",
	"disabled": false,
	"info": "Everything related to mash/RIMS PID control, in\naddition to interlock features to prevent RIMS\nuse when pump is inactive or when the boil \nelement is in use."
}, {
	"id": "935ab81e.4a4f88",
	"type": "tab",
	"label": "Boil buttons",
	"disabled": false,
	"info": "Buttons related to controlling the boil.\nThese buttons also display state."
}, {
	"id": "2962835d.bea9ec",
	"type": "tab",
	"label": "Boil controller",
	"disabled": false,
	"info": "PID functionality, as well as an interlock \nscheme to prevent multiple elements from being\nused at one time."
}, {
	"id": "c15c70f7.06d0d",
	"type": "tab",
	"label": "PID outputs",
	"disabled": false,
	"info": "This flow displays output from the PID \nalgorithm. This can be useful for tuning \npurposes."
}, {
	"id": "cc173848.876858",
	"type": "tab",
	"label": "Element outputs",
	"disabled": false,
	"info": "Routing to GPIO, as well as displays for element\noutput in duty %"
}, {
	"id": "2c9b4a44.736d86",
	"type": "tab",
	"label": "Pump control (Brew2)",
	"disabled": true,
	"info": "This flow provides a button to turn a pump on \nand off. The colour of the pump button reflects\nits status. The pump has one restriction in that \nit can not be turned off while RIMS is active.\nSuch attempts are blocked, with a notification\nprovided to the user."
}, {
	"id": "6e33811e.10d33",
	"type": "tab",
	"label": "UI navigation and style",
	"disabled": false,
	"info": "This tab contains a collection of UI features.\n* CSS overide to ensure dashboard is only 1 or 2 columns\n* Centre \"group\" titles\n* Navigation buttons"
}, {
	"id": "e729994b.1bbd18",
	"type": "tab",
	"label": "Bolt indicators",
	"disabled": false,
	"info": "* Bolts indicating element activity"
}, {
	"id": "3f1fa76c.ccd768",
	"type": "tab",
	"label": "Logging",
	"disabled": false,
	"info": ""
}, {
	"id": "a1a222f3.873f6",
	"type": "tab",
	"label": "Mash Schedule",
	"disabled": false,
	"info": ""
}, {
	"id": "57abff92.d4bef",
	"type": "tab",
	"label": "Volume",
	"disabled": true,
	"info": "A pressure sensor is read by an analog input\nboard. The pressure reading is then converted\nto cmH20 and volume and displayed."
}, {
	"id": "ed3a8036.7912",
	"type": "tab",
	"label": "Tap list",
	"disabled": false,
	"info": ""
}, {
	"id": "be6cd40a.3d80d8",
	"type": "tab",
	"label": "ALL Brew Pumps",
	"disabled": false,
	"info": ""
}, {
	"id": "eb8daf30.937ac",
	"type": "ui_base",
	"theme": {
		"name": "theme-dark",
		"lightTheme": {
			"default": "#0094CE",
			"baseColor": "#77bb40",
			"baseFont": "Tahoma,Geneva,sans-serif",
			"edited": true,
			"reset": false
		},
		"darkTheme": {
			"default": "#097479",
			"baseColor": "#094779",
			"baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
			"edited": true,
			"reset": false
		},
		"customTheme": {
			"name": "Green",
			"default": "#4B7930",
			"baseColor": "#669d34",
			"baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
			"reset": false
		},
		"themeState": {
			"base-color": {
				"default": "#097479",
				"value": "#097479",
				"edited": true
			},
			"page-titlebar-backgroundColor": {
				"value": "#097479",
				"edited": true
			},
			"page-backgroundColor": {
				"value": "#111111",
				"edited": true
			},
			"page-sidebar-backgroundColor": {
				"value": "#000000",
				"edited": false
			},
			"group-textColor": {
				"value": "#0eb8c0",
				"edited": true
			},
			"group-borderColor": {
				"value": "#555555",
				"edited": true
			},
			"group-backgroundColor": {
				"value": "#333333",
				"edited": true
			},
			"widget-textColor": {
				"value": "#eeeeee",
				"edited": true
			},
			"widget-backgroundColor": {
				"value": "#097479",
				"edited": true
			},
			"widget-borderColor": {
				"value": "#333333",
				"edited": true
			},
			"base-font": {
				"value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
			}
		},
		"angularTheme": {
			"primary": "indigo",
			"accents": "blue",
			"warn": "red",
			"background": "grey"
		}
	},
	"site": {
		"name": "brew2",
		"hideToolbar": "true",
		"allowSwipe": "false",
		"allowTempTheme": "false",
		"dateFormat": "DD/MM/YYYY",
		"sizes": {
			"sx": 50,
			"sy": 50,
			"gx": 2,
			"gy": 0,
			"cx": 2,
			"cy": 2,
			"px": 2,
			"py": 2
		},
		"lockMenu": "false"
	}
}, {
	"id": "959acbd2.308928",
	"type": "ui_tab",
	"z": "",
	"name": "Brew",
	"icon": "",
	"order": 1,
	"disabled": false,
	"hidden": true
}, {
	"id": "295da4af.6ca11c",
	"type": "ui_group",
	"z": "",
	"name": "MASH",
	"tab": "959acbd2.308928",
	"order": 2,
	"disp": false,
	"width": "6",
	"collapse": false
}, {
	"id": "e0112eb9.cc2e2",
	"type": "ui_group",
	"z": "",
	"name": "BOIL",
	"tab": "959acbd2.308928",
	"order": 3,
	"disp": false,
	"width": "6",
	"collapse": false
}, {
	"id": "284149c2.f30d46",
	"type": "ui_group",
	"z": "",
	"name": "BOIL SETTINGS",
	"tab": "924fc724.b86b38",
	"order": 2,
	"disp": true,
	"width": "6",
	"collapse": false
}, {
	"id": "be43c4ec.694b98",
	"type": "ui_group",
	"z": "",
	"name": "OUTER LOOP",
	"tab": "be295e50.99074",
	"order": 2,
	"disp": true,
	"width": "6",
	"collapse": false
}, {
	"id": "be295e50.99074",
	"type": "ui_tab",
	"z": "",
	"name": "Mash Settings",
	"icon": "",
	"order": 4,
	"disabled": false,
	"hidden": false
}, {
	"id": "924fc724.b86b38",
	"type": "ui_tab",
	"z": "",
	"name": "Boil Settings",
	"icon": "",
	"order": 5,
	"disabled": false,
	"hidden": true
}, {
	"id": "7fcd2aa7.d77e54",
	"type": "ui_group",
	"z": "",
	"name": "BOTTOM",
	"tab": "959acbd2.308928",
	"order": 7,
	"disp": false,
	"width": "6",
	"collapse": false
}, {
	"id": "7e751128.709fe",
	"type": "influxdb",
	"z": "",
	"hostname": "127.0.0.1",
	"port": "8086",
	"protocol": "http",
	"database": "brew2",
	"name": "",
	"usetls": false,
	"tls": ""
}, {
	"id": "a24a618.2f15fa",
	"type": "ui_tab",
	"z": "",
	"name": "General Settings",
	"icon": "dashboard",
	"order": 6,
	"disabled": false,
	"hidden": true
}, {
	"id": "5c794850.f51148",
	"type": "ui_group",
	"z": "",
	"name": "LOGGING",
	"tab": "a24a618.2f15fa",
	"order": 1,
	"disp": true,
	"width": "6",
	"collapse": false
}, {
	"id": "b1fdabcf.8edfb8",
	"type": "ui_group",
	"z": "",
	"name": "INNER LOOP",
	"tab": "be295e50.99074",
	"order": 2,
	"disp": true,
	"width": "6",
	"collapse": false
}, {
	"id": "30fc17bb.c00978",
	"type": "ui_tab",
	"z": "",
	"name": "Settings",
	"icon": "dashboard",
	"order": 2,
	"disabled": false,
	"hidden": false
}, {
	"id": "95022c28.729f7",
	"type": "ui_group",
	"z": "",
	"name": "SETTINGS",
	"tab": "30fc17bb.c00978",
	"order": 1,
	"disp": true,
	"width": "6",
	"collapse": false
}, {
	"id": "de3f6cf7.a3cc",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "284149c2.f30d46",
	"order": 10,
	"width": "6",
	"height": 1
}, {
	"id": "5f3b8028.ae8f3",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "be43c4ec.694b98",
	"order": 11,
	"width": 1,
	"height": 1
}, {
	"id": "94b5ae2b.cd4f1",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "be43c4ec.694b98",
	"order": 13,
	"width": 1,
	"height": 1
}, {
	"id": "6a816142.b3d3e",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "b1fdabcf.8edfb8",
	"order": 11,
	"width": "6",
	"height": 1
}, {
	"id": "8f56eee3.35662",
	"type": "ui_tab",
	"z": "",
	"name": "Mash Schedule",
	"icon": "dashboard",
	"order": 7,
	"disabled": false,
	"hidden": false
}, {
	"id": "b5a34ea1.33c44",
	"type": "ui_group",
	"z": "",
	"name": "MASH SCHEDULE",
	"tab": "8f56eee3.35662",
	"order": 1,
	"disp": true,
	"width": "7",
	"collapse": false
}, {
	"id": "48eabce4.f51924",
	"type": "ui_group",
	"z": "",
	"name": "Rest1",
	"tab": "8f56eee3.35662",
	"order": 5,
	"disp": false,
	"width": "7",
	"collapse": false
}, {
	"id": "13b755de.e9fafa",
	"type": "ui_group",
	"z": "",
	"name": "Rest2",
	"tab": "8f56eee3.35662",
	"order": 6,
	"disp": false,
	"width": "7",
	"collapse": false
}, {
	"id": "59d85205.b154cc",
	"type": "ui_group",
	"z": "",
	"name": "Rest3",
	"tab": "8f56eee3.35662",
	"order": 7,
	"disp": false,
	"width": "7",
	"collapse": false
}, {
	"id": "e8011944.f47658",
	"type": "ui_group",
	"z": "",
	"name": "Rest4",
	"tab": "8f56eee3.35662",
	"order": 8,
	"disp": false,
	"width": "7",
	"collapse": false
}, {
	"id": "90643843.e9f368",
	"type": "ui_group",
	"z": "",
	"name": "Bottom",
	"tab": "8f56eee3.35662",
	"order": 18,
	"disp": false,
	"width": "7",
	"collapse": false
}, {
	"id": "660a0e3d.781c4",
	"type": "ui_group",
	"z": "",
	"name": "Control1",
	"tab": "8f56eee3.35662",
	"order": 3,
	"disp": false,
	"width": "7",
	"collapse": false
}, {
	"id": "e1cd602f.648d9",
	"type": "ui_group",
	"z": "",
	"name": "Control2",
	"tab": "8f56eee3.35662",
	"order": 4,
	"disp": false,
	"width": "7",
	"collapse": false
}, {
	"id": "6266a113.298bd",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "",
	"order": 1,
	"width": 1,
	"height": 1
}, {
	"id": "8a259688.783b68",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "",
	"order": 3,
	"width": 1,
	"height": 1
}, {
	"id": "a4a8de9a.32912",
	"type": "ui_group",
	"z": "",
	"name": "Control3",
	"tab": "8f56eee3.35662",
	"order": 17,
	"disp": false,
	"width": "7",
	"collapse": false
}, {
	"id": "5d693476.63b7dc",
	"type": "ui_group",
	"z": "",
	"name": "Control4",
	"tab": "8f56eee3.35662",
	"order": 16,
	"disp": false,
	"width": "7",
	"collapse": false
}, {
	"id": "db39a8f.fda1458",
	"type": "ui_group",
	"z": "",
	"name": "MASH SCHEDULE2",
	"tab": "8f56eee3.35662",
	"order": 9,
	"disp": false,
	"width": "7",
	"collapse": false
}, {
	"id": "1d69f2cb.c03a5d",
	"type": "ui_group",
	"z": "",
	"name": "Control1b",
	"tab": "8f56eee3.35662",
	"order": 10,
	"disp": true,
	"width": "7",
	"collapse": false
}, {
	"id": "882965f3.5c6298",
	"type": "ui_group",
	"z": "",
	"name": "Control2b",
	"tab": "8f56eee3.35662",
	"order": 11,
	"disp": true,
	"width": "7",
	"collapse": false
}, {
	"id": "45127b38.c16e04",
	"type": "ui_group",
	"z": "",
	"name": "Rest1b",
	"tab": "8f56eee3.35662",
	"order": 12,
	"disp": false,
	"width": "7",
	"collapse": false
}, {
	"id": "bea3a0e7.730da",
	"type": "ui_group",
	"z": "",
	"name": "Rest2b",
	"tab": "8f56eee3.35662",
	"order": 13,
	"disp": false,
	"width": "7",
	"collapse": false
}, {
	"id": "98ac40c6.a3219",
	"type": "ui_group",
	"z": "",
	"name": "Rest3b",
	"tab": "8f56eee3.35662",
	"order": 14,
	"disp": false,
	"width": "7",
	"collapse": false
}, {
	"id": "96b38561.e23938",
	"type": "ui_group",
	"z": "",
	"name": "Rest4b",
	"tab": "8f56eee3.35662",
	"order": 15,
	"disp": false,
	"width": "7",
	"collapse": false
}, {
	"id": "f8b441ed.5e528",
	"type": "ui_group",
	"z": "",
	"name": "Control0",
	"tab": "8f56eee3.35662",
	"order": 2,
	"disp": false,
	"width": "7",
	"collapse": false
}, {
	"id": "97d11ebf.62389",
	"type": "ui_tab",
	"z": "",
	"name": "Tap List",
	"icon": "dashboard",
	"order": 8,
	"disabled": false,
	"hidden": false
}, {
	"id": "53d2de5b.04f38",
	"type": "ui_group",
	"z": "",
	"name": "Left taps",
	"tab": "97d11ebf.62389",
	"order": 1,
	"disp": false,
	"width": "6",
	"collapse": false
}, {
	"id": "9ef562b6.4e8b2",
	"type": "ui_group",
	"z": "",
	"name": "Bottom",
	"tab": "97d11ebf.62389",
	"order": 5,
	"disp": false,
	"width": "6",
	"collapse": false
}, {
	"id": "fde4386.e3556c8",
	"type": "ui_group",
	"z": "",
	"name": "Right taps",
	"tab": "97d11ebf.62389",
	"order": 3,
	"disp": false,
	"width": "6",
	"collapse": false
}, {
	"id": "7cdad1dc.66962",
	"type": "ui_group",
	"z": "",
	"name": "REMOTE DISPLAY",
	"tab": "a24a618.2f15fa",
	"order": 2,
	"disp": false,
	"width": "6",
	"collapse": false
}, {
	"id": "30b5a088.3160e",
	"type": "ui_group",
	"z": "",
	"name": "BOTTOM",
	"tab": "a24a618.2f15fa",
	"order": 3,
	"disp": false,
	"width": "6",
	"collapse": false
}, {
	"id": "8bbac990.1f8308",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "53d2de5b.04f38",
	"order": 3,
	"width": "6",
	"height": 1
}, {
	"id": "14cc5360.72038d",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "fde4386.e3556c8",
	"order": 3,
	"width": "6",
	"height": 1
}, {
	"id": "5e757d82.a8dc54",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "9ef562b6.4e8b2",
	"order": 1,
	"width": "6",
	"height": 1
}, {
	"id": "5d08e9f.cd39818",
	"type": "ui_group",
	"z": "",
	"name": "HLT",
	"tab": "959acbd2.308928",
	"order": 1,
	"disp": false,
	"width": "6",
	"collapse": false
}, {
	"id": "ce10112b.9d8fb",
	"type": "ui_tab",
	"z": "",
	"name": "Hlt settings",
	"icon": "dashboard",
	"order": 3,
	"disabled": false,
	"hidden": true
}, {
	"id": "5455ab3f.d64d04",
	"type": "ui_group",
	"z": "",
	"name": "HLT SETTINGS",
	"tab": "ce10112b.9d8fb",
	"order": 1,
	"disp": true,
	"width": "6",
	"collapse": false
}, {
	"id": "ba172788.fbe478",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "5d08e9f.cd39818",
	"order": 4,
	"width": 1,
	"height": 1
}, {
	"id": "23aae0ae.762c7",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "5d08e9f.cd39818",
	"order": 6,
	"width": 1,
	"height": 1
}, {
	"id": "36b77d5e.df35d2",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "5d08e9f.cd39818",
	"order": 7,
	"width": 3,
	"height": 1
}, {
	"id": "e57c79e0.de60a8",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "5d08e9f.cd39818",
	"order": 9,
	"width": 1,
	"height": 1
}, {
	"id": "a5b4e2ed.596a3",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "5d08e9f.cd39818",
	"order": 11,
	"width": 1,
	"height": 1
}, {
	"id": "607e9642.0bdb68",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "5d08e9f.cd39818",
	"order": 13,
	"width": 6,
	"height": 1
}, {
	"id": "de367238.1a925",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "5d08e9f.cd39818",
	"order": 16,
	"width": 2,
	"height": 1
}, {
	"id": "348d6516.572f7a",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "295da4af.6ca11c",
	"order": 4,
	"width": 1,
	"height": 1
}, {
	"id": "d569e87f.cfaa28",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "295da4af.6ca11c",
	"order": 6,
	"width": 1,
	"height": 1
}, {
	"id": "2f1ebf9e.c565a",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "295da4af.6ca11c",
	"order": 7,
	"width": 3,
	"height": 1
}, {
	"id": "341e419d.9eb84e",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "295da4af.6ca11c",
	"order": 9,
	"width": 1,
	"height": 1
}, {
	"id": "f0f6f1d7.fb0dc",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "295da4af.6ca11c",
	"order": 11,
	"width": 3,
	"height": 1
}, {
	"id": "3fdc25f7.2a13ba",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "295da4af.6ca11c",
	"order": 13,
	"width": 3,
	"height": 1
}, {
	"id": "ffe5ac61.9e5a",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "295da4af.6ca11c",
	"order": 14,
	"width": 3,
	"height": 1
}, {
	"id": "54ca592a.9296d8",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "e0112eb9.cc2e2",
	"order": 4,
	"width": 1,
	"height": 1
}, {
	"id": "ac5db60f.37cfc8",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "e0112eb9.cc2e2",
	"order": 6,
	"width": 1,
	"height": 1
}, {
	"id": "ec961228.166cc",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "e0112eb9.cc2e2",
	"order": 7,
	"width": 3,
	"height": 1
}, {
	"id": "8b898f96.f88e4",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "e0112eb9.cc2e2",
	"order": 9,
	"width": 1,
	"height": 1
}, {
	"id": "a14c118d.06332",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "e0112eb9.cc2e2",
	"order": 18,
	"width": 6,
	"height": 1
}, {
	"id": "181d57de.615d48",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "f8b441ed.5e528",
	"order": 1,
	"width": 1,
	"height": 1
}, {
	"id": "f125d48e.b6d9e8",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "660a0e3d.781c4",
	"order": 1,
	"width": 1,
	"height": 1
}, {
	"id": "7fdbf32e.462dbc",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "660a0e3d.781c4",
	"order": 3,
	"width": 1,
	"height": 1
}, {
	"id": "340f9576.afdbca",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "e1cd602f.648d9",
	"order": 3,
	"width": 1,
	"height": 1
}, {
	"id": "97c5efb8.8b921",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "db39a8f.fda1458",
	"order": 1,
	"width": 1,
	"height": 1
}, {
	"id": "a2e3cc02.b0ea4",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "db39a8f.fda1458",
	"order": 3,
	"width": 1,
	"height": 1
}, {
	"id": "cb5c4bfd.2989a8",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "45127b38.c16e04",
	"order": 1,
	"width": 1,
	"height": 1
}, {
	"id": "d3b9eb74.38f6d8",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "45127b38.c16e04",
	"order": 3,
	"width": 1,
	"height": 1
}, {
	"id": "5d8ec88b.7939b8",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "bea3a0e7.730da",
	"order": 1,
	"width": 1,
	"height": 1
}, {
	"id": "2f307d42.df02e2",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "bea3a0e7.730da",
	"order": 3,
	"width": 1,
	"height": 1
}, {
	"id": "98ebd9d5.11beb8",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "98ac40c6.a3219",
	"order": 1,
	"width": 1,
	"height": 1
}, {
	"id": "54675fc8.24d9d",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "98ac40c6.a3219",
	"order": 3,
	"width": 1,
	"height": 1
}, {
	"id": "ee95ae44.44065",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "96b38561.e23938",
	"order": 1,
	"width": 1,
	"height": 1
}, {
	"id": "463f07fa.551768",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "96b38561.e23938",
	"order": 3,
	"width": 1,
	"height": 1
}, {
	"id": "9ed4466d.5ea2d8",
	"type": "ui_spacer",
	"name": "spacer",
	"group": "a4a8de9a.32912",
	"order": 1,
	"width": 7,
	"height": 1
}, {
	"id": "713008c9.41c5b8",
	"type": "smooth",
	"z": "a528ee42.6d898",
	"name": "",
	"property": "payload",
	"action": "mean",
	"count": "5",
	"round": "1",
	"mult": "single",
	"reduce": false,
	"x": 360,
	"y": 100,
	"wires": [
		["63db3c5d.5db6c4"]
	]
}, {
	"id": "c9190218.4ee9f",
	"type": "range",
	"z": "57abff92.d4bef",
	"minin": "0",
	"maxin": "4096",
	"minout": "0",
	"maxout": "61.2",
	"action": "scale",
	"round": false,
	"property": "payload",
	"name": "cmH₂O",
	"x": 180,
	"y": 100,
	"wires": [
		["e793f0bf.8db8a"]
	]
}, {
	"id": "e793f0bf.8db8a",
	"type": "smooth",
	"z": "57abff92.d4bef",
	"name": "",
	"property": "payload",
	"action": "mean",
	"count": "5",
	"round": "2",
	"mult": "single",
	"x": 220,
	"y": 140,
	"wires": [
		["2e1b1c06.0fb084"]
	]
}, {
	"id": "2ea1ca01.27bde6",
	"type": "function",
	"z": "57abff92.d4bef",
	"name": "Volume conversion",
	"func": "msg.payload = 1.89 + (msg.payload * 21.5 * 21.5 * 3.141526 / 1000);\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 330,
	"y": 220,
	"wires": [
		["fab6f3ad.19016"]
	]
}, {
	"id": "2242597.2ad34a6",
	"type": "ui_text",
	"z": "57abff92.d4bef",
	"group": "295da4af.6ca11c",
	"order": 12,
	"width": 3,
	"height": 1,
	"name": "Mash volume display",
	"label": "Volume",
	"format": "{{msg.payload}}l H₂O",
	"layout": "col-center",
	"x": 420,
	"y": 300,
	"wires": []
}, {
	"id": "2e1b1c06.0fb084",
	"type": "function",
	"z": "57abff92.d4bef",
	"name": "WC calibration",
	"func": "msg.payload = -11.182129 + 1.392048*msg.payload \nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 280,
	"y": 180,
	"wires": [
		["2ea1ca01.27bde6", "30554397.eeabdc"]
	]
}, {
	"id": "fab6f3ad.19016",
	"type": "function",
	"z": "57abff92.d4bef",
	"name": "Minimum volume",
	"func": "if(msg.payload <= 12.0){\n    msg.payload = \"<12.0\"\n} else {\n    msg.payload = msg.payload.toFixed(1);\n}\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 370,
	"y": 260,
	"wires": [
		["2242597.2ad34a6"]
	]
}, {
	"id": "fbe9525e.8dc5e",
	"type": "rpi-gpio out",
	"z": "2c9b4a44.736d86",
	"name": "Pump GPIO",
	"pin": "11",
	"set": true,
	"level": "0",
	"freq": "1",
	"out": "out",
	"x": 510,
	"y": 480,
	"wires": []
}, {
	"id": "199c9832.6cd608",
	"type": "inject",
	"z": "2962835d.bea9ec",
	"name": "Default Element Duty",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": "0.1",
	"topic": "",
	"payload": "100",
	"payloadType": "num",
	"x": 160,
	"y": 180,
	"wires": [
		["5aa9bf3a.75f71", "1dfd49c0.44bac6", "908d584b.86f268"]
	]
}, {
	"id": "d8e21275.56703",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "bk_lock=true",
	"rules": [{
		"t": "set",
		"p": "bk_lock",
		"pt": "global",
		"to": "true",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 850,
	"y": 1400,
	"wires": [
		[]
	]
}, {
	"id": "b83834ca.37d328",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "bk_on = bk_try",
	"rules": [{
		"t": "set",
		"p": "bk_on",
		"pt": "global",
		"to": "bk_try",
		"tot": "flow"
	}, {
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "bk_try",
		"tot": "flow"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 520,
	"y": 1420,
	"wires": [
		["db347af4.553e28", "e39dcdac.b2ab9"]
	]
}, {
	"id": "db347af4.553e28",
	"type": "switch",
	"z": "2962835d.bea9ec",
	"name": "bk_on",
	"property": "bk_on",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 690,
	"y": 1420,
	"wires": [
		["d8e21275.56703"],
		["7a42cbae.435d74"]
	]
}, {
	"id": "df5b2f78.cf46b",
	"type": "switch",
	"z": "2962835d.bea9ec",
	"d": true,
	"name": "Check rims_lock",
	"property": "rims_lock",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 310,
	"y": 1380,
	"wires": [
		["d87c9efe.cd394"],
		["b83834ca.37d328"]
	]
}, {
	"id": "787538f8.bc69a8",
	"type": "ui_toast",
	"z": "2962835d.bea9ec",
	"position": "top right",
	"displayTime": "5",
	"highlight": "",
	"outputs": 0,
	"ok": "OK",
	"cancel": "",
	"topic": "",
	"name": "",
	"x": 570,
	"y": 1340,
	"wires": []
}, {
	"id": "d87c9efe.cd394",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "Element lock message",
	"rules": [{
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "Can not access boil kettle element controls while RIMS element is active",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 540,
	"y": 1380,
	"wires": [
		["787538f8.bc69a8"]
	]
}, {
	"id": "1a981d76.093e63",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "inner_p",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 400,
	"y": 500,
	"wires": [
		[]
	]
}, {
	"id": "5b162f34.8a856",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "inner_i",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 400,
	"y": 580,
	"wires": [
		["18051f83.51723"]
	]
}, {
	"id": "5e95943e.d877bc",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "inner_d",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 400,
	"y": 660,
	"wires": [
		[]
	]
}, {
	"id": "6c1236d3.b70bd8",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "mash_target",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 880,
	"y": 300,
	"wires": [
		[]
	]
}, {
	"id": "ec2159bd.61a2b8",
	"type": "function",
	"z": "144c7ed2.a26d41",
	"name": "Cascade PID - main",
	"func": "// brew2 Cascade PID algorithm\n// Justin Angevaare\n// Nov. 2019\n\n// Manually specify update interval\nmsg.interval = 2000;\n\n//\n// Begin Outer Control Loop\n//\n// Output from Outer Control will be the target RIMS delta T\n// Calculate outer error\nmsg.outer_target = flow.get('mash_target')\nmsg.outer_error = msg.outer_target - global.get('temp-MLT');\n\n// Update outer integrator\n// For purposes of integrator, bound error by [-1, 1]\nmsg.outer_integrator = flow.get('outer_integrator');\nmsg.outer_integrator += (msg.interval/1000) * Math.max(Math.min(msg.outer_error, 1), -1);\n\n// Bound total outer integrator by absolute maximum\nmsg.outer_integrator = Math.max(Math.min(msg.outer_integrator, flow.get('outer_integrator_max')), -flow.get('outer_integrator_max'));\n\n// Output updated integrator to flow context\nflow.set('outer_integrator', msg.outer_integrator);\n\n// Calculate proportional action\nmsg.outer_output = msg.outer_error * flow.get('outer_p');\n\n// Calculate intergral action\nmsg.outer_output += msg.outer_integrator * flow.get('outer_i');\n\n// Calculate derivative action\nmsg.outer_derivative = (msg.outer_error - flow.get('last_outer_error'))/(msg.interval/1000);\nmsg.outer_output += msg.outer_derivative * flow.get('outer_d');\n\n// Bound outer_output by [outer_min, outer_max]\nmsg.outer_output = Math.max(Math.min(msg.outer_output, flow.get('outer_max')), flow.get('outer_min'));\n\n// Set inner_target\nmsg.inner_target = Math.min(msg.outer_target + msg.outer_output, 90)\n\n// Output updated last_outer_error to flow context\nmsg.last_outer_error = msg.outer_error;\nflow.set('last_outer_error', msg.last_outer_error);\n\n//\n// Begin Inner Control Loop\n// Output from inner control loop will be RIMS element duty %\n// Calculate inner error\nmsg.inner_error = msg.inner_target - global.get('temp-RIMS');\n\n// Update inner integrator\n// For purposes of integrator, bound error by [-1, 1]\nmsg.inner_integrator = flow.get('inner_integrator');\nmsg.inner_integrator += (msg.interval/1000) * Math.max(Math.min(msg.inner_error, 1), -1);\n\n// Bound total inner integrator by absolute maximum\nmsg.inner_integrator = Math.max(Math.min(msg.inner_integrator, flow.get('inner_integrator_max')), -flow.get('inner_integrator_max'));\n\n// Output updated integrator to flow context\nflow.set('inner_integrator', msg.inner_integrator);\n\n// Calculate proportional action\nmsg.inner_output = msg.inner_error * flow.get('inner_p');\n\n// Calculate intergral action\nmsg.inner_output += msg.inner_integrator * flow.get('inner_i');\n\n// Calculate derivative action\nmsg.inner_derivative = (msg.inner_error - flow.get('last_inner_error'))/(msg.interval/1000);\nmsg.inner_output += msg.inner_derivative * flow.get('inner_d');\n\n// Bound inner_output by [0.0, max_output]\nmsg.inner_output = Math.max(Math.min(msg.inner_output, flow.get('inner_max')), 0.0);\n\n// Output updated last_inner_error to flow context\nmsg.last_inner_error = msg.inner_error;\nflow.set('last_inner_error', msg.last_inner_error);\n\n// Set payload to element output\nmsg.payload = msg.inner_output;\n\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 440,
	"y": 200,
	"wires": [
		["753a3990.bdf658", "feee744.55b2388"]
	]
}, {
	"id": "a3be7a47.76eb98",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "global.rims_lock, rims_on, rims_limiter = false",
	"rules": [{
		"t": "set",
		"p": "rims_lock",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}, {
		"t": "set",
		"p": "rims_on",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}, {
		"t": "set",
		"p": "rims_limiter",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 440,
	"y": 1440,
	"wires": [
		["6f289a18.bfc854"]
	]
}, {
	"id": "c399bb18.49e448",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "Lock message",
	"rules": [{
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "Can not access RIMS element controls while boil kettle element is active",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 640,
	"y": 1620,
	"wires": [
		["e9ed3313.ab97a"]
	]
}, {
	"id": "e9ed3313.ab97a",
	"type": "ui_toast",
	"z": "144c7ed2.a26d41",
	"position": "top right",
	"displayTime": "5",
	"highlight": "",
	"outputs": 0,
	"ok": "OK",
	"cancel": "",
	"topic": "",
	"name": "",
	"x": 690,
	"y": 1680,
	"wires": []
}, {
	"id": "5e6884e8.d9cb3c",
	"type": "switch",
	"z": "144c7ed2.a26d41",
	"d": true,
	"name": "Check bk_lock",
	"property": "bk_lock",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "false",
	"repair": false,
	"outputs": 2,
	"x": 360,
	"y": 1760,
	"wires": [
		["c399bb18.49e448", "1344fb35.fa81b5"],
		["bb3a02aa.e5316"]
	]
}, {
	"id": "f0526c8f.beaed",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "rims_try = payload",
	"rules": [{
		"t": "set",
		"p": "rims_try",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 350,
	"y": 1660,
	"wires": [
		["5e6884e8.d9cb3c"]
	]
}, {
	"id": "bf52fa23.1137c8",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "rims_on = rims_try",
	"rules": [{
		"t": "set",
		"p": "rims_on",
		"pt": "global",
		"to": "rims_try",
		"tot": "flow"
	}, {
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "rims_try",
		"tot": "flow"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 650,
	"y": 1760,
	"wires": [
		["d093eb3f.562088", "a547d230.e9142"]
	]
}, {
	"id": "d093eb3f.562088",
	"type": "switch",
	"z": "144c7ed2.a26d41",
	"name": "",
	"property": "rims_on",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 830,
	"y": 1800,
	"wires": [
		["3c4b76a7.d8555a"],
		["69b0bcdb.d342d4"]
	]
}, {
	"id": "3c4b76a7.d8555a",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "rims_lock = true",
	"rules": [{
		"t": "set",
		"p": "rims_lock",
		"pt": "global",
		"to": "true",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 1000,
	"y": 1780,
	"wires": [
		[]
	]
}, {
	"id": "3865b1aa.424eee",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "rims_lock = false",
	"rules": [{
		"t": "set",
		"p": "rims_lock",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 1050,
	"y": 1860,
	"wires": [
		["5e9d6cf4.021044"]
	]
}, {
	"id": "69b0bcdb.d342d4",
	"type": "delay",
	"z": "144c7ed2.a26d41",
	"name": "",
	"pauseType": "delay",
	"timeout": "3",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 980,
	"y": 1820,
	"wires": [
		["3865b1aa.424eee"]
	]
}, {
	"id": "c52cf12a.2e7c6",
	"type": "switch",
	"z": "144c7ed2.a26d41",
	"name": "rims_on switch",
	"property": "rims_on",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}],
	"checkall": "false",
	"repair": false,
	"outputs": 1,
	"x": 220,
	"y": 200,
	"wires": [
		["ec2159bd.61a2b8"]
	]
}, {
	"id": "7a42cbae.435d74",
	"type": "delay",
	"z": "2962835d.bea9ec",
	"name": "",
	"pauseType": "delay",
	"timeout": "3",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 840,
	"y": 1440,
	"wires": [
		["6b79b3a8.c4334c"]
	]
}, {
	"id": "6b79b3a8.c4334c",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "bk_lock = false",
	"rules": [{
		"t": "set",
		"p": "bk_lock",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 900,
	"y": 1480,
	"wires": [
		["c4b0e428.97d1f8"]
	]
}, {
	"id": "66bc60ef.a7647",
	"type": "ui_text",
	"z": "144c7ed2.a26d41",
	"group": "be43c4ec.694b98",
	"order": 2,
	"width": 2,
	"height": 1,
	"name": "Mash target",
	"label": "Target",
	"format": "{{payload | number:1}}°C",
	"layout": "col-center",
	"x": 850,
	"y": 380,
	"wires": []
}, {
	"id": "2592b051.89392",
	"type": "smooth",
	"z": "a528ee42.6d898",
	"name": "",
	"property": "payload",
	"action": "mean",
	"count": "5",
	"round": "1",
	"mult": "single",
	"reduce": false,
	"x": 360,
	"y": 420,
	"wires": [
		["3888dbb1.cfafe4"]
	]
}, {
	"id": "21f8dac6.8a5ee6",
	"type": "smooth",
	"z": "a528ee42.6d898",
	"name": "",
	"property": "payload",
	"action": "mean",
	"count": "5",
	"round": "1",
	"mult": "single",
	"reduce": false,
	"x": 360,
	"y": 260,
	"wires": [
		["7533083e.8bff38"]
	]
}, {
	"id": "f16617ea.279868",
	"type": "link out",
	"z": "a528ee42.6d898",
	"name": "RIMS raw temperature",
	"links": ["81f5072c.deaf88", "4661b513.5c52bc"],
	"x": 515,
	"y": 220,
	"wires": []
}, {
	"id": "c4b0e428.97d1f8",
	"type": "link out",
	"z": "2962835d.bea9ec",
	"name": "Bolt update",
	"links": ["baee4c3.83c9fb"],
	"x": 875,
	"y": 1520,
	"wires": []
}, {
	"id": "e39dcdac.b2ab9",
	"type": "link out",
	"z": "2962835d.bea9ec",
	"name": "Bolt update",
	"links": ["baee4c3.83c9fb"],
	"x": 655,
	"y": 1460,
	"wires": []
}, {
	"id": "5e9d6cf4.021044",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "MLT Bolt update",
	"links": ["8947a9d2.83fc38"],
	"x": 1195,
	"y": 1860,
	"wires": []
}, {
	"id": "a547d230.e9142",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "MLT Bolt update",
	"links": ["8947a9d2.83fc38"],
	"x": 795,
	"y": 1760,
	"wires": []
}, {
	"id": "30554397.eeabdc",
	"type": "function",
	"z": "57abff92.d4bef",
	"name": "Minimum WC",
	"func": "if(msg.payload <= 5.0){\n    msg.payload = \"<5.0\"\n} else {\n    msg.payload = msg.payload.toFixed(1);\n}\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 620,
	"y": 260,
	"wires": [
		["d4145682.3906e8"]
	]
}, {
	"id": "d4145682.3906e8",
	"type": "ui_text",
	"z": "57abff92.d4bef",
	"d": true,
	"group": "295da4af.6ca11c",
	"order": 15,
	"width": 3,
	"height": 1,
	"name": "Mash WC display",
	"label": "Water column",
	"format": "{{msg.payload}} cmH₂O",
	"layout": "col-center",
	"x": 670,
	"y": 300,
	"wires": []
}, {
	"id": "80b0a0ca.62def",
	"type": "inject",
	"z": "144c7ed2.a26d41",
	"name": "Default Inner Kp",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": "0.1",
	"topic": "",
	"payload": "20.0",
	"payloadType": "num",
	"x": 160,
	"y": 460,
	"wires": [
		["b205f96.f8b2508", "1a981d76.093e63"]
	]
}, {
	"id": "45a94c22.d576e4",
	"type": "inject",
	"z": "144c7ed2.a26d41",
	"name": "Default Inner Ki",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "1",
	"payloadType": "num",
	"x": 160,
	"y": 540,
	"wires": [
		["800a5cd6.6863c", "5b162f34.8a856"]
	]
}, {
	"id": "1fd26db6.77f512",
	"type": "inject",
	"z": "144c7ed2.a26d41",
	"name": "Default Inner Kd",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "30",
	"payloadType": "num",
	"x": 160,
	"y": 620,
	"wires": [
		["402b8a2f.d3a324", "5e95943e.d877bc"]
	]
}, {
	"id": "8422d9bd.2f8748",
	"type": "inject",
	"z": "144c7ed2.a26d41",
	"name": "Default Target",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "70",
	"payloadType": "num",
	"x": 160,
	"y": 340,
	"wires": [
		["a5c55189.b48ea", "e141f296.b63b"]
	]
}, {
	"id": "8b526021.b9e18",
	"type": "inject",
	"z": "144c7ed2.a26d41",
	"name": "Default Inner Limit",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "40",
	"payloadType": "num",
	"x": 170,
	"y": 700,
	"wires": [
		["91567f3c.bc2bf", "fbfe4bc3.f8b5a8"]
	]
}, {
	"id": "91567f3c.bc2bf",
	"type": "ui_numeric",
	"z": "144c7ed2.a26d41",
	"name": "",
	"label": "Limiter max output",
	"tooltip": "",
	"group": "b1fdabcf.8edfb8",
	"order": 10,
	"width": 6,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value | number:0}}٪",
	"min": "1",
	"max": "99",
	"step": 1,
	"x": 210,
	"y": 740,
	"wires": [
		["fbfe4bc3.f8b5a8"]
	]
}, {
	"id": "fbfe4bc3.f8b5a8",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "inner_limit",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 410,
	"y": 740,
	"wires": [
		["741e52ab.6033ec"]
	]
}, {
	"id": "d531757f.5db858",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "rims_limiter",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 500,
	"y": 1360,
	"wires": [
		["c871ec46.38db3"]
	]
}, {
	"id": "c48751d4.cc692",
	"type": "sensor-ds18b20",
	"z": "a528ee42.6d898",
	"name": "temp-BK",
	"sensorid": "28-0000062eaf09",
	"timer": "2",
	"repeat": false,
	"x": 320,
	"y": 60,
	"wires": [
		["713008c9.41c5b8", "b1d32d4.2963cd", "7d979810.e03d78"]
	]
}, {
	"id": "76f51acf.0f77f4",
	"type": "sensor-ds18b20",
	"z": "a528ee42.6d898",
	"name": "temp-RIMS",
	"sensorid": "28-0000062eb892",
	"timer": "2",
	"repeat": false,
	"x": 330,
	"y": 220,
	"wires": [
		["21f8dac6.8a5ee6", "f16617ea.279868", "83f10707.b46bb8"]
	],
	"outputLabels": ["temp"]
}, {
	"id": "8f5d707a.cf671",
	"type": "sensor-ds18b20",
	"z": "a528ee42.6d898",
	"name": "temp-MLT",
	"sensorid": "28-000007c0cb12",
	"timer": "2",
	"repeat": false,
	"x": 330,
	"y": 380,
	"wires": [
		["2592b051.89392", "b4420814.32e948", "5a8ac96d.4bb9a8"]
	]
}, {
	"id": "dae2fc46.baf1",
	"type": "inject",
	"z": "a528ee42.6d898",
	"name": "",
	"repeat": "2",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "",
	"payloadType": "date",
	"x": 110,
	"y": 60,
	"wires": [
		["76f51acf.0f77f4", "c48751d4.cc692", "8f5d707a.cf671", "65dca8ac.6fcd78", "7ca2d880.268e78"]
	]
}, {
	"id": "6fa88474.be9cbc",
	"type": "ui_numeric",
	"z": "2962835d.bea9ec",
	"name": "",
	"label": "K𝗉",
	"tooltip": "",
	"group": "284149c2.f30d46",
	"order": 4,
	"width": "4",
	"height": "1",
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value | number:1}}",
	"min": 0,
	"max": "99.8",
	"step": "0.2",
	"x": 150,
	"y": 500,
	"wires": [
		["b3e0ec77.2723f"]
	]
}, {
	"id": "6e3999b7.793cd8",
	"type": "ui_numeric",
	"z": "2962835d.bea9ec",
	"name": "",
	"label": "K𝗂",
	"tooltip": "",
	"group": "284149c2.f30d46",
	"order": 6,
	"width": "4",
	"height": "1",
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value | number:1}}",
	"min": 0,
	"max": "100",
	"step": "0.2",
	"x": 150,
	"y": 600,
	"wires": [
		["9038cb8b.494498"]
	]
}, {
	"id": "e6b4b3ce.64a9",
	"type": "ui_numeric",
	"z": "2962835d.bea9ec",
	"name": "",
	"label": "K𝖽",
	"tooltip": "",
	"group": "284149c2.f30d46",
	"order": 8,
	"width": "4",
	"height": "1",
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value | number:1}}",
	"min": 0,
	"max": "100",
	"step": "0.2",
	"x": 150,
	"y": 700,
	"wires": [
		["61675e86.1d6a"]
	]
}, {
	"id": "b3e0ec77.2723f",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "p",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 320,
	"y": 500,
	"wires": [
		[]
	]
}, {
	"id": "9038cb8b.494498",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "set flow.i",
	"rules": [{
		"t": "set",
		"p": "i",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 320,
	"y": 600,
	"wires": [
		[]
	]
}, {
	"id": "61675e86.1d6a",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "d",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 320,
	"y": 700,
	"wires": [
		[]
	]
}, {
	"id": "c6e9be6f.a5bde",
	"type": "inject",
	"z": "2962835d.bea9ec",
	"name": "Default P",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "20.0",
	"payloadType": "num",
	"x": 120,
	"y": 460,
	"wires": [
		["6fa88474.be9cbc", "b3e0ec77.2723f"]
	]
}, {
	"id": "e234b88b.91e268",
	"type": "inject",
	"z": "2962835d.bea9ec",
	"name": "Default I",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "1",
	"payloadType": "num",
	"x": 120,
	"y": 560,
	"wires": [
		["6e3999b7.793cd8", "9038cb8b.494498"]
	]
}, {
	"id": "96edb764.ca59e8",
	"type": "inject",
	"z": "2962835d.bea9ec",
	"name": "Default D",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "30",
	"payloadType": "num",
	"x": 120,
	"y": 660,
	"wires": [
		["e6b4b3ce.64a9", "61675e86.1d6a"]
	]
}, {
	"id": "37e50287.40893e",
	"type": "inject",
	"z": "2962835d.bea9ec",
	"name": "Default BK Target",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "70",
	"payloadType": "num",
	"x": 150,
	"y": 300,
	"wires": [
		["6384dde4.9be824", "f4a2a4ae.d80848", "e1db63a8.6a0be", "49d35966.ea1c98"]
	]
}, {
	"id": "35e48b2a.a2f7f4",
	"type": "function",
	"z": "2962835d.bea9ec",
	"name": "BK PID",
	"func": "// Note that the algorithm provided below assumes a 1 second iteration time\n// Justin Angevaare\n// May 2018\n\n// Set temperature\nmsg.temperature =  msg.payload;\n\n// Well that node doesn't work... do manually\nmsg.interval = 2000\n\n// Calculate error\nmsg.error = flow.get('bk_target') - msg.temperature;\n\n// Set output max\nmsg.max_output = 100\n        \n// Calculate integrator max\nmsg.integrator_max = msg.max_output/flow.get('i');\n\n// Update integrator\n// For purposes of integrator, bound error by [-1, 1]\nmsg.integrator = flow.get('integrator');\nmsg.integrator += (msg.interval/1000) * Math.max(Math.min(msg.error, 1), -1);\n\n// Bound total integrator by absolute maximum\nmsg.integrator = Math.max(Math.min(msg.integrator, msg.integrator_max), -msg.integrator_max);\n\n// Output updated integrator to flow context\nflow.set('integrator', msg.integrator);\n\n// Calculate proportional action\nmsg.output = msg.error * flow.get('p');\n\n// Calculate intergral action\nmsg.output += msg.integrator * flow.get('i');\n\n// Calculate derivative action\nmsg.derivative = (msg.error - flow.get('last_error'))/(msg.interval/1000);\nmsg.output += msg.derivative * flow.get('d');\n\n// Bound output by [0, max_output]\nmsg.output = Math.max(Math.min(msg.output, msg.max_output), 0);\n\n// Output updated last_error to flow context\nmsg.last_error = msg.error;\nflow.set('last_error', msg.last_error);\n\n// Set payload to element output\nmsg.payload = msg.output;\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 480,
	"y": 80,
	"wires": [
		["61254f3d.d427f", "88d78d89.ee6d4"]
	]
}, {
	"id": "1329a823.3d1758",
	"type": "switch",
	"z": "2962835d.bea9ec",
	"name": "bk_pid switch",
	"property": "bk_pid",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "false",
	"repair": false,
	"outputs": 2,
	"x": 300,
	"y": 100,
	"wires": [
		["35e48b2a.a2f7f4"],
		["ca5ed1d9.5d649"]
	]
}, {
	"id": "ca5ed1d9.5d649",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "payload = bk_manual_duty",
	"rules": [{
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "bk_manual_duty",
		"tot": "flow"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 540,
	"y": 120,
	"wires": [
		["61254f3d.d427f"]
	]
}, {
	"id": "a8d992e3.b4359",
	"type": "link in",
	"z": "2962835d.bea9ec",
	"name": "BK PID temperature input",
	"links": ["b1d32d4.2963cd"],
	"x": 55,
	"y": 80,
	"wires": [
		["a22a8031.a1e7c", "454fbf0d.62075"]
	]
}, {
	"id": "b1d32d4.2963cd",
	"type": "link out",
	"z": "a528ee42.6d898",
	"name": "BK raw temperature",
	"links": ["a8d992e3.b4359", "81f5072c.deaf88"],
	"x": 515,
	"y": 60,
	"wires": []
}, {
	"id": "f4a2a4ae.d80848",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "bk_target",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 730,
	"y": 300,
	"wires": [
		[]
	]
}, {
	"id": "61254f3d.d427f",
	"type": "link out",
	"z": "2962835d.bea9ec",
	"name": "PID or Manual Duty",
	"links": ["862d4595.adaad8", "273c793e.0a5f46", "d9866ab2.5ffc78"],
	"x": 715,
	"y": 80,
	"wires": []
}, {
	"id": "2063296c.a8ad16",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "bk_pid, bk_try = true",
	"rules": [{
		"t": "set",
		"p": "bk_pid",
		"pt": "global",
		"to": "true",
		"tot": "bool"
	}, {
		"t": "set",
		"p": "bk_try",
		"pt": "flow",
		"to": "true",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 320,
	"y": 1020,
	"wires": [
		["e81d3e5d.739c8"]
	]
}, {
	"id": "51383221.abb17c",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "bk_pid = false, bk_try = true",
	"rules": [{
		"t": "set",
		"p": "bk_pid",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}, {
		"t": "set",
		"p": "bk_try",
		"pt": "flow",
		"to": "true",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 340,
	"y": 1060,
	"wires": [
		["daee20c7.e209"]
	]
}, {
	"id": "feb5ee97.37d58",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "bk_pid, bk_try = false",
	"rules": [{
		"t": "set",
		"p": "bk_pid",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}, {
		"t": "set",
		"p": "bk_try",
		"pt": "flow",
		"to": "false",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 320,
	"y": 980,
	"wires": [
		["4cdafc72.6a7d44"]
	]
}, {
	"id": "daee20c7.e209",
	"type": "link out",
	"z": "2962835d.bea9ec",
	"name": "Boil Try Output",
	"links": ["6066f489.19ea8c"],
	"x": 535,
	"y": 1060,
	"wires": []
}, {
	"id": "6066f489.19ea8c",
	"type": "link in",
	"z": "2962835d.bea9ec",
	"name": "Boil Try Input",
	"links": ["daee20c7.e209", "e81d3e5d.739c8", "4cdafc72.6a7d44"],
	"x": 155,
	"y": 1400,
	"wires": [
		["df5b2f78.cf46b", "b83834ca.37d328"]
	]
}, {
	"id": "a22a8031.a1e7c",
	"type": "switch",
	"z": "2962835d.bea9ec",
	"name": "bk_on",
	"property": "bk_on",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 1,
	"x": 150,
	"y": 100,
	"wires": [
		["1329a823.3d1758"]
	]
}, {
	"id": "1dfd49c0.44bac6",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "bk_manual_duty",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 750,
	"y": 180,
	"wires": [
		[]
	]
}, {
	"id": "d23072db.fd99",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "payload = 0",
	"rules": [{
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "0",
		"tot": "num"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 290,
	"y": 1220,
	"wires": [
		["30100800.8aa688"]
	]
}, {
	"id": "30100800.8aa688",
	"type": "link out",
	"z": "2962835d.bea9ec",
	"name": "Off Duty",
	"links": ["862d4595.adaad8", "273c793e.0a5f46", "d9866ab2.5ffc78"],
	"x": 535,
	"y": 1220,
	"wires": []
}, {
	"id": "77ba352b.bca7ec",
	"type": "link out",
	"z": "2962835d.bea9ec",
	"name": "Boil PID display",
	"links": ["5285e8f7.b9ad08", "eda67ad.0cd1d88", "60c78193.93746", "da64d6ff.21e4e8"],
	"x": 535,
	"y": 1140,
	"wires": []
}, {
	"id": "3b0ebafa.0e4906",
	"type": "rpi-gpio out",
	"z": "cc173848.876858",
	"name": "BK GPIO",
	"pin": "32",
	"set": false,
	"level": "0",
	"freq": "1",
	"out": "pwm",
	"x": 300,
	"y": 220,
	"wires": []
}, {
	"id": "862d4595.adaad8",
	"type": "link in",
	"z": "cc173848.876858",
	"name": "BK GPIO",
	"links": ["30100800.8aa688", "61254f3d.d427f"],
	"x": 175,
	"y": 240,
	"wires": [
		["3b0ebafa.0e4906", "c2707c30.1a32e", "ef2e0579.8137a8", "dc8d18ce.013448"]
	]
}, {
	"id": "753a3990.bdf658",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "RIMS GPIO",
	"links": ["3ab85174.c63cbe", "97a6c5e8.173568"],
	"x": 615,
	"y": 220,
	"wires": []
}, {
	"id": "f582520d.352ce",
	"type": "rpi-gpio out",
	"z": "cc173848.876858",
	"name": "RIMS GPIO",
	"pin": "36",
	"set": false,
	"level": "0",
	"freq": "1",
	"out": "pwm",
	"x": 310,
	"y": 60,
	"wires": []
}, {
	"id": "3ab85174.c63cbe",
	"type": "link in",
	"z": "cc173848.876858",
	"name": "RIMS GPIO",
	"links": ["753a3990.bdf658", "89c38b88.27c9a8"],
	"x": 175,
	"y": 80,
	"wires": [
		["f582520d.352ce", "6249bd01.aaf204"]
	]
}, {
	"id": "70a3397f.c217e8",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "duty = 0",
	"rules": [{
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "0",
		"tot": "num"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 320,
	"y": 1560,
	"wires": [
		["89c38b88.27c9a8"]
	]
}, {
	"id": "89c38b88.27c9a8",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "RIMS GPIO",
	"links": ["79ad6d21.240f2c", "3ab85174.c63cbe", "97a6c5e8.173568"],
	"x": 595,
	"y": 1560,
	"wires": []
}, {
	"id": "a2893eb8.31587",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "Zero everything",
	"rules": [{
		"t": "set",
		"p": "last_inner_error",
		"pt": "msg",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "last_inner_error",
		"pt": "flow",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "inner_integrator",
		"pt": "msg",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "inner_integrator",
		"pt": "flow",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "inner_derivative",
		"pt": "msg",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "last_outer_error",
		"pt": "msg",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "last_outer_error",
		"pt": "flow",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "outer_integrator",
		"pt": "msg",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "outer_integrator",
		"pt": "flow",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "outer_derivative",
		"pt": "msg",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "outer_output",
		"pt": "flow",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "outer_output",
		"pt": "msg",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "inner_target",
		"pt": "msg",
		"to": "mash_target",
		"tot": "flow"
	}, {
		"t": "set",
		"p": "inner_target",
		"pt": "flow",
		"to": "mash_target",
		"tot": "flow"
	}, {
		"t": "set",
		"p": "inner_output",
		"pt": "msg",
		"to": "0.0",
		"tot": "str"
	}, {
		"t": "set",
		"p": "outer_target",
		"pt": "msg",
		"to": "mash_target",
		"tot": "flow"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 340,
	"y": 1520,
	"wires": [
		["cd55e50.3328818"]
	]
}, {
	"id": "cd55e50.3328818",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "Mash PID display",
	"links": ["c0500ff3.992f8", "24efa7b7.209bd8"],
	"x": 595,
	"y": 1520,
	"wires": []
}, {
	"id": "feee744.55b2388",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "Mash PID display",
	"links": ["c0500ff3.992f8", "24efa7b7.209bd8"],
	"x": 615,
	"y": 180,
	"wires": []
}, {
	"id": "4382ee82.2f293",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "Zero everything",
	"rules": [{
		"t": "set",
		"p": "last_error",
		"pt": "msg",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "integrator",
		"pt": "msg",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "derivative",
		"pt": "msg",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "last_error",
		"pt": "flow",
		"to": "last_error",
		"tot": "msg"
	}, {
		"t": "set",
		"p": "integrator",
		"pt": "flow",
		"to": "integrator",
		"tot": "msg"
	}, {
		"t": "set",
		"p": "output",
		"pt": "msg",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "target",
		"pt": "msg",
		"to": "bk_target",
		"tot": "flow"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 300,
	"y": 1140,
	"wires": [
		["77ba352b.bca7ec"]
	]
}, {
	"id": "88d78d89.ee6d4",
	"type": "link out",
	"z": "2962835d.bea9ec",
	"name": "Boil PID display",
	"links": ["5285e8f7.b9ad08", "eda67ad.0cd1d88", "60c78193.93746", "da64d6ff.21e4e8"],
	"x": 595,
	"y": 40,
	"wires": []
}, {
	"id": "7abea364.5c8d1c",
	"type": "ui_text",
	"z": "cc173848.876858",
	"group": "284149c2.f30d46",
	"order": 3,
	"width": "2",
	"height": "1",
	"name": "BK element output",
	"label": "Output",
	"format": "{{payload | number:0}}﹪",
	"layout": "col-center",
	"x": 590,
	"y": 280,
	"wires": []
}, {
	"id": "f7f7740b.445018",
	"type": "ui_text",
	"z": "cc173848.876858",
	"group": "b1fdabcf.8edfb8",
	"order": 3,
	"width": 2,
	"height": 1,
	"name": "RIMS element output",
	"label": "Output",
	"format": "{{payload | number:0}}٪",
	"layout": "col-center",
	"x": 600,
	"y": 120,
	"wires": []
}, {
	"id": "1aae4530.b4fb6b",
	"type": "link in",
	"z": "144c7ed2.a26d41",
	"name": "Button click",
	"links": ["354feffb.3f649", "7ec6fef3.aa42f"],
	"x": 195,
	"y": 1660,
	"wires": [
		["f0526c8f.beaed", "bf52fa23.1137c8"]
	]
}, {
	"id": "2d6b9b81.384c74",
	"type": "link in",
	"z": "144c7ed2.a26d41",
	"name": "Off button",
	"links": ["354feffb.3f649", "86c7ef62.7d8c5"],
	"x": 195,
	"y": 1520,
	"wires": [
		["a2893eb8.31587"]
	]
}, {
	"id": "86c7ef62.7d8c5",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "Initializations",
	"links": ["d19751fe.36479", "e070fd8c.350c1", "356375ad.74419a", "2d6b9b81.384c74"],
	"x": 355,
	"y": 1280,
	"wires": []
}, {
	"id": "7a3bafa3.b4e1b",
	"type": "change",
	"z": "89f85d32.4f9b3",
	"name": "pid - off colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "grey",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 500,
	"y": 360,
	"wires": [
		["9fcd4e54.16ed4"]
	]
}, {
	"id": "283107aa.724108",
	"type": "change",
	"z": "89f85d32.4f9b3",
	"name": "pid - on colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "#424242",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 500,
	"y": 320,
	"wires": [
		["9fcd4e54.16ed4"]
	]
}, {
	"id": "ca3dd730.a46e88",
	"type": "switch",
	"z": "89f85d32.4f9b3",
	"name": "",
	"property": "rims_on",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 330,
	"y": 340,
	"wires": [
		["283107aa.724108"],
		["7a3bafa3.b4e1b"]
	]
}, {
	"id": "7c2b9f3c.d2518",
	"type": "delay",
	"z": "89f85d32.4f9b3",
	"name": "delay",
	"pauseType": "delay",
	"timeout": "0.2",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 290,
	"y": 300,
	"wires": [
		["ca3dd730.a46e88"]
	]
}, {
	"id": "9fcd4e54.16ed4",
	"type": "link out",
	"z": "89f85d32.4f9b3",
	"name": "PID button colour",
	"links": ["dd82c12c.3a693"],
	"x": 635,
	"y": 340,
	"wires": []
}, {
	"id": "dd71047d.51d878",
	"type": "change",
	"z": "89f85d32.4f9b3",
	"name": "off colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "#424242",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 480,
	"y": 560,
	"wires": [
		["f6c55771.b59dd8"]
	]
}, {
	"id": "9e6463ba.11ad9",
	"type": "change",
	"z": "89f85d32.4f9b3",
	"name": "on colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "grey",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 480,
	"y": 520,
	"wires": [
		["f6c55771.b59dd8"]
	]
}, {
	"id": "64e83c50.960c04",
	"type": "switch",
	"z": "89f85d32.4f9b3",
	"name": "",
	"property": "rims_on",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 330,
	"y": 540,
	"wires": [
		["9e6463ba.11ad9"],
		["dd71047d.51d878"]
	]
}, {
	"id": "2afb7da1.c3c292",
	"type": "delay",
	"z": "89f85d32.4f9b3",
	"name": "delay",
	"pauseType": "delay",
	"timeout": "0.2",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 290,
	"y": 500,
	"wires": [
		["64e83c50.960c04"]
	]
}, {
	"id": "f6c55771.b59dd8",
	"type": "link out",
	"z": "89f85d32.4f9b3",
	"name": "Off button colour",
	"links": ["1935f939.d4427f", "5aacd5f4.76ca9c"],
	"x": 595,
	"y": 540,
	"wires": []
}, {
	"id": "e2ef3c7d.c001d",
	"type": "link in",
	"z": "89f85d32.4f9b3",
	"name": "Button click",
	"links": ["354feffb.3f649", "7ec6fef3.aa42f", "981a7d03.f1607"],
	"x": 175,
	"y": 500,
	"wires": [
		["2afb7da1.c3c292"]
	]
}, {
	"id": "fa6847dc.89e5a8",
	"type": "ui_button",
	"z": "89f85d32.4f9b3",
	"name": "",
	"group": "295da4af.6ca11c",
	"order": 8,
	"width": 2,
	"height": 1,
	"passthru": false,
	"label": "Off",
	"tooltip": "",
	"color": "",
	"bgcolor": "{{colour}}",
	"icon": "",
	"payload": "false",
	"payloadType": "bool",
	"topic": "",
	"x": 290,
	"y": 140,
	"wires": [
		["354feffb.3f649"]
	]
}, {
	"id": "321d9656.03a57a",
	"type": "ui_button",
	"z": "89f85d32.4f9b3",
	"name": "",
	"group": "295da4af.6ca11c",
	"order": 3,
	"width": 2,
	"height": 1,
	"passthru": false,
	"label": "PID",
	"tooltip": "",
	"color": "",
	"bgcolor": "{{colour}}",
	"icon": "",
	"payload": "true",
	"payloadType": "bool",
	"topic": "",
	"x": 290,
	"y": 60,
	"wires": [
		["7ec6fef3.aa42f"]
	]
}, {
	"id": "354feffb.3f649",
	"type": "link out",
	"z": "89f85d32.4f9b3",
	"name": "Off button",
	"links": ["1aae4530.b4fb6b", "2d6b9b81.384c74", "813395b5.016e08", "3bd0c075.6fa628", "f9982093.cfdf88", "c51c4031.66a098", "9f46c607.caf24", "76148b82.79985c", "44d0cd2b.83654c", "356375ad.74419a", "e3cf13ac.ca50d", "97f42632.921388", "e2ef3c7d.c001d", "70e6284b.8d08f8", "3f1e890f.bccf86"],
	"x": 415,
	"y": 140,
	"wires": []
}, {
	"id": "7ec6fef3.aa42f",
	"type": "link out",
	"z": "89f85d32.4f9b3",
	"name": "PID button",
	"links": ["54c27116.f0fbb8", "65b11f55.0036b", "966c3ae9.d0b678", "6fd789be.f20e6", "67fe4219.31feac", "e2ef3c7d.c001d", "ac9b0385.1a096", "1163aa6f.a466a6", "ac5a3184.ad004", "c443490d.703ff", "4aeae28e.9f0d7c", "70e6284b.8d08f8", "1aae4530.b4fb6b", "3f1e890f.bccf86"],
	"x": 415,
	"y": 60,
	"wires": []
}, {
	"id": "dd82c12c.3a693",
	"type": "link in",
	"z": "89f85d32.4f9b3",
	"name": "PID button colour",
	"links": ["1b75113e.ca613f", "9fcd4e54.16ed4", "f531277b.da7808", "32f18cc9.4aa03c", "e7895fc9.f785", "58885f0e.86303"],
	"x": 175,
	"y": 60,
	"wires": [
		["321d9656.03a57a"]
	]
}, {
	"id": "5aacd5f4.76ca9c",
	"type": "link in",
	"z": "89f85d32.4f9b3",
	"name": "Off button colour",
	"links": ["b3d5d6d9.8bfc8", "f6c55771.b59dd8", "4a0e3c04.89c144"],
	"x": 175,
	"y": 140,
	"wires": [
		["fa6847dc.89e5a8"]
	]
}, {
	"id": "9c1c5436.c7ea78",
	"type": "link in",
	"z": "2962835d.bea9ec",
	"name": "PID button",
	"links": ["89ce3e25.3ad2f8", "4a9ae1c6.ce982"],
	"x": 155,
	"y": 1020,
	"wires": [
		["2063296c.a8ad16"]
	]
}, {
	"id": "e81d3e5d.739c8",
	"type": "link out",
	"z": "2962835d.bea9ec",
	"name": "Boil Try Output",
	"links": ["6066f489.19ea8c"],
	"x": 535,
	"y": 1020,
	"wires": []
}, {
	"id": "4cdafc72.6a7d44",
	"type": "link out",
	"z": "2962835d.bea9ec",
	"name": "Boil Try Output",
	"links": ["6066f489.19ea8c"],
	"x": 535,
	"y": 980,
	"wires": []
}, {
	"id": "ac446811.5bac28",
	"type": "link in",
	"z": "2962835d.bea9ec",
	"name": "Manual button",
	"links": ["ed41478a.5a2028", "757887cc.c03828"],
	"x": 155,
	"y": 1060,
	"wires": [
		["51383221.abb17c"]
	]
}, {
	"id": "cf087c5f.5e283",
	"type": "link in",
	"z": "2962835d.bea9ec",
	"name": "Manual button",
	"links": ["ed41478a.5a2028", "757887cc.c03828"],
	"x": 155,
	"y": 1100,
	"wires": [
		["4382ee82.2f293"]
	]
}, {
	"id": "3f703cb9.38c284",
	"type": "link in",
	"z": "2962835d.bea9ec",
	"name": "Off button",
	"links": ["964f5153.c4021", "11c18a22.2ff07e", "fd8c477a.99a1a"],
	"x": 155,
	"y": 980,
	"wires": [
		["feb5ee97.37d58"]
	]
}, {
	"id": "5f278b5f.603f84",
	"type": "link in",
	"z": "2962835d.bea9ec",
	"name": "Off button",
	"links": ["9e598ada.1a3a98", "d068c868.178e4", "964f5153.c4021", "11c18a22.2ff07e", "fd8c477a.99a1a"],
	"x": 155,
	"y": 1220,
	"wires": [
		["d23072db.fd99"]
	]
}, {
	"id": "15a5aaec.ceb4b5",
	"type": "inject",
	"z": "2962835d.bea9ec",
	"name": "",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": "0.1",
	"topic": "",
	"payload": "",
	"payloadType": "date",
	"x": 130,
	"y": 760,
	"wires": [
		["9e598ada.1a3a98"]
	]
}, {
	"id": "e720135b.5d0f4",
	"type": "link in",
	"z": "2962835d.bea9ec",
	"name": "Off button",
	"links": ["964f5153.c4021", "9e598ada.1a3a98", "11c18a22.2ff07e", "fd8c477a.99a1a"],
	"x": 155,
	"y": 1140,
	"wires": [
		["4382ee82.2f293"]
	]
}, {
	"id": "9e598ada.1a3a98",
	"type": "link out",
	"z": "2962835d.bea9ec",
	"name": "Off button - initialization",
	"links": ["5f278b5f.603f84", "eff10c77.0a4b2", "e720135b.5d0f4"],
	"x": 295,
	"y": 760,
	"wires": []
}, {
	"id": "b316cf95.2bbe4",
	"type": "ui_button",
	"z": "935ab81e.4a4f88",
	"name": "",
	"group": "e0112eb9.cc2e2",
	"order": 5,
	"width": 2,
	"height": 1,
	"passthru": false,
	"label": "Manual",
	"tooltip": "",
	"color": "",
	"bgcolor": "{{colour}}",
	"icon": "",
	"payload": "true",
	"payloadType": "bool",
	"topic": "",
	"x": 300,
	"y": 100,
	"wires": [
		["757887cc.c03828"]
	]
}, {
	"id": "b9ee9b29.89a338",
	"type": "ui_button",
	"z": "935ab81e.4a4f88",
	"name": "",
	"group": "e0112eb9.cc2e2",
	"order": 3,
	"width": 2,
	"height": 1,
	"passthru": false,
	"label": "PID",
	"tooltip": "",
	"color": "",
	"bgcolor": "{{colour}}",
	"icon": "",
	"payload": "true",
	"payloadType": "bool",
	"topic": "",
	"x": 290,
	"y": 60,
	"wires": [
		["4a9ae1c6.ce982"]
	]
}, {
	"id": "875e5b1b.c4b788",
	"type": "ui_button",
	"z": "935ab81e.4a4f88",
	"name": "",
	"group": "e0112eb9.cc2e2",
	"order": 8,
	"width": 2,
	"height": 1,
	"passthru": false,
	"label": "Off",
	"tooltip": "",
	"color": "",
	"bgcolor": "{{colour}}",
	"icon": "",
	"payload": "false",
	"payloadType": "bool",
	"topic": "",
	"x": 290,
	"y": 140,
	"wires": [
		["964f5153.c4021"]
	]
}, {
	"id": "51ccc4df.a66a5c",
	"type": "link in",
	"z": "935ab81e.4a4f88",
	"name": "PID button colour",
	"links": ["191427d4.2d9188", "cd8fd53.01d4928"],
	"x": 175,
	"y": 60,
	"wires": [
		["b9ee9b29.89a338"]
	]
}, {
	"id": "706edb4e.87f0c4",
	"type": "link in",
	"z": "935ab81e.4a4f88",
	"name": "Manual button colour",
	"links": ["a4d8a044.26357"],
	"x": 175,
	"y": 100,
	"wires": [
		["b316cf95.2bbe4"]
	]
}, {
	"id": "d9f8f7f0.dbf858",
	"type": "link in",
	"z": "935ab81e.4a4f88",
	"name": "Off button colour",
	"links": ["c4e7347c.efb198"],
	"x": 175,
	"y": 140,
	"wires": [
		["875e5b1b.c4b788"]
	]
}, {
	"id": "4a9ae1c6.ce982",
	"type": "link out",
	"z": "935ab81e.4a4f88",
	"name": "PID button",
	"links": ["9c1c5436.c7ea78", "1fc8878e.468208", "686069af.650368", "3df89ca2.b18194"],
	"x": 415,
	"y": 60,
	"wires": []
}, {
	"id": "757887cc.c03828",
	"type": "link out",
	"z": "935ab81e.4a4f88",
	"name": "Manual button",
	"links": ["1fc8878e.468208", "ac446811.5bac28", "cf087c5f.5e283", "686069af.650368", "3df89ca2.b18194"],
	"x": 415,
	"y": 100,
	"wires": []
}, {
	"id": "964f5153.c4021",
	"type": "link out",
	"z": "935ab81e.4a4f88",
	"name": "Off button",
	"links": ["e720135b.5d0f4", "1fc8878e.468208", "686069af.650368", "5f278b5f.603f84", "3df89ca2.b18194", "3f703cb9.38c284"],
	"x": 415,
	"y": 140,
	"wires": []
}, {
	"id": "356375ad.74419a",
	"type": "link in",
	"z": "144c7ed2.a26d41",
	"name": "Off button",
	"links": ["354feffb.3f649", "86c7ef62.7d8c5"],
	"x": 195,
	"y": 1560,
	"wires": [
		["70a3397f.c217e8"]
	]
}, {
	"id": "c5d478ce.2a46d8",
	"type": "delay",
	"z": "935ab81e.4a4f88",
	"name": "delay",
	"pauseType": "delay",
	"timeout": "0.2",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 290,
	"y": 300,
	"wires": [
		["d652e259.a7b3b"]
	]
}, {
	"id": "191427d4.2d9188",
	"type": "link out",
	"z": "935ab81e.4a4f88",
	"name": "PID button colour",
	"links": ["51ccc4df.a66a5c"],
	"x": 735,
	"y": 320,
	"wires": []
}, {
	"id": "1fc8878e.468208",
	"type": "link in",
	"z": "935ab81e.4a4f88",
	"name": "Button click",
	"links": ["757887cc.c03828", "964f5153.c4021", "4a9ae1c6.ce982", "11c18a22.2ff07e", "fd8c477a.99a1a"],
	"x": 175,
	"y": 300,
	"wires": [
		["c5d478ce.2a46d8"]
	]
}, {
	"id": "478eea06.517d94",
	"type": "change",
	"z": "935ab81e.4a4f88",
	"name": "off colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "grey",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 600,
	"y": 440,
	"wires": [
		["a4d8a044.26357"]
	]
}, {
	"id": "e50e917a.ac92f",
	"type": "change",
	"z": "935ab81e.4a4f88",
	"name": "on colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "#424242",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 600,
	"y": 400,
	"wires": [
		["a4d8a044.26357"]
	]
}, {
	"id": "3cdf2f3d.812b4",
	"type": "switch",
	"z": "935ab81e.4a4f88",
	"name": "",
	"property": "bk_on",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 330,
	"y": 440,
	"wires": [
		["3e0aa816.bc31a8"],
		["478eea06.517d94"]
	]
}, {
	"id": "b9e24ac0.ad4e78",
	"type": "delay",
	"z": "935ab81e.4a4f88",
	"name": "delay",
	"pauseType": "delay",
	"timeout": "0.2",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 290,
	"y": 400,
	"wires": [
		["3cdf2f3d.812b4"]
	]
}, {
	"id": "a4d8a044.26357",
	"type": "link out",
	"z": "935ab81e.4a4f88",
	"name": "Manual button colour",
	"links": ["706edb4e.87f0c4"],
	"x": 715,
	"y": 420,
	"wires": []
}, {
	"id": "48c462ac.b448cc",
	"type": "change",
	"z": "935ab81e.4a4f88",
	"name": "off colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "#424242",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 460,
	"y": 560,
	"wires": [
		["c4e7347c.efb198"]
	]
}, {
	"id": "fed7c425.9809d8",
	"type": "change",
	"z": "935ab81e.4a4f88",
	"name": "on colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "grey",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 460,
	"y": 520,
	"wires": [
		["c4e7347c.efb198"]
	]
}, {
	"id": "aad9d7a.7213e28",
	"type": "switch",
	"z": "935ab81e.4a4f88",
	"name": "",
	"property": "bk_on",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 310,
	"y": 540,
	"wires": [
		["fed7c425.9809d8"],
		["48c462ac.b448cc"]
	]
}, {
	"id": "f0109808.e56638",
	"type": "delay",
	"z": "935ab81e.4a4f88",
	"name": "delay",
	"pauseType": "delay",
	"timeout": "0.2",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 290,
	"y": 500,
	"wires": [
		["aad9d7a.7213e28"]
	]
}, {
	"id": "c4e7347c.efb198",
	"type": "link out",
	"z": "935ab81e.4a4f88",
	"name": "Off button colour",
	"links": ["d9f8f7f0.dbf858", "3e0efd1.4d98882", "c98ea849.baf91"],
	"x": 575,
	"y": 540,
	"wires": []
}, {
	"id": "3e0aa816.bc31a8",
	"type": "switch",
	"z": "935ab81e.4a4f88",
	"name": "",
	"property": "bk_pid",
	"propertyType": "global",
	"rules": [{
		"t": "false"
	}, {
		"t": "true"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 450,
	"y": 420,
	"wires": [
		["e50e917a.ac92f"],
		["478eea06.517d94"]
	]
}, {
	"id": "d652e259.a7b3b",
	"type": "switch",
	"z": "935ab81e.4a4f88",
	"name": "",
	"property": "bk_on",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 330,
	"y": 340,
	"wires": [
		["f7a0ea3f.fa07e8"],
		["db124246.7eca3"]
	]
}, {
	"id": "f7a0ea3f.fa07e8",
	"type": "switch",
	"z": "935ab81e.4a4f88",
	"name": "",
	"property": "bk_pid",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 470,
	"y": 320,
	"wires": [
		["f9e3a5d.c8a7b58"],
		["db124246.7eca3"]
	]
}, {
	"id": "f9e3a5d.c8a7b58",
	"type": "change",
	"z": "935ab81e.4a4f88",
	"name": "on colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "#424242",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 620,
	"y": 300,
	"wires": [
		["191427d4.2d9188"]
	]
}, {
	"id": "db124246.7eca3",
	"type": "change",
	"z": "935ab81e.4a4f88",
	"name": "off colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "grey",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 620,
	"y": 340,
	"wires": [
		["191427d4.2d9188"]
	]
}, {
	"id": "eff10c77.0a4b2",
	"type": "link in",
	"z": "2962835d.bea9ec",
	"name": "Off button - initialization",
	"links": ["9e598ada.1a3a98"],
	"x": 155,
	"y": 940,
	"wires": [
		["82fe1b6c.b7a008"]
	]
}, {
	"id": "82fe1b6c.b7a008",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "bk_lock, bk_on, bk_pid, bk_try = false",
	"rules": [{
		"t": "set",
		"p": "bk_lock",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}, {
		"t": "set",
		"p": "bk_on",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}, {
		"t": "set",
		"p": "bk_pid",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}, {
		"t": "set",
		"p": "bk_try",
		"pt": "flow",
		"to": "false",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 370,
	"y": 940,
	"wires": [
		[]
	]
}, {
	"id": "3df89ca2.b18194",
	"type": "link in",
	"z": "935ab81e.4a4f88",
	"name": "Button click",
	"links": ["757887cc.c03828", "964f5153.c4021", "4a9ae1c6.ce982", "11c18a22.2ff07e", "fd8c477a.99a1a"],
	"x": 175,
	"y": 400,
	"wires": [
		["b9e24ac0.ad4e78"]
	]
}, {
	"id": "686069af.650368",
	"type": "link in",
	"z": "935ab81e.4a4f88",
	"name": "Button click",
	"links": ["757887cc.c03828", "964f5153.c4021", "4a9ae1c6.ce982", "11c18a22.2ff07e", "fd8c477a.99a1a"],
	"x": 175,
	"y": 500,
	"wires": [
		["f0109808.e56638"]
	]
}, {
	"id": "70e6284b.8d08f8",
	"type": "link in",
	"z": "89f85d32.4f9b3",
	"name": "Button click",
	"links": ["354feffb.3f649", "7ec6fef3.aa42f", "981a7d03.f1607"],
	"x": 175,
	"y": 300,
	"wires": [
		["7c2b9f3c.d2518"]
	]
}, {
	"id": "1a146006.0a471",
	"type": "link in",
	"z": "89f85d32.4f9b3",
	"name": "Button initialization",
	"links": ["37be73ff.161cfc", "e63a332.88bf8d", "f51c265.a6e8358"],
	"x": 175,
	"y": 540,
	"wires": [
		["64e83c50.960c04"]
	]
}, {
	"id": "e8066706.002df8",
	"type": "link in",
	"z": "89f85d32.4f9b3",
	"name": "Button initialization",
	"links": ["dad1a3f8.75b93", "e63a332.88bf8d", "37be73ff.161cfc"],
	"x": 175,
	"y": 340,
	"wires": [
		["ca3dd730.a46e88"]
	]
}, {
	"id": "202889a5.55c696",
	"type": "link in",
	"z": "935ab81e.4a4f88",
	"name": "Button initialization",
	"links": ["a902d194.51df48", "9e4ec12d.1109e"],
	"x": 175,
	"y": 340,
	"wires": [
		["d652e259.a7b3b"]
	]
}, {
	"id": "652d99d.f253668",
	"type": "inject",
	"z": "144c7ed2.a26d41",
	"name": "",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "",
	"payloadType": "date",
	"x": 170,
	"y": 1280,
	"wires": [
		["86c7ef62.7d8c5"]
	]
}, {
	"id": "e070fd8c.350c1",
	"type": "link in",
	"z": "144c7ed2.a26d41",
	"name": "Global initializations",
	"links": ["86c7ef62.7d8c5"],
	"x": 195,
	"y": 1440,
	"wires": [
		["a3be7a47.76eb98"]
	]
}, {
	"id": "4c42ab55.75b624",
	"type": "link in",
	"z": "935ab81e.4a4f88",
	"name": "Button initialization",
	"links": ["a902d194.51df48", "9e4ec12d.1109e"],
	"x": 175,
	"y": 440,
	"wires": [
		["3cdf2f3d.812b4"]
	]
}, {
	"id": "5a0fa3ed.2136cc",
	"type": "link in",
	"z": "935ab81e.4a4f88",
	"name": "Button initialization",
	"links": ["a902d194.51df48", "9e4ec12d.1109e"],
	"x": 175,
	"y": 540,
	"wires": [
		["aad9d7a.7213e28"]
	]
}, {
	"id": "5216ca89.657b34",
	"type": "ui_ui_control",
	"z": "935ab81e.4a4f88",
	"name": "Dashboard connection",
	"x": 260,
	"y": 220,
	"wires": [
		["9e4ec12d.1109e"]
	]
}, {
	"id": "9e4ec12d.1109e",
	"type": "link out",
	"z": "935ab81e.4a4f88",
	"name": "Button initialization on connection",
	"links": ["202889a5.55c696", "5a0fa3ed.2136cc", "4c42ab55.75b624"],
	"x": 415,
	"y": 220,
	"wires": []
}, {
	"id": "56d63b35.c5d6f4",
	"type": "ui_ui_control",
	"z": "89f85d32.4f9b3",
	"name": "Dashboard connection",
	"x": 260,
	"y": 220,
	"wires": [
		["37be73ff.161cfc"]
	]
}, {
	"id": "37be73ff.161cfc",
	"type": "link out",
	"z": "89f85d32.4f9b3",
	"name": "Button initialization on connection",
	"links": ["e8066706.002df8", "1a146006.0a471", "26c04594.fa7b3a"],
	"x": 415,
	"y": 220,
	"wires": []
}, {
	"id": "a5c55189.b48ea",
	"type": "ui_slider",
	"z": "144c7ed2.a26d41",
	"name": "Mash target slider",
	"label": "Target",
	"tooltip": "",
	"group": "295da4af.6ca11c",
	"order": 22,
	"width": 6,
	"height": 1,
	"passthru": true,
	"outs": "all",
	"topic": "",
	"min": "20",
	"max": "90",
	"step": "1",
	"x": 390,
	"y": 340,
	"wires": [
		["e141f296.b63b", "56df7c53.799934"]
	]
}, {
	"id": "6384dde4.9be824",
	"type": "ui_slider",
	"z": "2962835d.bea9ec",
	"name": "Kettle target slider",
	"label": "Target",
	"tooltip": "",
	"group": "e0112eb9.cc2e2",
	"order": 15,
	"width": 0,
	"height": 0,
	"passthru": true,
	"outs": "all",
	"topic": "",
	"min": "20",
	"max": "100",
	"step": "1",
	"x": 190,
	"y": 340,
	"wires": [
		["f4a2a4ae.d80848", "e1db63a8.6a0be", "d397fb71.3ffaf8"]
	]
}, {
	"id": "5aa9bf3a.75f71",
	"type": "ui_slider",
	"z": "2962835d.bea9ec",
	"name": "Manual duty slider",
	"label": "Manual",
	"tooltip": "",
	"group": "e0112eb9.cc2e2",
	"order": 16,
	"width": 0,
	"height": 0,
	"passthru": true,
	"outs": "all",
	"topic": "",
	"min": "20",
	"max": "100",
	"step": "1",
	"x": 190,
	"y": 220,
	"wires": [
		["1dfd49c0.44bac6", "3dc17bdd.05f244"]
	]
}, {
	"id": "d55b79d9.16b388",
	"type": "ui_button",
	"z": "89f85d32.4f9b3",
	"name": "",
	"group": "295da4af.6ca11c",
	"order": 5,
	"width": 2,
	"height": 1,
	"passthru": false,
	"label": "Limiter",
	"tooltip": "",
	"color": "",
	"bgcolor": "{{colour}}",
	"icon": "",
	"payload": "true",
	"payloadType": "bool",
	"topic": "",
	"x": 290,
	"y": 100,
	"wires": [
		["981a7d03.f1607"]
	]
}, {
	"id": "d56f32b5.65f8",
	"type": "change",
	"z": "89f85d32.4f9b3",
	"name": "limiter - off colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "grey",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 510,
	"y": 460,
	"wires": [
		["d3ce273a.2f9048"]
	]
}, {
	"id": "d27049a4.b59578",
	"type": "change",
	"z": "89f85d32.4f9b3",
	"name": "limiter - on colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "#424242",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 510,
	"y": 420,
	"wires": [
		["d3ce273a.2f9048"]
	]
}, {
	"id": "2562aa45.d64326",
	"type": "switch",
	"z": "89f85d32.4f9b3",
	"name": "",
	"property": "rims_limiter",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 330,
	"y": 440,
	"wires": [
		["d27049a4.b59578"],
		["d56f32b5.65f8"]
	]
}, {
	"id": "6bad053a.138dac",
	"type": "delay",
	"z": "89f85d32.4f9b3",
	"name": "delay",
	"pauseType": "delay",
	"timeout": "0.2",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 290,
	"y": 400,
	"wires": [
		["2562aa45.d64326"]
	]
}, {
	"id": "d3ce273a.2f9048",
	"type": "link out",
	"z": "89f85d32.4f9b3",
	"name": "Limiter button colour",
	"links": ["4f72bfe4.023db"],
	"x": 655,
	"y": 440,
	"wires": []
}, {
	"id": "3f1e890f.bccf86",
	"type": "link in",
	"z": "89f85d32.4f9b3",
	"name": "Button click",
	"links": ["354feffb.3f649", "7ec6fef3.aa42f", "981a7d03.f1607"],
	"x": 175,
	"y": 400,
	"wires": [
		["6bad053a.138dac"]
	]
}, {
	"id": "26c04594.fa7b3a",
	"type": "link in",
	"z": "89f85d32.4f9b3",
	"name": "Button initialization",
	"links": ["37be73ff.161cfc", "f51c265.a6e8358"],
	"x": 175,
	"y": 440,
	"wires": [
		["2562aa45.d64326"]
	]
}, {
	"id": "981a7d03.f1607",
	"type": "link out",
	"z": "89f85d32.4f9b3",
	"name": "PID limiter",
	"links": ["3f1e890f.bccf86", "70e6284b.8d08f8", "e2ef3c7d.c001d", "c0ca8a2f.837c48"],
	"x": 415,
	"y": 100,
	"wires": []
}, {
	"id": "4f72bfe4.023db",
	"type": "link in",
	"z": "89f85d32.4f9b3",
	"name": "Limiter button colour",
	"links": ["d3ce273a.2f9048"],
	"x": 175,
	"y": 100,
	"wires": [
		["d55b79d9.16b388"]
	]
}, {
	"id": "c0ca8a2f.837c48",
	"type": "link in",
	"z": "144c7ed2.a26d41",
	"name": "rims_limiter switcher",
	"links": ["981a7d03.f1607"],
	"x": 195,
	"y": 1380,
	"wires": [
		["95679036.2a5c9"]
	]
}, {
	"id": "95679036.2a5c9",
	"type": "switch",
	"z": "144c7ed2.a26d41",
	"name": "",
	"property": "rims_limiter",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 310,
	"y": 1380,
	"wires": [
		["d531757f.5db858"],
		["bbf339dd.001f28"]
	]
}, {
	"id": "bbf339dd.001f28",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "rims_limiter",
		"pt": "global",
		"to": "true",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 500,
	"y": 1400,
	"wires": [
		["6f45b357.2d758c"]
	]
}, {
	"id": "d19751fe.36479",
	"type": "link in",
	"z": "144c7ed2.a26d41",
	"name": "RIMS try",
	"links": ["86c7ef62.7d8c5", "1344fb35.fa81b5", "9ee9d55b.aec578"],
	"x": 195,
	"y": 1480,
	"wires": [
		["5afdd861.d80ca8"]
	]
}, {
	"id": "5afdd861.d80ca8",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "flow.rims_try = false",
	"rules": [{
		"t": "set",
		"p": "rims_try",
		"pt": "flow",
		"to": "false",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 360,
	"y": 1480,
	"wires": [
		[]
	]
}, {
	"id": "958a923e.2b317",
	"type": "ui_ui_control",
	"z": "6e33811e.10d33",
	"name": "UI navigation",
	"x": 630,
	"y": 380,
	"wires": [
		[]
	]
}, {
	"id": "ef21d440.bed128",
	"type": "ui_button",
	"z": "6e33811e.10d33",
	"name": "",
	"group": "95022c28.729f7",
	"order": 4,
	"width": "6",
	"height": 1,
	"passthru": false,
	"label": "Mash PID",
	"tooltip": "",
	"color": "#757575",
	"bgcolor": "white",
	"icon": "",
	"payload": "3",
	"payloadType": "num",
	"topic": "",
	"x": 100,
	"y": 340,
	"wires": [
		["958a923e.2b317"]
	]
}, {
	"id": "15f822df.90bb6d",
	"type": "ui_button",
	"z": "6e33811e.10d33",
	"name": "",
	"group": "95022c28.729f7",
	"order": 5,
	"width": "6",
	"height": 1,
	"passthru": false,
	"label": "Boil PID",
	"tooltip": "",
	"color": "#757575",
	"bgcolor": "white",
	"icon": "",
	"payload": "4",
	"payloadType": "num",
	"topic": "",
	"x": 100,
	"y": 420,
	"wires": [
		["958a923e.2b317"]
	]
}, {
	"id": "fd77d20f.5f3c2",
	"type": "ui_button",
	"z": "6e33811e.10d33",
	"name": "",
	"group": "b1fdabcf.8edfb8",
	"order": 12,
	"width": 0,
	"height": 0,
	"passthru": false,
	"label": "Back to menu",
	"tooltip": "",
	"color": "#757575",
	"bgcolor": "#e0e0e0",
	"icon": "",
	"payload": "1",
	"payloadType": "num",
	"topic": "",
	"x": 90,
	"y": 380,
	"wires": [
		["958a923e.2b317"]
	]
}, {
	"id": "aad59485.094ab8",
	"type": "ui_button",
	"z": "6e33811e.10d33",
	"name": "",
	"group": "284149c2.f30d46",
	"order": 11,
	"width": 0,
	"height": 0,
	"passthru": false,
	"label": "Back to menu",
	"tooltip": "",
	"color": "#757575",
	"bgcolor": "#e0e0e0",
	"icon": "",
	"payload": "1",
	"payloadType": "num",
	"topic": "",
	"x": 90,
	"y": 460,
	"wires": [
		["958a923e.2b317"]
	]
}, {
	"id": "402b8a2f.d3a324",
	"type": "ui_numeric",
	"z": "144c7ed2.a26d41",
	"name": "",
	"label": "K𝖽",
	"tooltip": "",
	"group": "b1fdabcf.8edfb8",
	"order": 8,
	"width": 4,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value | number:1}}",
	"min": 0,
	"max": "100",
	"step": "0.2",
	"x": 170,
	"y": 660,
	"wires": [
		["5e95943e.d877bc"]
	]
}, {
	"id": "800a5cd6.6863c",
	"type": "ui_numeric",
	"z": "144c7ed2.a26d41",
	"name": "",
	"label": "K𝗂",
	"tooltip": "",
	"group": "b1fdabcf.8edfb8",
	"order": 6,
	"width": 4,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value | number:1}}",
	"min": 0,
	"max": "100",
	"step": "0.2",
	"x": 170,
	"y": 580,
	"wires": [
		["5b162f34.8a856"]
	]
}, {
	"id": "b205f96.f8b2508",
	"type": "ui_numeric",
	"z": "144c7ed2.a26d41",
	"name": "",
	"label": "K𝗉",
	"tooltip": "",
	"group": "b1fdabcf.8edfb8",
	"order": 4,
	"width": 4,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value | number:1}}",
	"min": 0,
	"max": "99",
	"step": "0.2",
	"x": 170,
	"y": 500,
	"wires": [
		["1a981d76.093e63"]
	]
}, {
	"id": "befaa66b.e2c6c8",
	"type": "ui_template",
	"z": "6e33811e.10d33",
	"group": "7fcd2aa7.d77e54",
	"name": "Ensure dashboard is displayed as 3 columns",
	"order": 2,
	"width": 0,
	"height": 0,
	"format": "<style>\n@media only screen and (min-width: 800px) { .masonry-container {\n    width: 1024px;\n}\n</style>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "global",
	"x": 210,
	"y": 60,
	"wires": [
		[]
	]
}, {
	"id": "54a2f1c3.9c03",
	"type": "change",
	"z": "2c9b4a44.736d86",
	"name": "pump - off colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "grey",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 550,
	"y": 400,
	"wires": [
		["4785e962.53a978"]
	]
}, {
	"id": "925f2af0.7bb198",
	"type": "change",
	"z": "2c9b4a44.736d86",
	"name": "pump - on colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "#66cc00",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 550,
	"y": 360,
	"wires": [
		["4785e962.53a978"]
	]
}, {
	"id": "5e31d87.3768b28",
	"type": "switch",
	"z": "2c9b4a44.736d86",
	"name": "Pump state",
	"property": "pump",
	"propertyType": "global",
	"rules": [{
		"t": "eq",
		"v": "1",
		"vt": "num"
	}, {
		"t": "eq",
		"v": "0",
		"vt": "str"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 350,
	"y": 380,
	"wires": [
		["925f2af0.7bb198"],
		["54a2f1c3.9c03"]
	]
}, {
	"id": "f2ab18ca.3c1da8",
	"type": "delay",
	"z": "2c9b4a44.736d86",
	"name": "delay",
	"pauseType": "delay",
	"timeout": "0.2",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 290,
	"y": 340,
	"wires": [
		["5e31d87.3768b28"]
	]
}, {
	"id": "4785e962.53a978",
	"type": "link out",
	"z": "2c9b4a44.736d86",
	"name": "Pump button colour",
	"links": ["1159b5a4.fff5aa"],
	"x": 695,
	"y": 380,
	"wires": []
}, {
	"id": "51449c3e.a62d04",
	"type": "link in",
	"z": "2c9b4a44.736d86",
	"name": "Pump update",
	"links": ["7be20d02.701db4"],
	"x": 175,
	"y": 340,
	"wires": [
		["f2ab18ca.3c1da8"]
	]
}, {
	"id": "802e2c65.3550d",
	"type": "inject",
	"z": "2c9b4a44.736d86",
	"name": "",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "0",
	"payloadType": "num",
	"x": 210,
	"y": 40,
	"wires": [
		["9cb81cf5.c9cdb"]
	]
}, {
	"id": "5d686918.a7fb38",
	"type": "change",
	"z": "2c9b4a44.736d86",
	"name": "Pump update",
	"rules": [{
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "pump",
		"tot": "global"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 320,
	"y": 480,
	"wires": [
		["fbe9525e.8dc5e"]
	]
}, {
	"id": "9e391a87.602978",
	"type": "ui_button",
	"z": "2c9b4a44.736d86",
	"d": true,
	"name": "",
	"group": "7fcd2aa7.d77e54",
	"order": 3,
	"width": 4,
	"height": 1,
	"passthru": false,
	"label": "Pump",
	"tooltip": "",
	"color": "",
	"bgcolor": "{{colour}}",
	"icon": "",
	"payload": "true",
	"payloadType": "bool",
	"topic": "",
	"x": 230,
	"y": 120,
	"wires": [
		["f913bba4.bbd9c8"]
	]
}, {
	"id": "1159b5a4.fff5aa",
	"type": "link in",
	"z": "2c9b4a44.736d86",
	"name": "Pump button colour",
	"links": ["4785e962.53a978"],
	"x": 115,
	"y": 120,
	"wires": [
		["9e391a87.602978"]
	]
}, {
	"id": "3a106d6b.a6fb82",
	"type": "ui_ui_control",
	"z": "2c9b4a44.736d86",
	"name": "Dashboard connection",
	"x": 140,
	"y": 380,
	"wires": [
		["5e31d87.3768b28"]
	]
}, {
	"id": "f913bba4.bbd9c8",
	"type": "switch",
	"z": "2c9b4a44.736d86",
	"name": "Pump state",
	"property": "pump",
	"propertyType": "global",
	"rules": [{
		"t": "eq",
		"v": "0",
		"vt": "str"
	}, {
		"t": "eq",
		"v": "1",
		"vt": "num"
	}],
	"checkall": "false",
	"repair": false,
	"outputs": 2,
	"x": 290,
	"y": 160,
	"wires": [
		["9de92004.6b0ce"],
		["9be5b28e.4d21a"]
	]
}, {
	"id": "66feaf4c.9331c",
	"type": "change",
	"z": "2c9b4a44.736d86",
	"name": "Turn off",
	"rules": [{
		"t": "set",
		"p": "pump",
		"pt": "global",
		"to": "0",
		"tot": "num"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 660,
	"y": 160,
	"wires": [
		["7be20d02.701db4"]
	]
}, {
	"id": "9de92004.6b0ce",
	"type": "change",
	"z": "2c9b4a44.736d86",
	"name": "Turn on",
	"rules": [{
		"t": "set",
		"p": "pump",
		"pt": "global",
		"to": "1",
		"tot": "num"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 660,
	"y": 120,
	"wires": [
		["7be20d02.701db4"]
	]
}, {
	"id": "7be20d02.701db4",
	"type": "link out",
	"z": "2c9b4a44.736d86",
	"name": "Pump update",
	"links": ["51449c3e.a62d04", "41a9434e.a4991c"],
	"x": 775,
	"y": 140,
	"wires": []
}, {
	"id": "9cb81cf5.c9cdb",
	"type": "change",
	"z": "2c9b4a44.736d86",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "pump",
		"pt": "global",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 380,
	"y": 40,
	"wires": [
		[]
	]
}, {
	"id": "41a9434e.a4991c",
	"type": "link in",
	"z": "2c9b4a44.736d86",
	"name": "Pump update",
	"links": ["7be20d02.701db4"],
	"x": 175,
	"y": 480,
	"wires": [
		["5d686918.a7fb38"]
	]
}, {
	"id": "9be5b28e.4d21a",
	"type": "switch",
	"z": "2c9b4a44.736d86",
	"name": "RIMS on?",
	"property": "rims_on",
	"propertyType": "global",
	"rules": [{
		"t": "false"
	}, {
		"t": "true"
	}],
	"checkall": "false",
	"repair": false,
	"outputs": 2,
	"x": 460,
	"y": 180,
	"wires": [
		["66feaf4c.9331c"],
		["cab0b822.2d9908"]
	]
}, {
	"id": "cab0b822.2d9908",
	"type": "change",
	"z": "2c9b4a44.736d86",
	"name": "Conflict message",
	"rules": [{
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "Can not turn off pump while RIMS element is active",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 530,
	"y": 220,
	"wires": [
		["eabe5f77.ec3c2"]
	]
}, {
	"id": "eabe5f77.ec3c2",
	"type": "ui_toast",
	"z": "2c9b4a44.736d86",
	"position": "top right",
	"displayTime": "5",
	"highlight": "",
	"outputs": 0,
	"ok": "OK",
	"cancel": "",
	"topic": "",
	"name": "",
	"x": 570,
	"y": 260,
	"wires": []
}, {
	"id": "cc81bfd9.520fa",
	"type": "ui_text",
	"z": "c15c70f7.06d0d",
	"group": "b1fdabcf.8edfb8",
	"order": 7,
	"width": 2,
	"height": 1,
	"name": "Inner PID Integrator",
	"label": "Integral",
	"format": "{{inner_integrator | number:1}}°C⦁s",
	"layout": "col-center",
	"x": 550,
	"y": 160,
	"wires": []
}, {
	"id": "a011110c.bdb4",
	"type": "ui_text",
	"z": "c15c70f7.06d0d",
	"group": "b1fdabcf.8edfb8",
	"order": 5,
	"width": 2,
	"height": 1,
	"name": "Inner PID Error",
	"label": "Error",
	"format": "{{last_inner_error | number:1}}°C",
	"layout": "col-center",
	"x": 540,
	"y": 120,
	"wires": []
}, {
	"id": "99edbdeb.605cf",
	"type": "ui_text",
	"z": "c15c70f7.06d0d",
	"group": "b1fdabcf.8edfb8",
	"order": 9,
	"width": 2,
	"height": 1,
	"name": "Inner PID Derivative",
	"label": "Derivative",
	"format": "{{inner_derivative | number:1}}°C/s",
	"layout": "col-center",
	"x": 550,
	"y": 200,
	"wires": []
}, {
	"id": "c0500ff3.992f8",
	"type": "link in",
	"z": "c15c70f7.06d0d",
	"name": "Mash PID display",
	"links": ["cd55e50.3328818", "feee744.55b2388"],
	"x": 95,
	"y": 280,
	"wires": [
		["978fb4f4.1af6c8"]
	]
}, {
	"id": "7b2bf845.b1a168",
	"type": "ui_text",
	"z": "c15c70f7.06d0d",
	"group": "284149c2.f30d46",
	"order": 7,
	"width": "2",
	"height": "1",
	"name": "BK PID Integrator",
	"label": "Integral",
	"format": "{{integrator | number:1}}°C⦁s",
	"layout": "col-center",
	"x": 550,
	"y": 560,
	"wires": []
}, {
	"id": "27100939.b03646",
	"type": "ui_text",
	"z": "c15c70f7.06d0d",
	"group": "284149c2.f30d46",
	"order": 5,
	"width": "2",
	"height": "1",
	"name": "BK PID Error",
	"label": "Error",
	"format": "{{last_error | number:1}}°C",
	"layout": "col-center",
	"x": 530,
	"y": 520,
	"wires": []
}, {
	"id": "8eadc1a5.9d8fd",
	"type": "ui_text",
	"z": "c15c70f7.06d0d",
	"group": "284149c2.f30d46",
	"order": 9,
	"width": "2",
	"height": "1",
	"name": "BK PID Derivative",
	"label": "Derivative",
	"format": "{{derivative | number:1}}°C/s",
	"layout": "col-center",
	"x": 550,
	"y": 600,
	"wires": []
}, {
	"id": "60c78193.93746",
	"type": "link in",
	"z": "c15c70f7.06d0d",
	"name": "Boil PID display",
	"links": ["88d78d89.ee6d4", "77ba352b.bca7ec"],
	"x": 95,
	"y": 540,
	"wires": [
		["af563bd6.ed56b8"]
	]
}, {
	"id": "bb3a02aa.e5316",
	"type": "switch",
	"z": "144c7ed2.a26d41",
	"d": true,
	"name": "Check pump",
	"property": "pump",
	"propertyType": "global",
	"rules": [{
		"t": "eq",
		"v": "1",
		"vt": "num"
	}, {
		"t": "eq",
		"v": "0",
		"vt": "num"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 370,
	"y": 1820,
	"wires": [
		["bf52fa23.1137c8"],
		["a9c9bce4.beda5", "9ee9d55b.aec578"]
	]
}, {
	"id": "a9c9bce4.beda5",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "Lock message",
	"rules": [{
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "Can not access RIMS element controls while pump is off",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 640,
	"y": 1840,
	"wires": [
		["200be066.d0a31"]
	]
}, {
	"id": "200be066.d0a31",
	"type": "ui_toast",
	"z": "144c7ed2.a26d41",
	"position": "top right",
	"displayTime": "5",
	"highlight": "",
	"outputs": 0,
	"ok": "OK",
	"cancel": "",
	"topic": "",
	"name": "",
	"x": 690,
	"y": 1900,
	"wires": []
}, {
	"id": "1344fb35.fa81b5",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "RIMS try reset",
	"links": ["d19751fe.36479"],
	"x": 575,
	"y": 1720,
	"wires": []
}, {
	"id": "9ee9d55b.aec578",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "RIMS try reset",
	"links": ["d19751fe.36479"],
	"x": 575,
	"y": 1800,
	"wires": []
}, {
	"id": "4c90113.c40a0f",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "bk_try",
		"pt": "flow",
		"to": "false",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 500,
	"y": 1300,
	"wires": [
		[]
	]
}, {
	"id": "2ab0d161.f5df9e",
	"type": "ui_template",
	"z": "6e33811e.10d33",
	"group": "7fcd2aa7.d77e54",
	"name": "Centre group titles",
	"order": 1,
	"width": 0,
	"height": 0,
	"format": "<style>\n.nr-dashboard-theme ui-card-panel p.nr-dashboard-cardtitle {\n  text-align: center;\n}\nbody {\n  overflow: hidden; /* Hide scrollbars */\n}\n.nr-dashboard-theme ng-scope layout-column {\n  overflow: hidden; /* Hide scrollbars */\n}\n</style>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "global",
	"x": 130,
	"y": 100,
	"wires": [
		[]
	]
}, {
	"id": "f46c6db4.36e97",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "outer_p",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 400,
	"y": 820,
	"wires": [
		[]
	]
}, {
	"id": "6daa9d67.7ef324",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "outer_i",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 400,
	"y": 900,
	"wires": [
		["9f6f6de7.48be4"]
	]
}, {
	"id": "c32012c.dd47ff",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "outer_d",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 400,
	"y": 980,
	"wires": [
		[]
	]
}, {
	"id": "892abfd1.dafbe",
	"type": "inject",
	"z": "144c7ed2.a26d41",
	"name": "Default Outer Kp",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "1",
	"payloadType": "num",
	"x": 170,
	"y": 780,
	"wires": [
		["c5752a61.e04738", "f46c6db4.36e97"]
	]
}, {
	"id": "ec79d0d2.d5df3",
	"type": "inject",
	"z": "144c7ed2.a26d41",
	"name": "Default Outer Ki",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "1",
	"payloadType": "num",
	"x": 160,
	"y": 860,
	"wires": [
		["dd6efcef.f23a7", "6daa9d67.7ef324"]
	]
}, {
	"id": "688c3c1c.5636d4",
	"type": "inject",
	"z": "144c7ed2.a26d41",
	"name": "Default Outer Kd",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "0",
	"payloadType": "num",
	"x": 170,
	"y": 940,
	"wires": [
		["28c9725e.d8b71e", "c32012c.dd47ff"]
	]
}, {
	"id": "a6fbce44.75c6",
	"type": "inject",
	"z": "144c7ed2.a26d41",
	"name": "Default Outer Max",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "8",
	"payloadType": "num",
	"x": 170,
	"y": 1020,
	"wires": [
		["8589be98.76cdf", "82400f42.e29c"]
	]
}, {
	"id": "8589be98.76cdf",
	"type": "ui_numeric",
	"z": "144c7ed2.a26d41",
	"name": "",
	"label": "Max output",
	"tooltip": "",
	"group": "be43c4ec.694b98",
	"order": 12,
	"width": 5,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value | number:1}} Δ°C",
	"min": "1",
	"max": "15",
	"step": 1,
	"x": 190,
	"y": 1060,
	"wires": [
		["82400f42.e29c"]
	]
}, {
	"id": "82400f42.e29c",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "outer_max",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 410,
	"y": 1060,
	"wires": [
		["c7a60b7.bd1aef8"]
	]
}, {
	"id": "28c9725e.d8b71e",
	"type": "ui_numeric",
	"z": "144c7ed2.a26d41",
	"name": "",
	"label": "K𝖽",
	"tooltip": "",
	"group": "be43c4ec.694b98",
	"order": 8,
	"width": 4,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value | number:1}}",
	"min": 0,
	"max": "100",
	"step": "0.2",
	"x": 170,
	"y": 980,
	"wires": [
		["c32012c.dd47ff"]
	]
}, {
	"id": "dd6efcef.f23a7",
	"type": "ui_numeric",
	"z": "144c7ed2.a26d41",
	"name": "",
	"label": "K𝗂",
	"tooltip": "",
	"group": "be43c4ec.694b98",
	"order": 6,
	"width": 4,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value | number:1}}",
	"min": 0,
	"max": "100",
	"step": "0.2",
	"x": 170,
	"y": 900,
	"wires": [
		["6daa9d67.7ef324"]
	]
}, {
	"id": "c5752a61.e04738",
	"type": "ui_numeric",
	"z": "144c7ed2.a26d41",
	"name": "",
	"label": "K𝗉",
	"tooltip": "",
	"group": "be43c4ec.694b98",
	"order": 4,
	"width": 4,
	"height": 1,
	"wrap": false,
	"passthru": false,
	"topic": "",
	"format": "{{value | number:1}}",
	"min": 0,
	"max": "99",
	"step": "0.2",
	"x": 170,
	"y": 820,
	"wires": [
		["f46c6db4.36e97"]
	]
}, {
	"id": "f8cf19c1.b0b7c8",
	"type": "ui_text",
	"z": "c15c70f7.06d0d",
	"group": "be43c4ec.694b98",
	"order": 7,
	"width": 2,
	"height": 1,
	"name": "Outer PID Integrator",
	"label": "Integral",
	"format": "{{outer_integrator | number:1}}°C⦁s",
	"layout": "col-center",
	"x": 560,
	"y": 280,
	"wires": []
}, {
	"id": "c6c343f7.2c1a2",
	"type": "ui_text",
	"z": "c15c70f7.06d0d",
	"group": "be43c4ec.694b98",
	"order": 5,
	"width": 2,
	"height": 1,
	"name": "Outer PID Error",
	"label": "Error",
	"format": "{{last_outer_error | number:1}}°C",
	"layout": "col-center",
	"x": 540,
	"y": 240,
	"wires": []
}, {
	"id": "7b72808b.82189",
	"type": "ui_text",
	"z": "c15c70f7.06d0d",
	"group": "be43c4ec.694b98",
	"order": 9,
	"width": 2,
	"height": 1,
	"name": "Outer PID Derivative",
	"label": "Derivative",
	"format": "{{outer_derivative | number:1}}°C/s",
	"layout": "col-center",
	"x": 560,
	"y": 320,
	"wires": []
}, {
	"id": "b4420814.32e948",
	"type": "link out",
	"z": "a528ee42.6d898",
	"name": "MLT raw temperature",
	"links": ["81f5072c.deaf88", "cea95d8e.95791"],
	"x": 515,
	"y": 380,
	"wires": []
}, {
	"id": "4661b513.5c52bc",
	"type": "link in",
	"z": "144c7ed2.a26d41",
	"name": "RIMS temp",
	"links": ["f16617ea.279868"],
	"x": 75,
	"y": 40,
	"wires": [
		["4ffafd7c.6277f4"]
	]
}, {
	"id": "4ffafd7c.6277f4",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "temp-RIMS",
		"pt": "global",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 220,
	"y": 40,
	"wires": [
		[]
	]
}, {
	"id": "cea95d8e.95791",
	"type": "link in",
	"z": "144c7ed2.a26d41",
	"name": "Mash temp",
	"links": ["b4420814.32e948"],
	"x": 75,
	"y": 80,
	"wires": [
		["be25787f.2f0aa8"]
	]
}, {
	"id": "be25787f.2f0aa8",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "temp-MLT",
		"pt": "global",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 220,
	"y": 80,
	"wires": [
		[]
	]
}, {
	"id": "8e131dfd.afeda",
	"type": "link in",
	"z": "144c7ed2.a26d41",
	"name": "Cascade PID trigger",
	"links": ["80906ad7.3ec488"],
	"x": 75,
	"y": 200,
	"wires": [
		["c52cf12a.2e7c6"]
	]
}, {
	"id": "65dca8ac.6fcd78",
	"type": "delay",
	"z": "a528ee42.6d898",
	"name": "",
	"pauseType": "delay",
	"timeout": "500",
	"timeoutUnits": "milliseconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 330,
	"y": 540,
	"wires": [
		["80906ad7.3ec488"]
	]
}, {
	"id": "80906ad7.3ec488",
	"type": "link out",
	"z": "a528ee42.6d898",
	"name": "PID trigger",
	"links": ["8e131dfd.afeda"],
	"x": 515,
	"y": 540,
	"wires": []
}, {
	"id": "e040bc0a.37d92",
	"type": "function",
	"z": "144c7ed2.a26d41",
	"name": "Cascade PID - integrator max calculation",
	"func": "// brew2 PID algorithm - integrators\n// Justin Angevaare\n// May 2018 - Nov. 2019\n\n// Calculate outer integrator max\n// Output to flow context\nif(flow.get('outer_i')>0.0){\n    flow.set('outer_integrator_max', (flow.get('outer_max')-flow.get('outer_min'))/flow.get('outer_i'))}else {\n        flow.set('outer_integrator_max', 0.0)}\n\n// Get current output max\n// Output to flow context\nif(global.get('rims_limiter')){\n    flow.set('inner_max', flow.get('inner_limit'))}else {\n        flow.set('inner_max', 100)}\n\n// Calculate inner integrator max\n// Output to flow context\nif(flow.get('inner_i')>0.0){\n    flow.set('inner_integrator_max', flow.get('inner_max')/flow.get('inner_i'))}else {\n        flow.set('inner_integrator_max', 0.0)}\n\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 280,
	"y": 140,
	"wires": [
		[]
	]
}, {
	"id": "397174b4.09b2fc",
	"type": "link in",
	"z": "144c7ed2.a26d41",
	"name": "Cascade PID Integrator update",
	"links": ["b097c6ec.5fbe5", "18051f83.51723", "d75d11e.f8f757", "741e52ab.6033ec", "2f03decd.c6137a", "9f6f6de7.48be4", "c871ec46.38db3", "c7a60b7.bd1aef8", "6f45b357.2d758c", "6f289a18.bfc854", "1b062a1e.0d6666"],
	"x": 75,
	"y": 140,
	"wires": [
		["e040bc0a.37d92"]
	]
}, {
	"id": "18051f83.51723",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "Cascade PID Integrator update",
	"links": ["397174b4.09b2fc"],
	"x": 555,
	"y": 580,
	"wires": []
}, {
	"id": "741e52ab.6033ec",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "Cascade PID Integrator update",
	"links": ["397174b4.09b2fc"],
	"x": 555,
	"y": 740,
	"wires": []
}, {
	"id": "9f6f6de7.48be4",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "Cascade PID Integrator update",
	"links": ["397174b4.09b2fc"],
	"x": 555,
	"y": 900,
	"wires": []
}, {
	"id": "c871ec46.38db3",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "Cascade PID Integrator update",
	"links": ["397174b4.09b2fc"],
	"x": 675,
	"y": 1360,
	"wires": []
}, {
	"id": "c7a60b7.bd1aef8",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "Cascade PID Integrator update",
	"links": ["397174b4.09b2fc"],
	"x": 555,
	"y": 1060,
	"wires": []
}, {
	"id": "6f45b357.2d758c",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "Cascade PID Integrator update",
	"links": ["397174b4.09b2fc"],
	"x": 675,
	"y": 1400,
	"wires": []
}, {
	"id": "6f289a18.bfc854",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "Cascade PID Integrator update",
	"links": ["397174b4.09b2fc"],
	"x": 675,
	"y": 1440,
	"wires": []
}, {
	"id": "83f10707.b46bb8",
	"type": "ui_text",
	"z": "a528ee42.6d898",
	"group": "b1fdabcf.8edfb8",
	"order": 1,
	"width": 2,
	"height": 1,
	"name": "RIMS temperature display (raw)",
	"label": "Heater",
	"format": "{{msg.payload | number:1}}°C",
	"layout": "col-center",
	"x": 630,
	"y": 260,
	"wires": []
}, {
	"id": "5a8ac96d.4bb9a8",
	"type": "ui_text",
	"z": "a528ee42.6d898",
	"group": "be43c4ec.694b98",
	"order": 1,
	"width": 2,
	"height": 1,
	"name": "MLT temperature display (raw)",
	"label": "MLT",
	"format": "{{msg.payload | number:1}}°C",
	"layout": "col-center",
	"x": 630,
	"y": 420,
	"wires": []
}, {
	"id": "44379e57.283ab",
	"type": "ui_text",
	"z": "c15c70f7.06d0d",
	"group": "b1fdabcf.8edfb8",
	"order": 2,
	"width": 2,
	"height": 1,
	"name": "Inner Target",
	"label": "Target",
	"format": "{{inner_target | number:1}}°C",
	"layout": "col-center",
	"x": 530,
	"y": 400,
	"wires": []
}, {
	"id": "ee3d8780.2bdd98",
	"type": "ui_text",
	"z": "c15c70f7.06d0d",
	"group": "be43c4ec.694b98",
	"order": 3,
	"width": 2,
	"height": 1,
	"name": "Outer Output",
	"label": "Output",
	"format": "{{outer_output | number:1}} Δ°C",
	"layout": "col-center",
	"x": 530,
	"y": 360,
	"wires": []
}, {
	"id": "e141f296.b63b",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "Mash target slider output",
	"links": ["f94a7b3d.e07818"],
	"x": 555,
	"y": 300,
	"wires": []
}, {
	"id": "86e75b13.af6ba8",
	"type": "switch",
	"z": "c15c70f7.06d0d",
	"name": "",
	"property": "rims_on",
	"propertyType": "global",
	"rules": [{
		"t": "false"
	}],
	"checkall": "true",
	"repair": true,
	"outputs": 1,
	"x": 190,
	"y": 380,
	"wires": [
		["8d9b69e4.df50d8"]
	]
}, {
	"id": "f94a7b3d.e07818",
	"type": "link in",
	"z": "c15c70f7.06d0d",
	"name": "",
	"links": ["e141f296.b63b"],
	"x": 95,
	"y": 380,
	"wires": [
		["86e75b13.af6ba8"]
	]
}, {
	"id": "8d9b69e4.df50d8",
	"type": "change",
	"z": "c15c70f7.06d0d",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "inner_target",
		"pt": "msg",
		"to": "payload",
		"tot": "msg"
	}, {
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 260,
	"y": 420,
	"wires": [
		["44379e57.283ab", "296d03f4.364dbc"]
	]
}, {
	"id": "5f2ab658.9812c8",
	"type": "inject",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"props": [{
		"p": "payload",
		"v": "true",
		"vt": "bool"
	}, {
		"p": "topic",
		"v": "",
		"vt": "string"
	}],
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "true",
	"payloadType": "bool",
	"x": 90,
	"y": 120,
	"wires": [
		["2b3cf7f3.ef4518", "9f5253d6.e8fe9"]
	]
}, {
	"id": "2b3cf7f3.ef4518",
	"type": "change",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "temp_log",
		"pt": "global",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 330,
	"y": 160,
	"wires": [
		[]
	]
}, {
	"id": "9f5253d6.e8fe9",
	"type": "ui_switch",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"label": "Temperature",
	"tooltip": "",
	"group": "5c794850.f51148",
	"order": 2,
	"width": 0,
	"height": 0,
	"passthru": true,
	"decouple": "false",
	"topic": "",
	"style": "",
	"onvalue": "true",
	"onvalueType": "bool",
	"onicon": "",
	"oncolor": "",
	"offvalue": "false",
	"offvalueType": "bool",
	"officon": "",
	"offcolor": "",
	"x": 270,
	"y": 120,
	"wires": [
		["2b3cf7f3.ef4518"]
	]
}, {
	"id": "8ab2907e.2e2a",
	"type": "ui_button",
	"z": "6e33811e.10d33",
	"name": "",
	"group": "95022c28.729f7",
	"order": 1,
	"width": "6",
	"height": 1,
	"passthru": false,
	"label": "General",
	"tooltip": "",
	"color": "#757575",
	"bgcolor": "white",
	"icon": "",
	"payload": "5",
	"payloadType": "num",
	"topic": "",
	"x": 100,
	"y": 180,
	"wires": [
		["958a923e.2b317"]
	]
}, {
	"id": "8c5ec333.efb5d",
	"type": "ui_button",
	"z": "6e33811e.10d33",
	"name": "",
	"group": "5d08e9f.cd39818",
	"order": 20,
	"width": 6,
	"height": 1,
	"passthru": false,
	"label": "Settings",
	"tooltip": "",
	"color": "#757575",
	"bgcolor": "white",
	"icon": "",
	"payload": "1",
	"payloadType": "num",
	"topic": "",
	"x": 100,
	"y": 260,
	"wires": [
		["958a923e.2b317"]
	]
}, {
	"id": "464a2a82.06ab04",
	"type": "ui_button",
	"z": "6e33811e.10d33",
	"name": "",
	"group": "30b5a088.3160e",
	"order": 1,
	"width": 6,
	"height": 1,
	"passthru": false,
	"label": "Back to menu",
	"tooltip": "",
	"color": "#757575",
	"bgcolor": "#e0e0e0",
	"icon": "",
	"payload": "0",
	"payloadType": "num",
	"topic": "",
	"x": 90,
	"y": 220,
	"wires": [
		["958a923e.2b317"]
	]
}, {
	"id": "626c1351.8ed3dc",
	"type": "ui_button",
	"z": "6e33811e.10d33",
	"name": "",
	"group": "95022c28.729f7",
	"order": 7,
	"width": "6",
	"height": "1",
	"passthru": false,
	"label": "Back to main",
	"tooltip": "",
	"color": "#757575",
	"bgcolor": "#e0e0e0",
	"icon": "",
	"payload": "0",
	"payloadType": "num",
	"topic": "",
	"x": 90,
	"y": 300,
	"wires": [
		["958a923e.2b317"]
	]
}, {
	"id": "b85ba60.3b9d458",
	"type": "inject",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"props": [{
		"p": "payload",
		"v": "true",
		"vt": "bool"
	}, {
		"p": "topic",
		"v": "",
		"vt": "string"
	}],
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "true",
	"payloadType": "bool",
	"x": 90,
	"y": 360,
	"wires": [
		["3dd05aa9.35be46", "486912fd.31693c"]
	]
}, {
	"id": "3dd05aa9.35be46",
	"type": "change",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "pid_log",
		"pt": "global",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 330,
	"y": 400,
	"wires": [
		[]
	]
}, {
	"id": "486912fd.31693c",
	"type": "ui_switch",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"label": "PID calculation",
	"tooltip": "",
	"group": "5c794850.f51148",
	"order": 5,
	"width": 0,
	"height": 0,
	"passthru": true,
	"decouple": "false",
	"topic": "",
	"style": "",
	"onvalue": "true",
	"onvalueType": "bool",
	"onicon": "",
	"oncolor": "",
	"offvalue": "false",
	"offvalueType": "bool",
	"officon": "",
	"offcolor": "",
	"x": 280,
	"y": 360,
	"wires": [
		["3dd05aa9.35be46"]
	]
}, {
	"id": "7d979810.e03d78",
	"type": "ui_text",
	"z": "a528ee42.6d898",
	"group": "284149c2.f30d46",
	"order": 1,
	"width": 2,
	"height": 1,
	"name": "BK temperature display (raw)",
	"label": "Kettle",
	"format": "{{msg.payload | number:1}}°C",
	"layout": "col-center",
	"x": 620,
	"y": 100,
	"wires": []
}, {
	"id": "e1db63a8.6a0be",
	"type": "ui_text",
	"z": "2962835d.bea9ec",
	"group": "284149c2.f30d46",
	"order": 2,
	"width": 2,
	"height": 1,
	"name": "Kettle target",
	"label": "Target",
	"format": "{{payload | number:1}}°C",
	"layout": "col-center",
	"x": 710,
	"y": 380,
	"wires": []
}, {
	"id": "25c96973.e5f036",
	"type": "inject",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"props": [{
		"p": "payload",
		"v": "0.25",
		"vt": "num"
	}, {
		"p": "topic",
		"v": "",
		"vt": "string"
	}],
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "0.25",
	"payloadType": "num",
	"x": 90,
	"y": 200,
	"wires": [
		["e6d51c45.a8141", "506b1cc8.1949b4"]
	]
}, {
	"id": "e6d51c45.a8141",
	"type": "change",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "temp_log_delta",
		"pt": "global",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 350,
	"y": 240,
	"wires": [
		[]
	]
}, {
	"id": "454fbf0d.62075",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "temp-BK",
		"pt": "global",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 190,
	"y": 60,
	"wires": [
		[]
	]
}, {
	"id": "3038bf28.1462a",
	"type": "influxdb in",
	"z": "3f1fa76c.ccd768",
	"influxdb": "7e751128.709fe",
	"name": "Find last logged temp in influxdb",
	"query": "",
	"rawOutput": false,
	"precision": "",
	"retentionPolicy": "",
	"x": 440,
	"y": 580,
	"wires": [
		["58c3ec5c.10e994"]
	]
}, {
	"id": "58c3ec5c.10e994",
	"type": "function",
	"z": "3f1fa76c.ccd768",
	"name": "Construct log entry",
	"func": "if(msg.payload.length === 0 || Math.abs(msg.payload[0].last - global.get(msg.topic)) >= global.get(\"temp_log_delta\")){\nmsg.payload = [\n    {\n        measurement: msg.topic,\n        fields: {\n            temperature: global.get(msg.topic),\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg}else {\n    return null\n}",
	"outputs": 1,
	"noerr": 0,
	"x": 430,
	"y": 620,
	"wires": [
		["a6c53773.dae6c8"]
	]
}, {
	"id": "69fd4402.a248dc",
	"type": "function",
	"z": "3f1fa76c.ccd768",
	"name": "Construct query to influxdb",
	"func": "msg.query = `SELECT last(value) FROM \"${msg.topic}\"`\nreturn msg",
	"outputs": 1,
	"noerr": 0,
	"x": 380,
	"y": 540,
	"wires": [
		["3038bf28.1462a"]
	]
}, {
	"id": "7e381a9e.8f1c64",
	"type": "switch",
	"z": "3f1fa76c.ccd768",
	"name": "Temp logging on?",
	"property": "temp_log",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 1,
	"x": 310,
	"y": 500,
	"wires": [
		["69fd4402.a248dc"]
	]
}, {
	"id": "81f5072c.deaf88",
	"type": "link in",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"links": ["b4420814.32e948", "f16617ea.279868", "b1d32d4.2963cd"],
	"x": 175,
	"y": 500,
	"wires": [
		["7e381a9e.8f1c64"]
	]
}, {
	"id": "24efa7b7.209bd8",
	"type": "link in",
	"z": "3f1fa76c.ccd768",
	"name": "Mash PID logger",
	"links": ["cd55e50.3328818", "feee744.55b2388"],
	"x": 175,
	"y": 840,
	"wires": [
		["6975bb30.93f464"]
	]
}, {
	"id": "da64d6ff.21e4e8",
	"type": "link in",
	"z": "3f1fa76c.ccd768",
	"name": "Boil PID logger",
	"links": ["88d78d89.ee6d4", "77ba352b.bca7ec"],
	"x": 175,
	"y": 900,
	"wires": [
		["4db77d73.427bd4"]
	]
}, {
	"id": "6975bb30.93f464",
	"type": "switch",
	"z": "3f1fa76c.ccd768",
	"name": "PID logging on?",
	"property": "pid_log",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 1,
	"x": 300,
	"y": 840,
	"wires": [
		["b661b99c.4f3128"]
	]
}, {
	"id": "a2a0c223.c14c",
	"type": "inject",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"props": [{
		"p": "payload",
		"v": "true",
		"vt": "bool"
	}, {
		"p": "topic",
		"v": "",
		"vt": "string"
	}],
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "true",
	"payloadType": "bool",
	"x": 90,
	"y": 280,
	"wires": [
		["e3daf450.3bf638", "d0052b23.2e7678"]
	]
}, {
	"id": "e3daf450.3bf638",
	"type": "change",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "output_log",
		"pt": "global",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 340,
	"y": 320,
	"wires": [
		[]
	]
}, {
	"id": "d0052b23.2e7678",
	"type": "ui_switch",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"label": "GPIO Output",
	"tooltip": "",
	"group": "5c794850.f51148",
	"order": 4,
	"width": 0,
	"height": 0,
	"passthru": true,
	"decouple": "false",
	"topic": "",
	"style": "",
	"onvalue": "true",
	"onvalueType": "bool",
	"onicon": "",
	"oncolor": "",
	"offvalue": "false",
	"offvalueType": "bool",
	"officon": "",
	"offcolor": "",
	"x": 270,
	"y": 280,
	"wires": [
		["e3daf450.3bf638"]
	]
}, {
	"id": "506b1cc8.1949b4",
	"type": "ui_numeric",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"label": "Threshold",
	"tooltip": "",
	"group": "5c794850.f51148",
	"order": 3,
	"width": 0,
	"height": 0,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value}}°C",
	"min": 0,
	"max": "2",
	"step": "0.05",
	"x": 260,
	"y": 200,
	"wires": [
		["e6d51c45.a8141"]
	]
}, {
	"id": "a494024a.50571",
	"type": "function",
	"z": "3f1fa76c.ccd768",
	"name": "Format output for influxdb",
	"func": "msg.payload = [\n    {\n        measurement: \"PID-mash-inner-loop\",\n        fields: {\n            target: msg.inner_target,\n            output: msg.inner_output,\n            error: msg.last_inner_error,\n            integrator: msg.inner_integrator,\n            derivative: msg.inner_derivative,\n            //active: global.get(\"rims_on\"),\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 940,
	"y": 820,
	"wires": [
		["c1bb2651.6ea0a8"]
	]
}, {
	"id": "4db77d73.427bd4",
	"type": "switch",
	"z": "3f1fa76c.ccd768",
	"name": "PID logging on?",
	"property": "pid_log",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 1,
	"x": 300,
	"y": 900,
	"wires": [
		["c6d0a1ef.297d"]
	]
}, {
	"id": "c1bb2651.6ea0a8",
	"type": "influxdb batch",
	"z": "3f1fa76c.ccd768",
	"influxdb": "7e751128.709fe",
	"precision": "",
	"retentionPolicy": "",
	"name": "",
	"x": 1240,
	"y": 920,
	"wires": []
}, {
	"id": "fae908ed.cf42e8",
	"type": "function",
	"z": "3f1fa76c.ccd768",
	"name": "Format output for influxdb",
	"func": "msg.payload = [\n    {\n        measurement: \"PID-boil-main-loop\",\n        fields: {\n            target: msg.target,\n            output: msg.output,\n            error: msg.last_error,\n            integrator: msg.integrator,\n            derivative: msg.derivative,\n            //active: global.get(\"bk_pid\"),\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 940,
	"y": 900,
	"wires": [
		["c1bb2651.6ea0a8"]
	]
}, {
	"id": "434de0f0.fc59d",
	"type": "influxdb batch",
	"z": "3f1fa76c.ccd768",
	"influxdb": "7e751128.709fe",
	"precision": "",
	"retentionPolicy": "",
	"name": "",
	"x": 520,
	"y": 700,
	"wires": []
}, {
	"id": "273c793e.0a5f46",
	"type": "link in",
	"z": "3f1fa76c.ccd768",
	"name": "BK GPIO logger",
	"links": ["30100800.8aa688", "61254f3d.d427f"],
	"x": 175,
	"y": 980,
	"wires": [
		["c01866b8.a5a408"]
	]
}, {
	"id": "97a6c5e8.173568",
	"type": "link in",
	"z": "3f1fa76c.ccd768",
	"name": "RIMS GPIO logger",
	"links": ["753a3990.bdf658", "89c38b88.27c9a8"],
	"x": 175,
	"y": 940,
	"wires": [
		["b8c3377.22234c8"]
	]
}, {
	"id": "b8c3377.22234c8",
	"type": "switch",
	"z": "3f1fa76c.ccd768",
	"name": "Output logging on?",
	"property": "output_log",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 1,
	"x": 310,
	"y": 940,
	"wires": [
		["c9081d73.a972b"]
	]
}, {
	"id": "c01866b8.a5a408",
	"type": "switch",
	"z": "3f1fa76c.ccd768",
	"name": "Output logging on?",
	"property": "output_log",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 1,
	"x": 310,
	"y": 980,
	"wires": [
		["d60df3b3.d483f"]
	]
}, {
	"id": "cdc3380c.e04d38",
	"type": "function",
	"z": "3f1fa76c.ccd768",
	"name": "Format output for influxdb",
	"func": "msg.payload = [\n    {\n        measurement: \"output-RIMS\",\n        fields: {\n            duty: msg.payload,\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 940,
	"y": 940,
	"wires": [
		["c1bb2651.6ea0a8"]
	]
}, {
	"id": "f9a033e8.fd36d",
	"type": "function",
	"z": "3f1fa76c.ccd768",
	"name": "Format output for influxdb",
	"func": "msg.payload = [\n    {\n        measurement: \"output-BK\",\n        fields: {\n            duty: msg.payload,\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 940,
	"y": 980,
	"wires": [
		["c1bb2651.6ea0a8"]
	]
}, {
	"id": "553b4ec3.5b83",
	"type": "ui_text_input",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"label": "Brew label",
	"tooltip": "",
	"group": "5c794850.f51148",
	"order": 1,
	"width": 0,
	"height": 0,
	"passthru": true,
	"mode": "text",
	"delay": 300,
	"topic": "",
	"x": 270,
	"y": 40,
	"wires": [
		["87c9265b.28e568"]
	]
}, {
	"id": "ffaa6aa6.62d938",
	"type": "inject",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"props": [{
		"p": "payload",
		"v": "untitled",
		"vt": "str"
	}, {
		"p": "topic",
		"v": "",
		"vt": "string"
	}],
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "untitled",
	"payloadType": "str",
	"x": 100,
	"y": 40,
	"wires": [
		["553b4ec3.5b83", "87c9265b.28e568"]
	]
}, {
	"id": "87c9265b.28e568",
	"type": "change",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "brew-label",
		"pt": "global",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 360,
	"y": 80,
	"wires": [
		[]
	]
}, {
	"id": "b661b99c.4f3128",
	"type": "delay",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"pauseType": "delay",
	"timeout": "250",
	"timeoutUnits": "milliseconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 510,
	"y": 840,
	"wires": [
		["878ae7ee.fcabd8"]
	]
}, {
	"id": "c6d0a1ef.297d",
	"type": "delay",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"pauseType": "delay",
	"timeout": "250",
	"timeoutUnits": "milliseconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 510,
	"y": 900,
	"wires": [
		["81649740.d54a18"]
	]
}, {
	"id": "c9081d73.a972b",
	"type": "delay",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"pauseType": "delay",
	"timeout": "250",
	"timeoutUnits": "milliseconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 510,
	"y": 940,
	"wires": [
		["a462d345.74dea"]
	]
}, {
	"id": "d60df3b3.d483f",
	"type": "delay",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"pauseType": "delay",
	"timeout": "250",
	"timeoutUnits": "milliseconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 510,
	"y": 980,
	"wires": [
		["5a9510ff.cbf79"]
	]
}, {
	"id": "a6c53773.dae6c8",
	"type": "delay",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"pauseType": "timed",
	"timeout": "10",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "10",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": true,
	"x": 480,
	"y": 660,
	"wires": [
		["434de0f0.fc59d"]
	]
}, {
	"id": "878ae7ee.fcabd8",
	"type": "delay",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"pauseType": "rate",
	"timeout": "10",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "5",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": true,
	"x": 700,
	"y": 840,
	"wires": [
		["a494024a.50571", "65ef7ad6.dc0b94"]
	]
}, {
	"id": "81649740.d54a18",
	"type": "delay",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"pauseType": "rate",
	"timeout": "10",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "5",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": true,
	"x": 700,
	"y": 900,
	"wires": [
		["fae908ed.cf42e8"]
	]
}, {
	"id": "a462d345.74dea",
	"type": "delay",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"pauseType": "rate",
	"timeout": "10",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "5",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": true,
	"x": 700,
	"y": 940,
	"wires": [
		["cdc3380c.e04d38"]
	]
}, {
	"id": "5a9510ff.cbf79",
	"type": "delay",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"pauseType": "rate",
	"timeout": "10",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "5",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": true,
	"x": 700,
	"y": 980,
	"wires": [
		["f9a033e8.fd36d"]
	]
}, {
	"id": "4430df6.651f32",
	"type": "inject",
	"z": "144c7ed2.a26d41",
	"name": "Default Outer Max",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "-2",
	"payloadType": "num",
	"x": 170,
	"y": 1100,
	"wires": [
		["5bbcbe.1ac1f344", "15c9aa24.8c6916"]
	]
}, {
	"id": "5bbcbe.1ac1f344",
	"type": "ui_numeric",
	"z": "144c7ed2.a26d41",
	"name": "",
	"label": "Min output",
	"tooltip": "",
	"group": "be43c4ec.694b98",
	"order": 10,
	"width": 5,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value | number:1}} Δ°C",
	"min": "-10",
	"max": "0",
	"step": 1,
	"x": 190,
	"y": 1140,
	"wires": [
		["15c9aa24.8c6916"]
	]
}, {
	"id": "15c9aa24.8c6916",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "outer_min",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 410,
	"y": 1140,
	"wires": [
		["1b062a1e.0d6666"]
	]
}, {
	"id": "1b062a1e.0d6666",
	"type": "link out",
	"z": "144c7ed2.a26d41",
	"name": "Cascade PID Integrator update",
	"links": ["397174b4.09b2fc"],
	"x": 555,
	"y": 1140,
	"wires": []
}, {
	"id": "65ef7ad6.dc0b94",
	"type": "function",
	"z": "3f1fa76c.ccd768",
	"name": "Format output for influxdb",
	"func": "msg.payload = [\n    {\n        measurement: \"PID-mash-outer-loop\",\n        fields: {\n            target: msg.outer_target,\n            output: msg.outer_output,\n            error: msg.last_outer_error,\n            integrator: msg.outer_integrator,\n            derivative: msg.outer_derivative,\n            //active: global.get(\"rims_on\"),\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 940,
	"y": 860,
	"wires": [
		["c1bb2651.6ea0a8"]
	]
}, {
	"id": "377ea293.f81bbe",
	"type": "ui_dropdown",
	"z": "a1a222f3.873f6",
	"name": "Mash steps",
	"label": "",
	"tooltip": "",
	"place": "",
	"group": "f8b441ed.5e528",
	"order": 2,
	"width": 6,
	"height": 1,
	"passthru": false,
	"options": [{
		"label": "Disabled",
		"value": 0,
		"type": "num"
	}, {
		"label": "1 step",
		"value": "1",
		"type": "str"
	}, {
		"label": "2 step",
		"value": "2",
		"type": "str"
	}, {
		"label": "3 step",
		"value": "3",
		"type": "str"
	}, {
		"label": "4 step",
		"value": "4",
		"type": "str"
	}],
	"payload": "",
	"topic": "",
	"x": 210,
	"y": 360,
	"wires": [
		["ff3a7c5d.1dba4"]
	]
}, {
	"id": "ac8f55fc.90ba98",
	"type": "ui_numeric",
	"z": "a1a222f3.873f6",
	"name": "",
	"label": "Rest 1",
	"tooltip": "",
	"group": "48eabce4.f51924",
	"order": 1,
	"width": 4,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value}}m",
	"min": "1",
	"max": "90",
	"step": 1,
	"x": 190,
	"y": 780,
	"wires": [
		["35e6aa00.10dd56"]
	]
}, {
	"id": "e33056f1.a0a838",
	"type": "ui_numeric",
	"z": "a1a222f3.873f6",
	"name": "",
	"label": "@",
	"tooltip": "",
	"group": "48eabce4.f51924",
	"order": 2,
	"width": 3,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value}}°C",
	"min": "30",
	"max": "80",
	"step": 1,
	"x": 630,
	"y": 780,
	"wires": [
		["c4c13bf1.f791c8"]
	]
}, {
	"id": "9ccf607a.51134",
	"type": "function",
	"z": "a1a222f3.873f6",
	"name": "Show/Hide rests",
	"func": "if(flow.get('mash_steps') === 0){msg.payload = {group:{hide:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"]}}}\nif(flow.get('mash_steps') == 1){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1\"]}}}\nif(flow.get('mash_steps') == 2){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest2\"]}}}\nif(flow.get('mash_steps') == 3){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest3\"]}}}\nif(flow.get('mash_steps') == 4){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest4\"]}}}\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 660,
	"y": 360,
	"wires": [
		["2d95287.509e4d8"]
	]
}, {
	"id": "3e26a582.01e88a",
	"type": "ui_numeric",
	"z": "a1a222f3.873f6",
	"name": "",
	"label": "Rest 4",
	"tooltip": "",
	"group": "e8011944.f47658",
	"order": 1,
	"width": 4,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value}}m",
	"min": "1",
	"max": "90",
	"step": 1,
	"x": 190,
	"y": 1080,
	"wires": [
		["7434c6a5.cc2f48"]
	]
}, {
	"id": "a1985607.41eca8",
	"type": "ui_numeric",
	"z": "a1a222f3.873f6",
	"name": "",
	"label": "@",
	"tooltip": "",
	"group": "e8011944.f47658",
	"order": 2,
	"width": 3,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value}}°C",
	"min": "35",
	"max": "80",
	"step": 1,
	"x": 630,
	"y": 1080,
	"wires": [
		["a74dee1.b7aa01"]
	]
}, {
	"id": "588e6f8f.09198",
	"type": "ui_numeric",
	"z": "a1a222f3.873f6",
	"name": "",
	"label": "Rest 3",
	"tooltip": "",
	"group": "59d85205.b154cc",
	"order": 1,
	"width": 4,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value}}m",
	"min": "1",
	"max": "90",
	"step": 1,
	"x": 190,
	"y": 980,
	"wires": [
		["7f561802.ad28a8"]
	]
}, {
	"id": "86ac5cff.ed877",
	"type": "ui_numeric",
	"z": "a1a222f3.873f6",
	"name": "",
	"label": "@",
	"tooltip": "",
	"group": "59d85205.b154cc",
	"order": 2,
	"width": 3,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value}}°C",
	"min": "35",
	"max": "80",
	"step": 1,
	"x": 630,
	"y": 980,
	"wires": [
		["e212a27.d66046"]
	]
}, {
	"id": "90f8daf.5294428",
	"type": "ui_numeric",
	"z": "a1a222f3.873f6",
	"name": "",
	"label": "Rest 2",
	"tooltip": "",
	"group": "13b755de.e9fafa",
	"order": 1,
	"width": 4,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value}}m",
	"min": "1",
	"max": "90",
	"step": 1,
	"x": 190,
	"y": 880,
	"wires": [
		["28b5cdc5.aa4432"]
	]
}, {
	"id": "426dcf9c.5a446",
	"type": "ui_numeric",
	"z": "a1a222f3.873f6",
	"name": "",
	"label": "@",
	"tooltip": "",
	"group": "13b755de.e9fafa",
	"order": 2,
	"width": 3,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value}}°C",
	"min": "35",
	"max": "80",
	"step": 1,
	"x": 630,
	"y": 880,
	"wires": [
		["4349146d.9486ec"]
	]
}, {
	"id": "8e61338a.7847",
	"type": "inject",
	"z": "a1a222f3.873f6",
	"name": "",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "0",
	"payloadType": "num",
	"x": 150,
	"y": 320,
	"wires": [
		["377ea293.f81bbe", "ff3a7c5d.1dba4"]
	]
}, {
	"id": "e4cbbc51.a981",
	"type": "inject",
	"z": "a1a222f3.873f6",
	"name": "Initialize lengths",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "10",
	"payloadType": "num",
	"x": 180,
	"y": 740,
	"wires": [
		["ac8f55fc.90ba98", "90f8daf.5294428", "588e6f8f.09198", "3e26a582.01e88a", "35e6aa00.10dd56", "28b5cdc5.aa4432", "7f561802.ad28a8", "7434c6a5.cc2f48"]
	]
}, {
	"id": "357fd2c0.75503e",
	"type": "inject",
	"z": "a1a222f3.873f6",
	"name": "Initialize temp",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "35",
	"payloadType": "num",
	"x": 620,
	"y": 740,
	"wires": [
		["e33056f1.a0a838", "426dcf9c.5a446", "86ac5cff.ed877", "a1985607.41eca8", "4349146d.9486ec", "c4c13bf1.f791c8", "e212a27.d66046", "a74dee1.b7aa01"]
	]
}, {
	"id": "ff3a7c5d.1dba4",
	"type": "change",
	"z": "a1a222f3.873f6",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "mash_steps",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 440,
	"y": 360,
	"wires": [
		["9ccf607a.51134", "50693ab.8f84fc4"]
	]
}, {
	"id": "35e6aa00.10dd56",
	"type": "change",
	"z": "a1a222f3.873f6",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "rest1_length",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 280,
	"y": 820,
	"wires": [
		["eba78e3a.6646"]
	]
}, {
	"id": "28b5cdc5.aa4432",
	"type": "change",
	"z": "a1a222f3.873f6",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "rest2_length",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 280,
	"y": 920,
	"wires": [
		["581cd6b5.70aa98"]
	]
}, {
	"id": "e212a27.d66046",
	"type": "change",
	"z": "a1a222f3.873f6",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "rest3_temp",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 710,
	"y": 1020,
	"wires": [
		["89956673.7f4d48"]
	]
}, {
	"id": "7434c6a5.cc2f48",
	"type": "change",
	"z": "a1a222f3.873f6",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "rest4_length",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 280,
	"y": 1120,
	"wires": [
		["f17d3f94.22d9"]
	]
}, {
	"id": "a74dee1.b7aa01",
	"type": "change",
	"z": "a1a222f3.873f6",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "rest4_temp",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 710,
	"y": 1120,
	"wires": [
		["d2d5cf6b.d706a"]
	]
}, {
	"id": "7f561802.ad28a8",
	"type": "change",
	"z": "a1a222f3.873f6",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "rest3_length",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 280,
	"y": 1020,
	"wires": [
		["636bdfa2.3e51e"]
	]
}, {
	"id": "4349146d.9486ec",
	"type": "change",
	"z": "a1a222f3.873f6",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "rest2_temp",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 710,
	"y": 920,
	"wires": [
		["ee947482.e9ba48"]
	]
}, {
	"id": "c4c13bf1.f791c8",
	"type": "change",
	"z": "a1a222f3.873f6",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "rest1_temp",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 710,
	"y": 820,
	"wires": [
		["5e853b99.c89ff4"]
	]
}, {
	"id": "c15d108d.e99cb",
	"type": "ui_dropdown",
	"z": "a1a222f3.873f6",
	"name": "Start time",
	"label": "",
	"tooltip": "",
	"place": "",
	"group": "660a0e3d.781c4",
	"order": 2,
	"width": 5,
	"height": 1,
	"passthru": false,
	"options": [{
		"label": "Start now",
		"value": "now",
		"type": "str"
	}, {
		"label": "Delay start by...",
		"value": "delay",
		"type": "str"
	}, {
		"label": "Resume at...",
		"value": "resume",
		"type": "str"
	}],
	"payload": "",
	"topic": "",
	"x": 200,
	"y": 600,
	"wires": [
		["87b25d9b.81a9"]
	]
}, {
	"id": "34243e64.3c0b82",
	"type": "function",
	"z": "a1a222f3.873f6",
	"name": "Show/Hide scheduler",
	"func": "if(flow.get('mash_start') == \"now\"){\n    msg.payload = {group:{hide:[\"Mash_Schedule_Control2\"]}}}else {\n        msg.payload = {group:{show:[\"Mash_Schedule_Control2\"]}}}\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 640,
	"y": 600,
	"wires": [
		["d3c07f13.bd57c"]
	]
}, {
	"id": "51bd6f4a.36b8b",
	"type": "inject",
	"z": "a1a222f3.873f6",
	"name": "",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "now",
	"payloadType": "str",
	"x": 150,
	"y": 560,
	"wires": [
		["c15d108d.e99cb", "87b25d9b.81a9"]
	]
}, {
	"id": "57279e66.26d38",
	"type": "ui_numeric",
	"z": "a1a222f3.873f6",
	"name": "Minutes",
	"label": "",
	"tooltip": "",
	"group": "e1cd602f.648d9",
	"order": 2,
	"width": 3,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value}}m",
	"min": "0",
	"max": "59",
	"step": 1,
	"x": 300,
	"y": 680,
	"wires": [
		[]
	]
}, {
	"id": "1290da29.01bfd6",
	"type": "ui_numeric",
	"z": "a1a222f3.873f6",
	"name": "Hours",
	"label": "",
	"tooltip": "",
	"group": "e1cd602f.648d9",
	"order": 1,
	"width": 3,
	"height": 1,
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value}}h",
	"min": "0",
	"max": "12",
	"step": 1,
	"x": 150,
	"y": 680,
	"wires": [
		[]
	]
}, {
	"id": "456cc84.befd538",
	"type": "ui_button",
	"z": "a1a222f3.873f6",
	"name": "",
	"group": "a4a8de9a.32912",
	"order": 2,
	"width": 7,
	"height": 1,
	"passthru": false,
	"label": "Run",
	"tooltip": "",
	"color": "",
	"bgcolor": "{{colour}}",
	"icon": "",
	"payload": "true",
	"payloadType": "bool",
	"topic": "",
	"x": 210,
	"y": 1340,
	"wires": [
		["d619d3b8.e54aa"]
	]
}, {
	"id": "25603468.26f31c",
	"type": "ui_button",
	"z": "6e33811e.10d33",
	"name": "",
	"group": "295da4af.6ca11c",
	"order": 25,
	"width": 6,
	"height": 1,
	"passthru": false,
	"label": "Mash Schedule",
	"tooltip": "",
	"color": "#757575",
	"bgcolor": "white",
	"icon": "",
	"payload": "6",
	"payloadType": "num",
	"topic": "",
	"x": 120,
	"y": 500,
	"wires": [
		["958a923e.2b317"]
	]
}, {
	"id": "57eb70ee.6345c",
	"type": "ui_button",
	"z": "6e33811e.10d33",
	"name": "",
	"group": "90643843.e9f368",
	"order": 1,
	"width": 7,
	"height": 1,
	"passthru": false,
	"label": "Back",
	"tooltip": "",
	"color": "#757575",
	"bgcolor": "#e0e0e0",
	"icon": "",
	"payload": "0",
	"payloadType": "num",
	"topic": "",
	"x": 90,
	"y": 540,
	"wires": [
		["958a923e.2b317"]
	]
}, {
	"id": "5daf145e.eb23ec",
	"type": "inject",
	"z": "a1a222f3.873f6",
	"name": "",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "false",
	"payloadType": "bool",
	"x": 350,
	"y": 1300,
	"wires": [
		["6fcba1c9.8a7be"]
	]
}, {
	"id": "d619d3b8.e54aa",
	"type": "switch",
	"z": "a1a222f3.873f6",
	"name": "",
	"property": "scheduler",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 350,
	"y": 1340,
	"wires": [
		["6fcba1c9.8a7be"],
		["4ff02bec.f41aa4"]
	]
}, {
	"id": "6fcba1c9.8a7be",
	"type": "change",
	"z": "a1a222f3.873f6",
	"name": "Switch off",
	"rules": [{
		"t": "set",
		"p": "scheduler",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 500,
	"y": 1320,
	"wires": [
		["5b77b18.408fa5"]
	]
}, {
	"id": "4ff02bec.f41aa4",
	"type": "change",
	"z": "a1a222f3.873f6",
	"name": "Switch on",
	"rules": [{
		"t": "set",
		"p": "scheduler",
		"pt": "global",
		"to": "true",
		"tot": "bool"
	}, {
		"t": "set",
		"p": "click_time",
		"pt": "flow",
		"to": "",
		"tot": "date"
	}, {
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "",
		"tot": "date"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 500,
	"y": 1360,
	"wires": [
		["5b77b18.408fa5"]
	]
}, {
	"id": "8d45335b.700db",
	"type": "change",
	"z": "a1a222f3.873f6",
	"name": "off colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "grey",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 500,
	"y": 1560,
	"wires": [
		["f077e027.dc40b"]
	]
}, {
	"id": "f567c06f.b00b8",
	"type": "change",
	"z": "a1a222f3.873f6",
	"name": "on colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "#66cc00",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 500,
	"y": 1520,
	"wires": [
		["f077e027.dc40b"]
	]
}, {
	"id": "b6e1e19d.cf7b2",
	"type": "switch",
	"z": "a1a222f3.873f6",
	"name": "Scheduler state",
	"property": "scheduler",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 320,
	"y": 1540,
	"wires": [
		["f567c06f.b00b8"],
		["8d45335b.700db"]
	]
}, {
	"id": "55702c2e.96e834",
	"type": "delay",
	"z": "a1a222f3.873f6",
	"name": "delay",
	"pauseType": "delay",
	"timeout": "0.2",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 250,
	"y": 1500,
	"wires": [
		["b6e1e19d.cf7b2"]
	]
}, {
	"id": "f077e027.dc40b",
	"type": "link out",
	"z": "a1a222f3.873f6",
	"name": "Run button colour",
	"links": ["7066c617.f497e8"],
	"x": 615,
	"y": 1540,
	"wires": []
}, {
	"id": "7e63ffb7.4a5e",
	"type": "link in",
	"z": "a1a222f3.873f6",
	"name": "Scheduler update",
	"links": ["5b77b18.408fa5"],
	"x": 135,
	"y": 1500,
	"wires": [
		["55702c2e.96e834"]
	]
}, {
	"id": "5b77b18.408fa5",
	"type": "link out",
	"z": "a1a222f3.873f6",
	"name": "Scheduler update",
	"links": ["7e63ffb7.4a5e", "b254fe7.9f6cd", "9282c38c.06016"],
	"x": 615,
	"y": 1340,
	"wires": []
}, {
	"id": "7066c617.f497e8",
	"type": "link in",
	"z": "a1a222f3.873f6",
	"name": "Run button colour",
	"links": ["f077e027.dc40b"],
	"x": 115,
	"y": 1340,
	"wires": [
		["456cc84.befd538"]
	]
}, {
	"id": "16d33ec6.ee9f21",
	"type": "ui_ui_control",
	"z": "a1a222f3.873f6",
	"name": "Dashboard connection",
	"x": 200,
	"y": 40,
	"wires": [
		["bc4e09b6.3b3668"]
	]
}, {
	"id": "bc4e09b6.3b3668",
	"type": "link out",
	"z": "a1a222f3.873f6",
	"name": "Connection established",
	"links": ["182f18d4.b31347", "1921450e.5f7dcb", "f678dcb9.d5047"],
	"x": 335,
	"y": 40,
	"wires": []
}, {
	"id": "f678dcb9.d5047",
	"type": "link in",
	"z": "a1a222f3.873f6",
	"name": "initialization",
	"links": ["bc4e09b6.3b3668"],
	"x": 175,
	"y": 1540,
	"wires": [
		["b6e1e19d.cf7b2"]
	]
}, {
	"id": "87b25d9b.81a9",
	"type": "change",
	"z": "a1a222f3.873f6",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "mash_start",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 410,
	"y": 600,
	"wires": [
		["34243e64.3c0b82"]
	]
}, {
	"id": "182f18d4.b31347",
	"type": "link in",
	"z": "a1a222f3.873f6",
	"name": "Initialization",
	"links": ["bc4e09b6.3b3668"],
	"x": 475,
	"y": 560,
	"wires": [
		["34243e64.3c0b82"]
	]
}, {
	"id": "1921450e.5f7dcb",
	"type": "link in",
	"z": "a1a222f3.873f6",
	"name": "Initialization",
	"links": ["bc4e09b6.3b3668"],
	"x": 515,
	"y": 320,
	"wires": [
		["9ccf607a.51134"]
	]
}, {
	"id": "58d18cb4.66d244",
	"type": "link in",
	"z": "a1a222f3.873f6",
	"name": "UI dynamics",
	"links": ["2d95287.509e4d8", "d3c07f13.bd57c", "fda473b1.51713", "8baaa2a6.c6868", "3cbb5cc7.3c7574", "f385a8cc.732128", "ff0c1bd4.f6e778"],
	"x": 55,
	"y": 40,
	"wires": [
		["16d33ec6.ee9f21"]
	]
}, {
	"id": "2d95287.509e4d8",
	"type": "link out",
	"z": "a1a222f3.873f6",
	"name": "Rest # selector",
	"links": ["58d18cb4.66d244"],
	"x": 775,
	"y": 360,
	"wires": []
}, {
	"id": "d3c07f13.bd57c",
	"type": "link out",
	"z": "a1a222f3.873f6",
	"name": "Scheduler visibility",
	"links": ["58d18cb4.66d244"],
	"x": 775,
	"y": 600,
	"wires": []
}, {
	"id": "fec7b65f.bf1f28",
	"type": "ui_text",
	"z": "a1a222f3.873f6",
	"group": "5d693476.63b7dc",
	"order": 4,
	"width": 0,
	"height": 0,
	"name": "",
	"label": "Current time",
	"format": "{{msg.payload}}",
	"layout": "row-spread",
	"x": 650,
	"y": 2160,
	"wires": []
}, {
	"id": "16d7aa78.8a1356",
	"type": "inject",
	"z": "a1a222f3.873f6",
	"name": "",
	"repeat": "1",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "",
	"payloadType": "date",
	"x": 290,
	"y": 2160,
	"wires": [
		["fec7b65f.bf1f28"]
	]
}, {
	"id": "94c512fa.1630a",
	"type": "inject",
	"z": "a1a222f3.873f6",
	"name": "",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "",
	"payloadType": "date",
	"x": 210,
	"y": 1960,
	"wires": [
		["99a8fc37.da622"]
	]
}, {
	"id": "99a8fc37.da622",
	"type": "change",
	"z": "a1a222f3.873f6",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "step",
		"pt": "flow",
		"to": "3",
		"tot": "num"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 390,
	"y": 1960,
	"wires": [
		[]
	]
}, {
	"id": "8da5df02.02c8d",
	"type": "ui_text",
	"z": "a1a222f3.873f6",
	"group": "5d693476.63b7dc",
	"order": 5,
	"width": 0,
	"height": 0,
	"name": "",
	"label": "Current target temperature",
	"format": "{{msg.payload}}",
	"layout": "row-spread",
	"x": 700,
	"y": 2200,
	"wires": []
}, {
	"id": "6bda2500.4241ac",
	"type": "inject",
	"z": "a1a222f3.873f6",
	"name": "",
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "50",
	"payloadType": "num",
	"x": 310,
	"y": 2200,
	"wires": [
		["8da5df02.02c8d"]
	]
}, {
	"id": "fc228034.bdef5",
	"type": "ui_text",
	"z": "a1a222f3.873f6",
	"group": "5d693476.63b7dc",
	"order": 1,
	"width": 0,
	"height": 0,
	"name": "Process stage",
	"label": "",
	"format": "{{msg.payload}}",
	"layout": "col-center",
	"x": 660,
	"y": 2000,
	"wires": []
}, {
	"id": "9c63b817.9a4a78",
	"type": "ui_template",
	"z": "e729994b.1bbd18",
	"group": "295da4af.6ca11c",
	"name": "Mash Bolt",
	"order": 2,
	"width": 3,
	"height": 2,
	"format": "<div style=\"overflow-y:visible !important; position:absolute; left:10px\">\n<ng-md-icon icon=\"{{(msg.bk_lock || false) ? 'flash_off' : 'flash_on'}}\" size=130 style=\"{{(msg.rims_on || false) ? 'fill: gold' : 'fill: grey'}}; margin-top:-34px\"></ng-md-icon>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 530,
	"y": 60,
	"wires": [
		[]
	]
}, {
	"id": "8947a9d2.83fc38",
	"type": "link in",
	"z": "e729994b.1bbd18",
	"name": "MLT bolt",
	"links": ["a547d230.e9142", "5e9d6cf4.021044"],
	"x": 55,
	"y": 80,
	"wires": [
		["eae0c5ff.9edc48"]
	]
}, {
	"id": "eae0c5ff.9edc48",
	"type": "change",
	"z": "e729994b.1bbd18",
	"name": "Bolt updates",
	"rules": [{
		"t": "set",
		"p": "rims_lock",
		"pt": "msg",
		"to": "rims_lock",
		"tot": "global"
	}, {
		"t": "set",
		"p": "rims_on",
		"pt": "msg",
		"to": "rims_on",
		"tot": "global"
	}, {
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 350,
	"y": 60,
	"wires": [
		["9c63b817.9a4a78"]
	]
}, {
	"id": "f22acb23.2902f8",
	"type": "ui_template",
	"z": "e729994b.1bbd18",
	"group": "e0112eb9.cc2e2",
	"name": "Boil Bolt",
	"order": 2,
	"width": 3,
	"height": 2,
	"format": "<div style=\"overflow-y:visible !important; position:absolute; left:10px\">\n<ng-md-icon icon=\"{{(msg.rims_lock || false) ? 'flash_off' : 'flash_on'}}\" size=130 style=\"{{(msg.bk_on || false) ? 'fill: gold' : 'fill: grey'}}; margin-top:-34px\"></ng-md-icon>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 520,
	"y": 120,
	"wires": [
		[]
	]
}, {
	"id": "7de8b2ca.c777dc",
	"type": "ui_ui_control",
	"z": "e729994b.1bbd18",
	"name": "Dashboard connection",
	"x": 140,
	"y": 40,
	"wires": [
		["eae0c5ff.9edc48", "ec31f07f.e1bb1", "86d89d81.32d8f"]
	]
}, {
	"id": "1bfc0b29.606e65",
	"type": "ui_template",
	"z": "a1a222f3.873f6",
	"group": "5d693476.63b7dc",
	"name": "Progress bar",
	"order": 2,
	"width": 7,
	"height": 1,
	"format": "<div>\n<md-progress-linear md-mode=\"{{msg.wait ? 'indeterminate' : 'determinate'}}\" value={{msg.payload}}></md-progress-linear>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 650,
	"y": 2040,
	"wires": [
		[]
	]
}, {
	"id": "cbb0b55b.7ccea8",
	"type": "function",
	"z": "a1a222f3.873f6",
	"name": "indeterminate or determinate",
	"func": "if(flow.get('step') in [1, 3, 5, 7]){msg.wait = true} else{\n    msg.wait = false}\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 440,
	"y": 2040,
	"wires": [
		["1bfc0b29.606e65"]
	]
}, {
	"id": "50693ab.8f84fc4",
	"type": "link out",
	"z": "a1a222f3.873f6",
	"name": "",
	"links": ["98208ea4.b95f7", "d0ba8118.2350b"],
	"x": 595,
	"y": 400,
	"wires": []
}, {
	"id": "6a070349.f87ebc",
	"type": "ui_text",
	"z": "a1a222f3.873f6",
	"group": "5d693476.63b7dc",
	"order": 3,
	"width": 0,
	"height": 0,
	"name": "",
	"label": "Total schedule length",
	"format": "{{msg.payload}}m",
	"layout": "row-spread",
	"x": 680,
	"y": 2120,
	"wires": []
}, {
	"id": "d2e5358b.7ea888",
	"type": "function",
	"z": "a1a222f3.873f6",
	"name": "Schedule length",
	"func": "msg.payload = 0.0\nif(flow.get('mash_steps') >= 1){msg.payload += flow.get('rest1_length')}\nif(flow.get('mash_steps') >= 2){msg.payload += flow.get('rest2_length')}\nif(flow.get('mash_steps') >= 3){msg.payload += flow.get('rest3_length')}\nif(flow.get('mash_steps') >= 4){msg.payload += flow.get('rest4_length')}\nflow.set('schedule_length', msg.payload)\nreturn msg;\n",
	"outputs": 1,
	"noerr": 0,
	"x": 280,
	"y": 2120,
	"wires": [
		["6a070349.f87ebc"]
	]
}, {
	"id": "98208ea4.b95f7",
	"type": "link in",
	"z": "a1a222f3.873f6",
	"name": "Update schedule length",
	"links": ["f17d3f94.22d9", "581cd6b5.70aa98", "eba78e3a.6646", "50693ab.8f84fc4", "636bdfa2.3e51e"],
	"x": 135,
	"y": 2120,
	"wires": [
		["d2e5358b.7ea888"]
	]
}, {
	"id": "9f0953ab.fa923",
	"type": "function",
	"z": "a1a222f3.873f6",
	"name": "Plain text process stage",
	"func": "if(flow.get('step') === 0){msg.payload=\"Not running\"}\nif(flow.get('step') == 1){msg.payload=\"Heating to rest 1\"}\nif(flow.get('step') == 2){msg.payload=\"Rest 1\"}\nif(flow.get('step') == 3){msg.payload=\"Heating to rest 2\"}\nif(flow.get('step') == 4){msg.payload=\"Rest 2\"}\nif(flow.get('step') == 5){msg.payload=\"Heating to rest 3\"}\nif(flow.get('step') == 6){msg.payload=\"Rest 3\"}\nif(flow.get('step') == 7){msg.payload=\"Heating to rest 4\"}\nif(flow.get('step') == 8){msg.payload=\"Rest 4\"}\nif(flow.get('step') == 10){msg.payload=\"Mash schedule completed!\"}\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 430,
	"y": 2000,
	"wires": [
		["fc228034.bdef5"]
	]
}, {
	"id": "1e81d634.318f3a",
	"type": "inject",
	"z": "a1a222f3.873f6",
	"name": "",
	"repeat": "2",
	"crontab": "",
	"once": true,
	"onceDelay": "0.5",
	"topic": "",
	"payload": "0",
	"payloadType": "num",
	"x": 190,
	"y": 2000,
	"wires": [
		["9f0953ab.fa923", "cbb0b55b.7ccea8"]
	]
}, {
	"id": "89a7ec10.d4aaa",
	"type": "ui_template",
	"z": "a1a222f3.873f6",
	"group": "45127b38.c16e04",
	"name": "Read only rest1",
	"order": 2,
	"width": 5,
	"height": 1,
	"format": "<div ng-bind-html=\"msg.payload\" style=\"padding-left: 11px; color: grey\"></div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 680,
	"y": 1740,
	"wires": [
		[]
	]
}, {
	"id": "36920944.325f96",
	"type": "function",
	"z": "a1a222f3.873f6",
	"name": "rest1 length and temp",
	"func": "msg.payload = `Rest 1 ${flow.get('rest1_length')}m @ ${flow.get('rest1_temp')}°C`;\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 420,
	"y": 1740,
	"wires": [
		["89a7ec10.d4aaa"]
	]
}, {
	"id": "dfd9b66.8245a48",
	"type": "ui_template",
	"z": "a1a222f3.873f6",
	"group": "db39a8f.fda1458",
	"name": "Read only Mash steps",
	"order": 2,
	"width": 5,
	"height": 1,
	"format": "<div ng-bind-html=\"msg.payload\" style=\"padding-left: 11px; color: grey\"></div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 700,
	"y": 1700,
	"wires": [
		[]
	]
}, {
	"id": "b461411e.693bd",
	"type": "function",
	"z": "a1a222f3.873f6",
	"name": "Read only mash steps text",
	"func": "if(flow.get('mash_steps') === 0){msg.payload = \"Disabled\"}\nif(flow.get('mash_steps') == 1){msg.payload = \"1 step\"}\nif(flow.get('mash_steps') == 2){msg.payload = \"2 step\"}\nif(flow.get('mash_steps') == 3){msg.payload = \"3 step\"}\nif(flow.get('mash_steps') == 4){msg.payload = \"4 step\"}\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 440,
	"y": 1700,
	"wires": [
		["dfd9b66.8245a48"]
	]
}, {
	"id": "680f27a3.bf3348",
	"type": "ui_template",
	"z": "a1a222f3.873f6",
	"group": "bea3a0e7.730da",
	"name": "Read only rest2",
	"order": 2,
	"width": 5,
	"height": 1,
	"format": "<div ng-bind-html=\"msg.payload\" style=\"padding-left: 11px; color: grey\"></div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 680,
	"y": 1780,
	"wires": [
		[]
	]
}, {
	"id": "323f27dd.701f68",
	"type": "ui_template",
	"z": "a1a222f3.873f6",
	"group": "98ac40c6.a3219",
	"name": "Read only rest3",
	"order": 2,
	"width": 5,
	"height": 1,
	"format": "<div ng-bind-html=\"msg.payload\" style=\"padding-left: 11px; color: grey\"></div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 680,
	"y": 1820,
	"wires": [
		[]
	]
}, {
	"id": "ca4f5d21.34913",
	"type": "ui_template",
	"z": "a1a222f3.873f6",
	"group": "96b38561.e23938",
	"name": "Read only rest4",
	"order": 2,
	"width": 5,
	"height": 1,
	"format": "<div ng-bind-html=\"msg.payload\" style=\"padding-left: 11px; color: grey\"></div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 680,
	"y": 1860,
	"wires": [
		[]
	]
}, {
	"id": "b254fe7.9f6cd",
	"type": "link in",
	"z": "a1a222f3.873f6",
	"name": "Scheduler update",
	"links": ["5b77b18.408fa5"],
	"x": 215,
	"y": 1620,
	"wires": [
		["9e93fec0.54859"]
	]
}, {
	"id": "9e93fec0.54859",
	"type": "function",
	"z": "a1a222f3.873f6",
	"name": "UI updates",
	"func": "if(global.get('scheduler')){\n    msg.payload = {group:{show:[\"Mash_Schedule_Control4\", \"Mash_Schedule_MASH_SCHEDULE2\", \"Mash_Schedule_MASH_SCHEDULE\"], hide:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control2\"]}}\n    }else {\n    if(flow.get('mash_start')== \"now\"){\n        msg.payload = {group:{show:[\"Mash_Schedule_MASH_SCHEDULE\", \"Mash_Schedule_Control1\"], hide:[\"Mash_Schedule_MASH_SCHEDULE2\", \"Mash_Schedule_Control4\"]}}\n        }else {\n        msg.payload = {group:{show:[\"Mash_Schedule_MASH_SCHEDULE\", \"Mash_Schedule_Control1\", \"Mash_Schedule_Control2\"], hide:[\"Mash_Schedule_MASH_SCHEDULE2\", \"Mash_Schedule_Control4\"]}}\n        }\n    }\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 390,
	"y": 1620,
	"wires": [
		["f385a8cc.732128"]
	]
}, {
	"id": "f385a8cc.732128",
	"type": "link out",
	"z": "a1a222f3.873f6",
	"name": "Timer visibility",
	"links": ["58d18cb4.66d244"],
	"x": 615,
	"y": 1620,
	"wires": []
}, {
	"id": "d8bc3b6b.7bfb18",
	"type": "function",
	"z": "a1a222f3.873f6",
	"name": "rest2 length and temp",
	"func": "msg.payload = `Rest 2 ${flow.get('rest2_length')}m @ ${flow.get('rest2_temp')}°C`;\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 420,
	"y": 1780,
	"wires": [
		["680f27a3.bf3348"]
	]
}, {
	"id": "43dbcad2.80bde4",
	"type": "function",
	"z": "a1a222f3.873f6",
	"name": "rest3 length and temp",
	"func": "msg.payload = `Rest 3 ${flow.get('rest3_length')}m @ ${flow.get('rest3_temp')}°C`;\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 420,
	"y": 1820,
	"wires": [
		["323f27dd.701f68"]
	]
}, {
	"id": "b438d45f.0a97a8",
	"type": "function",
	"z": "a1a222f3.873f6",
	"name": "rest4 length and temp",
	"func": "msg.payload = `Rest 4 ${flow.get('rest4_length')}m @ ${flow.get('rest4_temp')}°C`;\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"x": 420,
	"y": 1860,
	"wires": [
		["ca4f5d21.34913"]
	]
}, {
	"id": "2ebf0fb3.8a16b",
	"type": "link in",
	"z": "a1a222f3.873f6",
	"name": "rest1 read only",
	"links": ["eba78e3a.6646", "5e853b99.c89ff4"],
	"x": 215,
	"y": 1740,
	"wires": [
		["36920944.325f96"]
	]
}, {
	"id": "ecf3dcec.fba0b",
	"type": "link in",
	"z": "a1a222f3.873f6",
	"name": "rest2 read only",
	"links": ["ee947482.e9ba48", "581cd6b5.70aa98"],
	"x": 215,
	"y": 1780,
	"wires": [
		["d8bc3b6b.7bfb18"]
	]
}, {
	"id": "1f5039bb.19c7b6",
	"type": "link in",
	"z": "a1a222f3.873f6",
	"name": "rest 3 read only",
	"links": ["89956673.7f4d48", "636bdfa2.3e51e"],
	"x": 215,
	"y": 1820,
	"wires": [
		["43dbcad2.80bde4"]
	]
}, {
	"id": "e9df3a35.0f6e28",
	"type": "link in",
	"z": "a1a222f3.873f6",
	"name": "rest4 read only",
	"links": ["f17d3f94.22d9", "d2d5cf6b.d706a"],
	"x": 215,
	"y": 1860,
	"wires": [
		["b438d45f.0a97a8"]
	]
}, {
	"id": "eba78e3a.6646",
	"type": "link out",
	"z": "a1a222f3.873f6",
	"name": "rest1 length",
	"links": ["98208ea4.b95f7", "2ebf0fb3.8a16b"],
	"x": 435,
	"y": 820,
	"wires": []
}, {
	"id": "581cd6b5.70aa98",
	"type": "link out",
	"z": "a1a222f3.873f6",
	"name": "rest2 length",
	"links": ["98208ea4.b95f7", "ecf3dcec.fba0b"],
	"x": 435,
	"y": 920,
	"wires": []
}, {
	"id": "636bdfa2.3e51e",
	"type": "link out",
	"z": "a1a222f3.873f6",
	"name": "rest3 length",
	"links": ["98208ea4.b95f7", "1f5039bb.19c7b6"],
	"x": 435,
	"y": 1020,
	"wires": []
}, {
	"id": "f17d3f94.22d9",
	"type": "link out",
	"z": "a1a222f3.873f6",
	"name": "rest4 length",
	"links": ["98208ea4.b95f7", "e9df3a35.0f6e28"],
	"x": 435,
	"y": 1120,
	"wires": []
}, {
	"id": "5e853b99.c89ff4",
	"type": "link out",
	"z": "a1a222f3.873f6",
	"name": "rest1 temp",
	"links": ["2ebf0fb3.8a16b"],
	"x": 855,
	"y": 820,
	"wires": []
}, {
	"id": "ee947482.e9ba48",
	"type": "link out",
	"z": "a1a222f3.873f6",
	"name": "rest2 temp",
	"links": ["ecf3dcec.fba0b"],
	"x": 855,
	"y": 920,
	"wires": []
}, {
	"id": "89956673.7f4d48",
	"type": "link out",
	"z": "a1a222f3.873f6",
	"name": "rest3 temp",
	"links": ["1f5039bb.19c7b6"],
	"x": 855,
	"y": 1020,
	"wires": []
}, {
	"id": "d2d5cf6b.d706a",
	"type": "link out",
	"z": "a1a222f3.873f6",
	"name": "rest4 temp",
	"links": ["e9df3a35.0f6e28"],
	"x": 855,
	"y": 1120,
	"wires": []
}, {
	"id": "d0ba8118.2350b",
	"type": "link in",
	"z": "a1a222f3.873f6",
	"name": "Mash step readonly",
	"links": ["50693ab.8f84fc4"],
	"x": 215,
	"y": 1700,
	"wires": [
		["b461411e.693bd"]
	]
}, {
	"id": "87f42b0b.aed4b8",
	"type": "function",
	"z": "a1a222f3.873f6",
	"name": "Show read only schedule",
	"func": "if(global.get('scheduler')){\n  if(flow.get('mash_steps') === 0){msg.payload = {group:{hide:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"]}}}\n  if(flow.get('mash_steps') == 1){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1b\"]}}}\n  if(flow.get('mash_steps') == 2){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1b\", \"Mash_Schedule_Rest2b\"]}}}\n  if(flow.get('mash_steps') == 3){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest3b\"]}}}\n  if(flow.get('mash_steps') == 4){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest4b\"]}}}}\nreturn msg;\n",
	"outputs": 1,
	"noerr": 0,
	"x": 430,
	"y": 1660,
	"wires": [
		["ff0c1bd4.f6e778"]
	]
}, {
	"id": "9282c38c.06016",
	"type": "link in",
	"z": "a1a222f3.873f6",
	"name": "Scheduler update",
	"links": ["5b77b18.408fa5"],
	"x": 215,
	"y": 1660,
	"wires": [
		["87f42b0b.aed4b8"]
	]
}, {
	"id": "ff0c1bd4.f6e778",
	"type": "link out",
	"z": "a1a222f3.873f6",
	"name": "Timer visibility",
	"links": ["58d18cb4.66d244"],
	"x": 615,
	"y": 1660,
	"wires": []
}, {
	"id": "953fbff1.cd62e",
	"type": "ui_template",
	"z": "a1a222f3.873f6",
	"group": "b5a34ea1.33c44",
	"name": "",
	"order": 1,
	"width": 0,
	"height": 0,
	"format": "<div style=\"height=0px\"></div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 380,
	"y": 2300,
	"wires": [
		[]
	]
}, {
	"id": "7533083e.8bff38",
	"type": "ui_template",
	"z": "a528ee42.6d898",
	"group": "295da4af.6ca11c",
	"name": "Big RIMS temp",
	"order": 19,
	"width": 2,
	"height": 1,
	"format": "<div style=\"text-align:right; position: absolute; bottom: 0px; width: 80px\">\n<div style=\"text-align:right\">Actual</div>\n<div style=\"margin-top:-5px\">\n<span style=\"font-size:26px\" ng-bind-html=\"msg.payload\"></span>\n<span style=\"font-size:22px\">°C</span>\n</div></div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 760,
	"y": 340,
	"wires": [
		[]
	]
}, {
	"id": "3888dbb1.cfafe4",
	"type": "ui_template",
	"z": "a528ee42.6d898",
	"group": "295da4af.6ca11c",
	"name": "Big MLT temp",
	"order": 16,
	"width": 2,
	"height": 1,
	"format": "<div style=\"text-align:right; position: absolute; bottom: 0px; width: 80px\">\n<div style=\"text-align:right\">Actual</div>\n<div style=\"margin-top:-5px\">\n<span style=\"font-size:26px\" ng-bind-html=\"msg.payload\"></span>\n<span style=\"font-size:22px\">°C</span>\n</div></div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 760,
	"y": 500,
	"wires": [
		[]
	]
}, {
	"id": "63db3c5d.5db6c4",
	"type": "ui_template",
	"z": "a528ee42.6d898",
	"group": "e0112eb9.cc2e2",
	"name": "Big BK temp",
	"order": 12,
	"width": 2,
	"height": 1,
	"format": "<div style=\"text-align:right; position: absolute; bottom: 0px; width: 80px\">\n<div style=\"text-align:right\">Actual</div>\n<div style=\"margin-top:-5px\">\n<span style=\"font-size:26px\" ng-bind-html=\"msg.payload\"></span>\n<span style=\"font-size:22px\">°C</span>\n</div></div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 730,
	"y": 160,
	"wires": [
		[]
	]
}, {
	"id": "9911ef84.eb39c",
	"type": "ui_template",
	"z": "144c7ed2.a26d41",
	"group": "295da4af.6ca11c",
	"name": "Big MLT target",
	"order": 17,
	"width": 2,
	"height": 1,
	"format": "<div style=\"text-align:right; position: absolute; bottom: 0px; width: 80px\">\n<div style=\"text-align:right\">Target</div>\n<div style=\"margin-top:-5px\">\n<span style=\"font-size:26px\" ng-bind-html=\"msg.payload\"></span>\n<span style=\"font-size:22px\">°C</span>\n</div></div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 860,
	"y": 340,
	"wires": [
		[]
	]
}, {
	"id": "49d35966.ea1c98",
	"type": "ui_template",
	"z": "2962835d.bea9ec",
	"group": "e0112eb9.cc2e2",
	"name": "Big BK target",
	"order": 13,
	"width": 2,
	"height": 1,
	"format": "<div style=\"text-align:right; position: absolute; bottom: 0px; width: 80px\">\n<div style=\"text-align:right\">Target</div>\n<div style=\"margin-top:-5px\">\n<span style=\"font-size:26px\" ng-bind-html=\"msg.payload\"></span>\n<span style=\"font-size:22px\">°C</span>\n</div></div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 720,
	"y": 340,
	"wires": [
		[]
	]
}, {
	"id": "296d03f4.364dbc",
	"type": "ui_template",
	"z": "c15c70f7.06d0d",
	"group": "295da4af.6ca11c",
	"name": "Big RIMS target",
	"order": 20,
	"width": 2,
	"height": 1,
	"format": "<div style=\"text-align:right; position: absolute; bottom: 0px; width: 80px\">\n<div style=\"text-align:right\">Target</div>\n<div style=\"margin-top:-5px\">\n<span style=\"font-size:26px\" ng-bind-html=\"msg.payload\"></span>\n<span style=\"font-size:22px\">°C</span>\n</div></div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 540,
	"y": 440,
	"wires": [
		[]
	]
}, {
	"id": "700f5021.f2667",
	"type": "ui_template",
	"z": "a528ee42.6d898",
	"group": "295da4af.6ca11c",
	"name": "Big MLT text",
	"order": 18,
	"width": 2,
	"height": 1,
	"format": "<div style=\"position: absolute; bottom: 0px; right:20px\">\n<span style=\"font-size:26px; font-weight:bold; color:#424242\">MLT</span>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 750,
	"y": 460,
	"wires": [
		[]
	]
}, {
	"id": "c509ed39.121a9",
	"type": "ui_template",
	"z": "a528ee42.6d898",
	"group": "295da4af.6ca11c",
	"name": "Big RIMS text",
	"order": 21,
	"width": 2,
	"height": 1,
	"format": "<div style=\"position: absolute; bottom: 0px; right:20px\">\n<span style=\"font-size:26px; font-weight:bold; color:#424242\">RIMS</span>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 760,
	"y": 300,
	"wires": [
		[]
	]
}, {
	"id": "908d584b.86f268",
	"type": "ui_template",
	"z": "2962835d.bea9ec",
	"group": "e0112eb9.cc2e2",
	"name": "Big Manual duty",
	"order": 14,
	"width": 2,
	"height": 1,
	"format": "<div style=\"text-align:right; position: absolute; bottom: 0px; width: 80px\">\n<div style=\"text-align:right\">Manual</div>\n<div style=\"margin-top:-5px\">\n<span style=\"font-size:26px\" ng-bind-html=\"msg.payload\"></span>\n<span style=\"font-size:22px\">٪</span>\n</div></div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 720,
	"y": 220,
	"wires": [
		[]
	]
}, {
	"id": "7dd9fc51.3ced84",
	"type": "ui_template",
	"z": "cc173848.876858",
	"group": "e0112eb9.cc2e2",
	"name": "Big BK duty text",
	"order": 10,
	"width": 3,
	"height": 1,
	"format": "<div style=\"text-align:right; position: absolute; bottom: 0px; width: 100px\">\n<span style=\"font-size:32px\" ng-bind-html=\"msg.payload\"></span>\n<span style=\"font-size:28px\">٪</span>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 580,
	"y": 240,
	"wires": [
		[]
	]
}, {
	"id": "bb96daad.c87928",
	"type": "ui_template",
	"z": "cc173848.876858",
	"group": "295da4af.6ca11c",
	"name": "Big RIMS duty text",
	"order": 10,
	"width": 3,
	"height": 1,
	"format": "<div style=\"text-align:center; position: absolute; bottom: 0px; width: 100px\">\n<span style=\"font-size:32px\" ng-bind-html=\"msg.payload\"></span>\n<span style=\"font-size:28px\">٪</span>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 590,
	"y": 80,
	"wires": [
		[]
	]
}, {
	"id": "fa88c879.949248",
	"type": "ui_template",
	"z": "6e33811e.10d33",
	"group": "295da4af.6ca11c",
	"name": "Mash module text",
	"order": 1,
	"width": 6,
	"height": 1,
	"format": "<div style=\"text-align:center\">\n<span style=\"font-size:28px; color:#669900\">MASH</span>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 750,
	"y": 100,
	"wires": [
		[]
	]
}, {
	"id": "853fb788.bdcc18",
	"type": "ui_template",
	"z": "6e33811e.10d33",
	"group": "e0112eb9.cc2e2",
	"name": "Boil module text",
	"order": 1,
	"width": 6,
	"height": 1,
	"format": "<div style=\"text-align:center\">\n<span style=\"font-size:28px; color:#669933\">BOIL</span>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 740,
	"y": 140,
	"wires": [
		[]
	]
}, {
	"id": "56df7c53.799934",
	"type": "change",
	"z": "144c7ed2.a26d41",
	"name": "",
	"rules": [{
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 640,
	"y": 340,
	"wires": [
		["9911ef84.eb39c", "66bc60ef.a7647", "6c1236d3.b70bd8"]
	]
}, {
	"id": "3dc17bdd.05f244",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "",
	"rules": [{
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 460,
	"y": 220,
	"wires": [
		["908d584b.86f268"]
	]
}, {
	"id": "d397fb71.3ffaf8",
	"type": "change",
	"z": "2962835d.bea9ec",
	"name": "",
	"rules": [{
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 460,
	"y": 340,
	"wires": [
		["49d35966.ea1c98"]
	]
}, {
	"id": "978fb4f4.1af6c8",
	"type": "change",
	"z": "c15c70f7.06d0d",
	"name": "",
	"rules": [{
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 240,
	"y": 280,
	"wires": [
		["ee3d8780.2bdd98", "44379e57.283ab", "7b72808b.82189", "f8cf19c1.b0b7c8", "c6c343f7.2c1a2", "99edbdeb.605cf", "cc81bfd9.520fa", "a011110c.bdb4"]
	]
}, {
	"id": "af563bd6.ed56b8",
	"type": "change",
	"z": "c15c70f7.06d0d",
	"name": "",
	"rules": [{
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 240,
	"y": 540,
	"wires": [
		["7b2bf845.b1a168", "27100939.b03646", "8eadc1a5.9d8fd"]
	]
}, {
	"id": "eca1d9a9.03f3b8",
	"type": "ui_template",
	"z": "ed3a8036.7912",
	"group": "53d2de5b.04f38",
	"name": "Tap 1 text",
	"order": 2,
	"width": "5",
	"height": "3",
	"format": "<div style=\"text-align:left\">\n<span style=\"font-size:26px\">2019 Cider</span>\n<span style=\"font-size:18px\">6.5%</span>\n</div>\n<div style=\"text-align:left\">\n<span style=\"font-size:18px\">An intense New World-style cider fermented on the pomace of weird little super tannic, red-fleshed crab apples.</span>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 100,
	"y": 140,
	"wires": [
		[]
	]
}, {
	"id": "890d0b96.6c8348",
	"type": "ui_button",
	"z": "6e33811e.10d33",
	"d": true,
	"name": "",
	"group": "7cdad1dc.66962",
	"order": 1,
	"width": 6,
	"height": 1,
	"passthru": false,
	"label": "Show tap list",
	"tooltip": "",
	"color": "#757575",
	"bgcolor": "white",
	"icon": "",
	"payload": "6",
	"payloadType": "num",
	"topic": "",
	"x": 90,
	"y": 800,
	"wires": [
		["6a2bed1b.fee8e4"]
	]
}, {
	"id": "ee65b117.a43e",
	"type": "ui_button",
	"z": "6e33811e.10d33",
	"name": "",
	"group": "9ef562b6.4e8b2",
	"order": 2,
	"width": "6",
	"height": "1",
	"passthru": false,
	"label": "Back to menu",
	"tooltip": "",
	"color": "#757575",
	"bgcolor": "white",
	"icon": "",
	"payload": "1",
	"payloadType": "num",
	"topic": "",
	"x": 90,
	"y": 620,
	"wires": [
		["958a923e.2b317"]
	]
}, {
	"id": "bd6da5b4.4cebc8",
	"type": "ui_template",
	"z": "ed3a8036.7912",
	"group": "53d2de5b.04f38",
	"name": "Tap 1 number",
	"order": 1,
	"width": "1",
	"height": "3",
	"format": "<div style=\"overflow-x:visible !important; text-align:left\">\n<span style=\"font-size:80px\">1</span>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 120,
	"y": 100,
	"wires": [
		[]
	]
}, {
	"id": "240ef6ee.e988ca",
	"type": "ui_template",
	"z": "ed3a8036.7912",
	"group": "53d2de5b.04f38",
	"name": "Tap 2 text",
	"order": 5,
	"width": "5",
	"height": "3",
	"format": "<div style=\"text-align:left\">\n<span style=\"font-size:26px\">Pils</span>\n<span style=\"font-size:18px\">5.0%</span>\n</div>\n<div style=\"text-align:left\">\n<span style=\"font-size:18px\">A Czech-style pilsner, kinda. Whirlpool and dry hopped with Mt. Hood. Easy mode malt, hard mode yeast, and soft soft water.</span>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 320,
	"y": 140,
	"wires": [
		[]
	]
}, {
	"id": "f8065ec2.d27be",
	"type": "ui_template",
	"z": "ed3a8036.7912",
	"group": "53d2de5b.04f38",
	"name": "Tap 2 number",
	"order": 4,
	"width": "1",
	"height": "3",
	"format": "<div style=\"overflow-x:visible !important; text-align:left\">\n<span style=\"font-size:80px\">2</span>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 340,
	"y": 100,
	"wires": [
		[]
	]
}, {
	"id": "8c8f42a1.827a2",
	"type": "ui_template",
	"z": "ed3a8036.7912",
	"group": "fde4386.e3556c8",
	"name": "Tap 3 text",
	"order": 2,
	"width": "5",
	"height": "3",
	"format": "<div style=\"text-align:left\">\n<span style=\"font-size:26px\">DH Sour</span>\n<span style=\"font-size:18px\">6.5%</span>\n</div>\n<div style=\"text-align:left\">\n<span style=\"font-size:18px\">A blend of well aged golden sours, conditioned on 2nd use crabapple pomace (see tap 1), and dry hopped with tons of Mosaic</span>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 540,
	"y": 140,
	"wires": [
		[]
	]
}, {
	"id": "19fd8adb.cf5c25",
	"type": "ui_template",
	"z": "ed3a8036.7912",
	"group": "fde4386.e3556c8",
	"name": "Tap 3 number",
	"order": 1,
	"width": "1",
	"height": "3",
	"format": "<div style=\"overflow-x:visible !important; text-align:left\">\n<span style=\"font-size:80px\">3</span>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 560,
	"y": 100,
	"wires": [
		[]
	]
}, {
	"id": "f5216ac0.b2ae98",
	"type": "ui_template",
	"z": "ed3a8036.7912",
	"group": "fde4386.e3556c8",
	"name": "Tap 4 text",
	"order": 5,
	"width": "5",
	"height": "3",
	"format": "<div style=\"text-align:left\">\n<span style=\"font-size:26px\">Blueberry Sour</span>\n<span style=\"font-size:18px\">6.5%</span>\n</div>\n<div style=\"text-align:left\">\n<span style=\"font-size:18px\">Stainless aged golden sour base refermented with 200g/l of Costco's finest frozen wild blueberries.</span>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 760,
	"y": 140,
	"wires": [
		[]
	]
}, {
	"id": "20bf2d99.a6b872",
	"type": "ui_template",
	"z": "ed3a8036.7912",
	"group": "fde4386.e3556c8",
	"name": "Tap 4 number",
	"order": 4,
	"width": "1",
	"height": "3",
	"format": "<div style=\"overflow-x:visible !important; text-align:left\">\n<span style=\"font-size:80px\">4</span>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 780,
	"y": 100,
	"wires": [
		[]
	]
}, {
	"id": "c2707c30.1a32e",
	"type": "change",
	"z": "cc173848.876858",
	"name": "",
	"rules": [{
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 340,
	"y": 260,
	"wires": [
		["7dd9fc51.3ced84", "7abea364.5c8d1c"]
	]
}, {
	"id": "6249bd01.aaf204",
	"type": "change",
	"z": "cc173848.876858",
	"name": "",
	"rules": [{
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 340,
	"y": 100,
	"wires": [
		["f7f7740b.445018", "bb96daad.c87928"]
	]
}, {
	"id": "6a2bed1b.fee8e4",
	"type": "change",
	"z": "6e33811e.10d33",
	"name": "",
	"rules": [{
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 300,
	"y": 780,
	"wires": [
		["958a923e.2b317"]
	]
}, {
	"id": "25d32c8.adba4d4",
	"type": "ui_button",
	"z": "6e33811e.10d33",
	"d": true,
	"name": "",
	"group": "7cdad1dc.66962",
	"order": 2,
	"width": 6,
	"height": 1,
	"passthru": false,
	"label": "Show main",
	"tooltip": "",
	"color": "#757575",
	"bgcolor": "white",
	"icon": "",
	"payload": "0",
	"payloadType": "num",
	"topic": "",
	"x": 90,
	"y": 760,
	"wires": [
		["6a2bed1b.fee8e4"]
	]
}, {
	"id": "867e75dc.8abdf8",
	"type": "ui_button",
	"z": "6e33811e.10d33",
	"name": "",
	"group": "95022c28.729f7",
	"order": 6,
	"width": "6",
	"height": 1,
	"passthru": false,
	"label": "Tap list",
	"tooltip": "",
	"color": "#757575",
	"bgcolor": "white",
	"icon": "",
	"payload": "7",
	"payloadType": "num",
	"topic": "",
	"x": 100,
	"y": 580,
	"wires": [
		["958a923e.2b317"]
	]
}, {
	"id": "c50d1482.971638",
	"type": "smooth",
	"z": "a528ee42.6d898",
	"name": "",
	"property": "payload",
	"action": "mean",
	"count": "5",
	"round": "1",
	"mult": "single",
	"reduce": false,
	"x": 360,
	"y": 660,
	"wires": [
		["708bb333.a16bfc"]
	]
}, {
	"id": "7ca2d880.268e78",
	"type": "sensor-ds18b20",
	"z": "a528ee42.6d898",
	"name": "temp-HLT",
	"sensorid": "28-0000062eaf09",
	"timer": "2",
	"repeat": false,
	"x": 320,
	"y": 620,
	"wires": [
		["c50d1482.971638", "75b0f7e.e1e3808", "ee58332b.555b7"]
	]
}, {
	"id": "75b0f7e.e1e3808",
	"type": "link out",
	"z": "a528ee42.6d898",
	"name": "HLT raw temperature",
	"links": ["bc4b7a18.b98228"],
	"x": 515,
	"y": 620,
	"wires": []
}, {
	"id": "ee58332b.555b7",
	"type": "ui_text",
	"z": "a528ee42.6d898",
	"group": "5455ab3f.d64d04",
	"order": 1,
	"width": 2,
	"height": 1,
	"name": "HLT temperature display (raw)",
	"label": "Kettle",
	"format": "{{msg.payload | number:1}}°C",
	"layout": "col-center",
	"x": 630,
	"y": 660,
	"wires": []
}, {
	"id": "708bb333.a16bfc",
	"type": "ui_template",
	"z": "a528ee42.6d898",
	"group": "5d08e9f.cd39818",
	"name": "Big HLT temp",
	"order": 12,
	"width": 2,
	"height": 1,
	"format": "<div style=\"text-align:right; position: absolute; bottom: 0px; width: 80px\">\n<div style=\"text-align:right\">Actual</div>\n<div style=\"margin-top:-5px\">\n<span style=\"font-size:26px\" ng-bind-html=\"msg.payload\"></span>\n<span style=\"font-size:22px\">°C</span>\n</div></div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 740,
	"y": 720,
	"wires": [
		[]
	]
}, {
	"id": "ac1b0065.e5831",
	"type": "ui_button",
	"z": "e47bdd25.5ea",
	"name": "",
	"group": "5d08e9f.cd39818",
	"order": 5,
	"width": 2,
	"height": 1,
	"passthru": false,
	"label": "Manual",
	"tooltip": "",
	"color": "",
	"bgcolor": "{{colour}}",
	"icon": "",
	"payload": "true",
	"payloadType": "bool",
	"topic": "",
	"x": 200,
	"y": 80,
	"wires": [
		["284a72ba.2fdf3e"]
	]
}, {
	"id": "96fc4495.4236f8",
	"type": "ui_button",
	"z": "e47bdd25.5ea",
	"name": "",
	"group": "5d08e9f.cd39818",
	"order": 3,
	"width": 2,
	"height": 1,
	"passthru": false,
	"label": "PID",
	"tooltip": "",
	"color": "",
	"bgcolor": "{{colour}}",
	"icon": "",
	"payload": "true",
	"payloadType": "bool",
	"topic": "",
	"x": 190,
	"y": 40,
	"wires": [
		["8a6f6d56.31727"]
	]
}, {
	"id": "1ff16e4b.0c7e62",
	"type": "ui_button",
	"z": "e47bdd25.5ea",
	"name": "",
	"group": "5d08e9f.cd39818",
	"order": 8,
	"width": 2,
	"height": 1,
	"passthru": false,
	"label": "Off",
	"tooltip": "",
	"color": "",
	"bgcolor": "{{colour}}",
	"icon": "",
	"payload": "false",
	"payloadType": "bool",
	"topic": "",
	"x": 190,
	"y": 120,
	"wires": [
		["6c0c199c.e6a2b8"]
	]
}, {
	"id": "9396ba35.a41218",
	"type": "link in",
	"z": "e47bdd25.5ea",
	"name": "PID button colour",
	"links": ["114a885.5da8078"],
	"x": 75,
	"y": 40,
	"wires": [
		["96fc4495.4236f8"]
	]
}, {
	"id": "de3bbca4.da21d",
	"type": "link in",
	"z": "e47bdd25.5ea",
	"name": "Manual button colour",
	"links": ["359c2bb.ba0ddd4"],
	"x": 75,
	"y": 80,
	"wires": [
		["ac1b0065.e5831"]
	]
}, {
	"id": "fe893166.4998f",
	"type": "link in",
	"z": "e47bdd25.5ea",
	"name": "Off button colour",
	"links": ["3b229a0d.6a0c56"],
	"x": 75,
	"y": 120,
	"wires": [
		["1ff16e4b.0c7e62"]
	]
}, {
	"id": "8a6f6d56.31727",
	"type": "link out",
	"z": "e47bdd25.5ea",
	"name": "PID button",
	"links": ["c19a475c.57e058", "269056f4.d8f64a", "f17923f8.2b22e", "a64a6d11.2bee3"],
	"x": 315,
	"y": 40,
	"wires": []
}, {
	"id": "284a72ba.2fdf3e",
	"type": "link out",
	"z": "e47bdd25.5ea",
	"name": "Manual button",
	"links": ["c19a475c.57e058", "bba7e2d0.e43de", "269056f4.d8f64a", "a64a6d11.2bee3", "12f120c3.a0689f"],
	"x": 315,
	"y": 80,
	"wires": []
}, {
	"id": "6c0c199c.e6a2b8",
	"type": "link out",
	"z": "e47bdd25.5ea",
	"name": "Off button",
	"links": ["c19a475c.57e058", "269056f4.d8f64a", "3f57112c.c3b85e", "a64a6d11.2bee3", "9fde4436.be0d28", "b7aa22a2.71bea"],
	"x": 315,
	"y": 120,
	"wires": []
}, {
	"id": "2f37ced7.b3d7c2",
	"type": "delay",
	"z": "e47bdd25.5ea",
	"name": "delay",
	"pauseType": "delay",
	"timeout": "0.2",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 190,
	"y": 280,
	"wires": [
		["6f703372.20d4ec"]
	]
}, {
	"id": "114a885.5da8078",
	"type": "link out",
	"z": "e47bdd25.5ea",
	"name": "PID button colour",
	"links": ["9396ba35.a41218"],
	"x": 635,
	"y": 300,
	"wires": []
}, {
	"id": "a64a6d11.2bee3",
	"type": "link in",
	"z": "e47bdd25.5ea",
	"name": "Button click",
	"links": ["6c0c199c.e6a2b8", "284a72ba.2fdf3e", "8a6f6d56.31727"],
	"x": 75,
	"y": 280,
	"wires": [
		["2f37ced7.b3d7c2"]
	]
}, {
	"id": "307e1d2f.109852",
	"type": "change",
	"z": "e47bdd25.5ea",
	"name": "off colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "grey",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 500,
	"y": 420,
	"wires": [
		["359c2bb.ba0ddd4"]
	]
}, {
	"id": "757c25c7.1ac1ac",
	"type": "change",
	"z": "e47bdd25.5ea",
	"name": "on colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "#424242",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 500,
	"y": 380,
	"wires": [
		["359c2bb.ba0ddd4"]
	]
}, {
	"id": "5a43163f.27d578",
	"type": "switch",
	"z": "e47bdd25.5ea",
	"name": "",
	"property": "hlt_on",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 230,
	"y": 420,
	"wires": [
		["ec9ae00a.ab887"],
		["307e1d2f.109852"]
	]
}, {
	"id": "4444857.f293f7c",
	"type": "delay",
	"z": "e47bdd25.5ea",
	"name": "delay",
	"pauseType": "delay",
	"timeout": "0.2",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 190,
	"y": 380,
	"wires": [
		["5a43163f.27d578"]
	]
}, {
	"id": "359c2bb.ba0ddd4",
	"type": "link out",
	"z": "e47bdd25.5ea",
	"name": "Manual button colour",
	"links": ["de3bbca4.da21d"],
	"x": 615,
	"y": 400,
	"wires": []
}, {
	"id": "2d763655.aa082a",
	"type": "change",
	"z": "e47bdd25.5ea",
	"name": "off colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "#424242",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 360,
	"y": 540,
	"wires": [
		["3b229a0d.6a0c56"]
	]
}, {
	"id": "99bb156f.903218",
	"type": "change",
	"z": "e47bdd25.5ea",
	"name": "on colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "grey",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 360,
	"y": 500,
	"wires": [
		["3b229a0d.6a0c56"]
	]
}, {
	"id": "ef840cb6.a3678",
	"type": "switch",
	"z": "e47bdd25.5ea",
	"name": "",
	"property": "hlt_on",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 210,
	"y": 520,
	"wires": [
		["99bb156f.903218"],
		["2d763655.aa082a"]
	]
}, {
	"id": "d2f41f49.c3874",
	"type": "delay",
	"z": "e47bdd25.5ea",
	"name": "delay",
	"pauseType": "delay",
	"timeout": "0.2",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 190,
	"y": 480,
	"wires": [
		["ef840cb6.a3678"]
	]
}, {
	"id": "3b229a0d.6a0c56",
	"type": "link out",
	"z": "e47bdd25.5ea",
	"name": "Off button colour",
	"links": ["fe893166.4998f"],
	"x": 475,
	"y": 520,
	"wires": []
}, {
	"id": "ec9ae00a.ab887",
	"type": "switch",
	"z": "e47bdd25.5ea",
	"name": "",
	"property": "hlt_pid",
	"propertyType": "global",
	"rules": [{
		"t": "false"
	}, {
		"t": "true"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 350,
	"y": 400,
	"wires": [
		["757c25c7.1ac1ac"],
		["307e1d2f.109852"]
	]
}, {
	"id": "6f703372.20d4ec",
	"type": "switch",
	"z": "e47bdd25.5ea",
	"name": "",
	"property": "hlt_on",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 230,
	"y": 320,
	"wires": [
		["d0d502a6.ae4b6"],
		["9ef5fd7e.e8c94"]
	]
}, {
	"id": "d0d502a6.ae4b6",
	"type": "switch",
	"z": "e47bdd25.5ea",
	"name": "",
	"property": "hlt_pid",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 370,
	"y": 300,
	"wires": [
		["f163309d.9b5a2"],
		["9ef5fd7e.e8c94"]
	]
}, {
	"id": "f163309d.9b5a2",
	"type": "change",
	"z": "e47bdd25.5ea",
	"name": "on colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "#424242",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 520,
	"y": 280,
	"wires": [
		["114a885.5da8078"]
	]
}, {
	"id": "9ef5fd7e.e8c94",
	"type": "change",
	"z": "e47bdd25.5ea",
	"name": "off colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "grey",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 520,
	"y": 320,
	"wires": [
		["114a885.5da8078"]
	]
}, {
	"id": "c19a475c.57e058",
	"type": "link in",
	"z": "e47bdd25.5ea",
	"name": "Button click",
	"links": ["284a72ba.2fdf3e", "6c0c199c.e6a2b8", "8a6f6d56.31727", "11c18a22.2ff07e", "fd8c477a.99a1a"],
	"x": 75,
	"y": 380,
	"wires": [
		["4444857.f293f7c"]
	]
}, {
	"id": "269056f4.d8f64a",
	"type": "link in",
	"z": "e47bdd25.5ea",
	"name": "Button click",
	"links": ["284a72ba.2fdf3e", "6c0c199c.e6a2b8", "8a6f6d56.31727", "11c18a22.2ff07e", "fd8c477a.99a1a"],
	"x": 75,
	"y": 480,
	"wires": [
		["d2f41f49.c3874"]
	]
}, {
	"id": "f57cde24.f7fb2",
	"type": "link in",
	"z": "e47bdd25.5ea",
	"name": "Button initialization",
	"links": ["71e6d811.8a5348"],
	"x": 75,
	"y": 320,
	"wires": [
		["6f703372.20d4ec"]
	]
}, {
	"id": "90bd8287.1209b",
	"type": "link in",
	"z": "e47bdd25.5ea",
	"name": "Button initialization",
	"links": ["a902d194.51df48", "71e6d811.8a5348"],
	"x": 75,
	"y": 420,
	"wires": [
		["5a43163f.27d578"]
	]
}, {
	"id": "6abd981f.8f2f58",
	"type": "link in",
	"z": "e47bdd25.5ea",
	"name": "Button initialization",
	"links": ["a902d194.51df48", "71e6d811.8a5348"],
	"x": 75,
	"y": 520,
	"wires": [
		["ef840cb6.a3678"]
	]
}, {
	"id": "132561d3.36e73e",
	"type": "ui_ui_control",
	"z": "e47bdd25.5ea",
	"name": "Dashboard connection",
	"x": 160,
	"y": 200,
	"wires": [
		["71e6d811.8a5348"]
	]
}, {
	"id": "71e6d811.8a5348",
	"type": "link out",
	"z": "e47bdd25.5ea",
	"name": "Button initialization on connection",
	"links": ["90bd8287.1209b", "6abd981f.8f2f58", "f57cde24.f7fb2"],
	"x": 315,
	"y": 200,
	"wires": []
}, {
	"id": "ff06a73b.8b5858",
	"type": "inject",
	"z": "f56f4168.8335f",
	"name": "Default Element Duty",
	"props": [{
		"p": "payload",
		"v": "100",
		"vt": "num"
	}, {
		"p": "topic",
		"v": "",
		"vt": "string"
	}],
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": "0.1",
	"topic": "",
	"payload": "100",
	"payloadType": "num",
	"x": 160,
	"y": 160,
	"wires": [
		["df4272e8.9013c", "a5171bce.fdd628", "899953f0.e896b"]
	]
}, {
	"id": "1240473a.2ebe69",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "bk_lock=true",
	"rules": [{
		"t": "set",
		"p": "bk_lock",
		"pt": "global",
		"to": "true",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 850,
	"y": 1340,
	"wires": [
		[]
	]
}, {
	"id": "2d367e0.290f882",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "hlt_on = hlt_try",
	"rules": [{
		"t": "set",
		"p": "hlt_on",
		"pt": "global",
		"to": "hlt_try",
		"tot": "flow"
	}, {
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "hlt_try",
		"tot": "flow"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 520,
	"y": 1400,
	"wires": [
		["c05ea1a1.dab37", "4696b6c6.cf8958"]
	]
}, {
	"id": "c05ea1a1.dab37",
	"type": "switch",
	"z": "f56f4168.8335f",
	"name": "hlt_on",
	"property": "hlt_on",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 690,
	"y": 1400,
	"wires": [
		[],
		["8f47089c.246d98"]
	]
}, {
	"id": "68408956.321c28",
	"type": "switch",
	"z": "f56f4168.8335f",
	"name": "Check rims_lock",
	"property": "rims_lock",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 290,
	"y": 1340,
	"wires": [
		[],
		[]
	]
}, {
	"id": "c1acf2d3.a36f7",
	"type": "ui_toast",
	"z": "f56f4168.8335f",
	"position": "top right",
	"displayTime": "5",
	"highlight": "",
	"outputs": 0,
	"ok": "OK",
	"cancel": "",
	"topic": "",
	"name": "",
	"x": 570,
	"y": 1320,
	"wires": []
}, {
	"id": "3324156.b9a9dea",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "Element lock message",
	"rules": [{
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "Can not access boil kettle element controls while RIMS element is active",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 540,
	"y": 1360,
	"wires": [
		["c1acf2d3.a36f7"]
	]
}, {
	"id": "8f47089c.246d98",
	"type": "delay",
	"z": "f56f4168.8335f",
	"name": "",
	"pauseType": "delay",
	"timeout": "3",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 840,
	"y": 1400,
	"wires": [
		["26b2ef56.690e1", "32f5b56.b2a174a"]
	]
}, {
	"id": "26b2ef56.690e1",
	"type": "change",
	"z": "f56f4168.8335f",
	"d": true,
	"name": "bk_lock = false",
	"rules": [{
		"t": "set",
		"p": "bk_lock",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 900,
	"y": 1460,
	"wires": [
		["32f5b56.b2a174a"]
	]
}, {
	"id": "32f5b56.b2a174a",
	"type": "link out",
	"z": "f56f4168.8335f",
	"name": "Bolt update",
	"links": ["138b94ab.11e18b", "baee4c3.83c9fb"],
	"x": 875,
	"y": 1500,
	"wires": []
}, {
	"id": "4696b6c6.cf8958",
	"type": "link out",
	"z": "f56f4168.8335f",
	"name": "Bolt update",
	"links": ["138b94ab.11e18b", "baee4c3.83c9fb"],
	"x": 655,
	"y": 1440,
	"wires": []
}, {
	"id": "6af2365f.2cffc8",
	"type": "ui_numeric",
	"z": "f56f4168.8335f",
	"name": "",
	"label": "K𝗉",
	"tooltip": "",
	"group": "5455ab3f.d64d04",
	"order": 4,
	"width": "4",
	"height": "1",
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value | number:1}}",
	"min": 0,
	"max": "99.8",
	"step": "0.2",
	"x": 150,
	"y": 480,
	"wires": [
		["12fe386d.f80cd8"]
	]
}, {
	"id": "9b57556e.cc3058",
	"type": "ui_numeric",
	"z": "f56f4168.8335f",
	"name": "",
	"label": "K𝗂",
	"tooltip": "",
	"group": "5455ab3f.d64d04",
	"order": 6,
	"width": "4",
	"height": "1",
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value | number:1}}",
	"min": 0,
	"max": "100",
	"step": "0.2",
	"x": 150,
	"y": 580,
	"wires": [
		["f2b530be.dc941"]
	]
}, {
	"id": "bf2cfa9d.5495b8",
	"type": "ui_numeric",
	"z": "f56f4168.8335f",
	"name": "",
	"label": "K𝖽",
	"tooltip": "",
	"group": "5455ab3f.d64d04",
	"order": 8,
	"width": "4",
	"height": "1",
	"wrap": false,
	"passthru": true,
	"topic": "",
	"format": "{{value | number:1}}",
	"min": 0,
	"max": "100",
	"step": "0.2",
	"x": 150,
	"y": 680,
	"wires": [
		["43c40d47.db2704"]
	]
}, {
	"id": "12fe386d.f80cd8",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "p",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 320,
	"y": 480,
	"wires": [
		[]
	]
}, {
	"id": "f2b530be.dc941",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "set flow.i",
	"rules": [{
		"t": "set",
		"p": "i",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 320,
	"y": 580,
	"wires": [
		[]
	]
}, {
	"id": "43c40d47.db2704",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "d",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 320,
	"y": 680,
	"wires": [
		[]
	]
}, {
	"id": "68fc61b3.b10d6",
	"type": "inject",
	"z": "f56f4168.8335f",
	"name": "Default P",
	"props": [{
		"p": "payload"
	}, {
		"p": "topic",
		"vt": "str"
	}],
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "20.0",
	"payloadType": "num",
	"x": 120,
	"y": 440,
	"wires": [
		["6af2365f.2cffc8", "12fe386d.f80cd8"]
	]
}, {
	"id": "7e43d8ab.78ffd8",
	"type": "inject",
	"z": "f56f4168.8335f",
	"name": "Default I",
	"props": [{
		"p": "payload"
	}, {
		"p": "topic",
		"vt": "str"
	}],
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "1",
	"payloadType": "num",
	"x": 120,
	"y": 540,
	"wires": [
		["9b57556e.cc3058", "f2b530be.dc941"]
	]
}, {
	"id": "196cba20.8ca3c6",
	"type": "inject",
	"z": "f56f4168.8335f",
	"name": "Default D",
	"props": [{
		"p": "payload"
	}, {
		"p": "topic",
		"vt": "str"
	}],
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "30",
	"payloadType": "num",
	"x": 120,
	"y": 640,
	"wires": [
		["bf2cfa9d.5495b8", "43c40d47.db2704"]
	]
}, {
	"id": "fa0e6d2.0fcef9",
	"type": "inject",
	"z": "f56f4168.8335f",
	"name": "Default HLT Target",
	"props": [{
		"p": "payload"
	}, {
		"p": "topic",
		"vt": "str"
	}],
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "66",
	"payloadType": "num",
	"x": 150,
	"y": 280,
	"wires": [
		["85e8709c.339b", "954ced42.48434", "c502c92e.213898", "1dedaf6a.27efb1"]
	]
}, {
	"id": "18ed1e1d.29a642",
	"type": "function",
	"z": "f56f4168.8335f",
	"name": "HLT PID",
	"func": "// Note that the algorithm provided below assumes a 1 second iteration time\n// Justin Angevaare\n// May 2018\n\n// Set temperature\nmsg.temperature =  msg.payload;\n\n// Well that node doesn't work... do manually\nmsg.interval = 2000\n\n// Calculate error\nmsg.error = flow.get('hlt_target') - msg.temperature;\n\n// Set output max\nmsg.max_output = 100\n        \n// Calculate integrator max\nmsg.integrator_max = msg.max_output/flow.get('i');\n\n// Update integrator\n// For purposes of integrator, bound error by [-1, 1]\nmsg.integrator = flow.get('integrator');\nmsg.integrator += (msg.interval/1000) * Math.max(Math.min(msg.error, 1), -1);\n\n// Bound total integrator by absolute maximum\nmsg.integrator = Math.max(Math.min(msg.integrator, msg.integrator_max), -msg.integrator_max);\n\n// Output updated integrator to flow context\nflow.set('integrator', msg.integrator);\n\n// Calculate proportional action\nmsg.output = msg.error * flow.get('p');\n\n// Calculate intergral action\nmsg.output += msg.integrator * flow.get('i');\n\n// Calculate derivative action\nmsg.derivative = (msg.error - flow.get('last_error'))/(msg.interval/1000);\nmsg.output += msg.derivative * flow.get('d');\n\n// Bound output by [0, max_output]\nmsg.output = Math.max(Math.min(msg.output, msg.max_output), 0);\n\n// Output updated last_error to flow context\nmsg.last_error = msg.error;\nflow.set('last_error', msg.last_error);\n\n// Set payload to element output\nmsg.payload = msg.output;\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"initialize": "",
	"finalize": "",
	"x": 480,
	"y": 60,
	"wires": [
		["81d04f52.2dc9", "20d3de05.6759b2"]
	]
}, {
	"id": "3998816e.27be7e",
	"type": "switch",
	"z": "f56f4168.8335f",
	"name": "hlt_pid switch",
	"property": "hlt_pid",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}, {
		"t": "false"
	}],
	"checkall": "false",
	"repair": false,
	"outputs": 2,
	"x": 300,
	"y": 80,
	"wires": [
		["18ed1e1d.29a642"],
		["89e945bf.d34638"]
	]
}, {
	"id": "89e945bf.d34638",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "payload = hlt_manual_duty",
	"rules": [{
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "hlt_manual_duty",
		"tot": "flow"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 540,
	"y": 100,
	"wires": [
		["81d04f52.2dc9"]
	]
}, {
	"id": "bc4b7a18.b98228",
	"type": "link in",
	"z": "f56f4168.8335f",
	"name": "HLT PID temperature input",
	"links": ["75b0f7e.e1e3808"],
	"x": 55,
	"y": 60,
	"wires": [
		["7eed0d1e.3ec9b4", "6c4ddc4c.8d2e64"]
	]
}, {
	"id": "954ced42.48434",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "hlt_target",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 730,
	"y": 280,
	"wires": [
		[]
	]
}, {
	"id": "81d04f52.2dc9",
	"type": "link out",
	"z": "f56f4168.8335f",
	"name": "PID or Manual Duty",
	"links": ["949d12d9.00aa8", "4b6b249c.4901ec"],
	"x": 715,
	"y": 60,
	"wires": []
}, {
	"id": "4fdbfab7.3ec994",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "hlt_pid, hlt_try = true",
	"rules": [{
		"t": "set",
		"p": "hlt_pid",
		"pt": "global",
		"to": "true",
		"tot": "bool"
	}, {
		"t": "set",
		"p": "hlt_try",
		"pt": "flow",
		"to": "true",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 320,
	"y": 1000,
	"wires": [
		["b2b1ecc6.8441b"]
	]
}, {
	"id": "90fcf8e.ff2b208",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "hlt_pid = false, hlt_try = true",
	"rules": [{
		"t": "set",
		"p": "hlt_pid",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}, {
		"t": "set",
		"p": "hlt_try",
		"pt": "flow",
		"to": "true",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 340,
	"y": 1040,
	"wires": [
		["cc98ef24.25db6"]
	]
}, {
	"id": "546e3426.1fd6ac",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "hlt_pid, hlt_try = false",
	"rules": [{
		"t": "set",
		"p": "hlt_pid",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}, {
		"t": "set",
		"p": "hlt_try",
		"pt": "flow",
		"to": "false",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 320,
	"y": 960,
	"wires": [
		["c1195905.e25688"]
	]
}, {
	"id": "cc98ef24.25db6",
	"type": "link out",
	"z": "f56f4168.8335f",
	"name": "HLT Try Output",
	"links": ["3cab4149.7f00be"],
	"x": 535,
	"y": 1040,
	"wires": []
}, {
	"id": "3cab4149.7f00be",
	"type": "link in",
	"z": "f56f4168.8335f",
	"name": "Boil Try Input",
	"links": ["cc98ef24.25db6", "b2b1ecc6.8441b", "c1195905.e25688"],
	"x": 155,
	"y": 1380,
	"wires": [
		["2d367e0.290f882"]
	]
}, {
	"id": "7eed0d1e.3ec9b4",
	"type": "switch",
	"z": "f56f4168.8335f",
	"name": "hlt_on",
	"property": "hlt_on",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 1,
	"x": 150,
	"y": 80,
	"wires": [
		["3998816e.27be7e"]
	]
}, {
	"id": "a5171bce.fdd628",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "hlt_manual_duty",
		"pt": "flow",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 750,
	"y": 160,
	"wires": [
		[]
	]
}, {
	"id": "ebce7460.7c5048",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "payload = 0",
	"rules": [{
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "0",
		"tot": "num"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 290,
	"y": 1200,
	"wires": [
		["87200194.6b72d"]
	]
}, {
	"id": "87200194.6b72d",
	"type": "link out",
	"z": "f56f4168.8335f",
	"name": "Off Duty",
	"links": ["949d12d9.00aa8", "4b6b249c.4901ec"],
	"x": 535,
	"y": 1200,
	"wires": []
}, {
	"id": "f336cc8.ab2b53",
	"type": "link out",
	"z": "f56f4168.8335f",
	"name": "HLT PID display",
	"links": ["22029a92.1f2e66"],
	"x": 535,
	"y": 1120,
	"wires": []
}, {
	"id": "2da4b54c.41936a",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "Zero everything",
	"rules": [{
		"t": "set",
		"p": "last_error",
		"pt": "msg",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "integrator",
		"pt": "msg",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "derivative",
		"pt": "msg",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "last_error",
		"pt": "flow",
		"to": "last_error",
		"tot": "msg"
	}, {
		"t": "set",
		"p": "integrator",
		"pt": "flow",
		"to": "integrator",
		"tot": "msg"
	}, {
		"t": "set",
		"p": "output",
		"pt": "msg",
		"to": "0.0",
		"tot": "num"
	}, {
		"t": "set",
		"p": "target",
		"pt": "msg",
		"to": "bk_target",
		"tot": "flow"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 300,
	"y": 1120,
	"wires": [
		["f336cc8.ab2b53"]
	]
}, {
	"id": "20d3de05.6759b2",
	"type": "link out",
	"z": "f56f4168.8335f",
	"name": "HLT PID display",
	"links": ["22029a92.1f2e66", "e7a1307f.303ed"],
	"x": 595,
	"y": 20,
	"wires": []
}, {
	"id": "f17923f8.2b22e",
	"type": "link in",
	"z": "f56f4168.8335f",
	"name": "PID button",
	"links": ["8a6f6d56.31727"],
	"x": 155,
	"y": 1000,
	"wires": [
		["4fdbfab7.3ec994"]
	]
}, {
	"id": "b2b1ecc6.8441b",
	"type": "link out",
	"z": "f56f4168.8335f",
	"name": "HLT Try Output",
	"links": ["3cab4149.7f00be"],
	"x": 535,
	"y": 1000,
	"wires": []
}, {
	"id": "c1195905.e25688",
	"type": "link out",
	"z": "f56f4168.8335f",
	"name": "HLT Try Output",
	"links": ["3cab4149.7f00be"],
	"x": 535,
	"y": 960,
	"wires": []
}, {
	"id": "12f120c3.a0689f",
	"type": "link in",
	"z": "f56f4168.8335f",
	"name": "Manual button",
	"links": ["284a72ba.2fdf3e"],
	"x": 155,
	"y": 1040,
	"wires": [
		["90fcf8e.ff2b208"]
	]
}, {
	"id": "bba7e2d0.e43de",
	"type": "link in",
	"z": "f56f4168.8335f",
	"name": "Manual button",
	"links": ["284a72ba.2fdf3e"],
	"x": 155,
	"y": 1080,
	"wires": [
		["2da4b54c.41936a"]
	]
}, {
	"id": "3f57112c.c3b85e",
	"type": "link in",
	"z": "f56f4168.8335f",
	"name": "Off button",
	"links": ["6c0c199c.e6a2b8"],
	"x": 155,
	"y": 960,
	"wires": [
		["546e3426.1fd6ac"]
	]
}, {
	"id": "9fde4436.be0d28",
	"type": "link in",
	"z": "f56f4168.8335f",
	"name": "Off button",
	"links": ["6c0c199c.e6a2b8", "b22fa6fa.185598"],
	"x": 155,
	"y": 1200,
	"wires": [
		["ebce7460.7c5048"]
	]
}, {
	"id": "7960a1b4.59e8f",
	"type": "inject",
	"z": "f56f4168.8335f",
	"name": "",
	"props": [{
		"p": "payload"
	}, {
		"p": "topic",
		"vt": "str"
	}],
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": "0.1",
	"topic": "",
	"payload": "",
	"payloadType": "date",
	"x": 130,
	"y": 740,
	"wires": [
		["b22fa6fa.185598"]
	]
}, {
	"id": "b7aa22a2.71bea",
	"type": "link in",
	"z": "f56f4168.8335f",
	"name": "Off button",
	"links": ["6c0c199c.e6a2b8", "b22fa6fa.185598"],
	"x": 155,
	"y": 1120,
	"wires": [
		["2da4b54c.41936a"]
	]
}, {
	"id": "b22fa6fa.185598",
	"type": "link out",
	"z": "f56f4168.8335f",
	"name": "Off button - initialization",
	"links": ["e6a929c6.72b5b8", "9fde4436.be0d28", "b7aa22a2.71bea"],
	"x": 295,
	"y": 740,
	"wires": []
}, {
	"id": "e6a929c6.72b5b8",
	"type": "link in",
	"z": "f56f4168.8335f",
	"name": "Off button - initialization",
	"links": ["b22fa6fa.185598"],
	"x": 155,
	"y": 920,
	"wires": [
		["2e9dfcf5.081564"]
	]
}, {
	"id": "2e9dfcf5.081564",
	"type": "change",
	"z": "f56f4168.8335f",
	"d": true,
	"name": "bk_lock, bk_on, bk_pid, bk_try = false",
	"rules": [{
		"t": "set",
		"p": "bk_lock",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}, {
		"t": "set",
		"p": "bk_on",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}, {
		"t": "set",
		"p": "bk_pid",
		"pt": "global",
		"to": "false",
		"tot": "bool"
	}, {
		"t": "set",
		"p": "bk_try",
		"pt": "flow",
		"to": "false",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 370,
	"y": 920,
	"wires": [
		[]
	]
}, {
	"id": "85e8709c.339b",
	"type": "ui_slider",
	"z": "f56f4168.8335f",
	"name": "Kettle target slider",
	"label": "Target",
	"tooltip": "",
	"group": "5d08e9f.cd39818",
	"order": 17,
	"width": 0,
	"height": 0,
	"passthru": true,
	"outs": "all",
	"topic": "",
	"min": "20",
	"max": "100",
	"step": "1",
	"x": 190,
	"y": 320,
	"wires": [
		["954ced42.48434", "c502c92e.213898", "283d6e61.3aba02"]
	]
}, {
	"id": "df4272e8.9013c",
	"type": "ui_slider",
	"z": "f56f4168.8335f",
	"name": "Manual duty slider",
	"label": "Manual",
	"tooltip": "",
	"group": "5d08e9f.cd39818",
	"order": 18,
	"width": 0,
	"height": 0,
	"passthru": true,
	"outs": "all",
	"topic": "",
	"min": "20",
	"max": "100",
	"step": "1",
	"x": 190,
	"y": 200,
	"wires": [
		["a5171bce.fdd628", "91954a0c.3263c8"]
	]
}, {
	"id": "8cb38fac.a68de",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "hlt_try",
		"pt": "flow",
		"to": "false",
		"tot": "bool"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 500,
	"y": 1280,
	"wires": [
		[]
	]
}, {
	"id": "c502c92e.213898",
	"type": "ui_text",
	"z": "f56f4168.8335f",
	"group": "5455ab3f.d64d04",
	"order": 2,
	"width": 2,
	"height": 1,
	"name": "Kettle target",
	"label": "Target",
	"format": "{{payload | number:1}}°C",
	"layout": "col-center",
	"x": 710,
	"y": 360,
	"wires": []
}, {
	"id": "6c4ddc4c.8d2e64",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "temp-HLT",
		"pt": "global",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 200,
	"y": 40,
	"wires": [
		[]
	]
}, {
	"id": "1dedaf6a.27efb1",
	"type": "ui_template",
	"z": "f56f4168.8335f",
	"group": "5d08e9f.cd39818",
	"name": "Big HLT target",
	"order": 14,
	"width": 2,
	"height": 1,
	"format": "<div style=\"text-align:right; position: absolute; bottom: 0px; width: 80px\">\n<div style=\"text-align:right\">Target</div>\n<div style=\"margin-top:-5px\">\n<span style=\"font-size:26px\" ng-bind-html=\"msg.payload\"></span>\n<span style=\"font-size:22px\">°C</span>\n</div></div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 720,
	"y": 320,
	"wires": [
		[]
	]
}, {
	"id": "899953f0.e896b",
	"type": "ui_template",
	"z": "f56f4168.8335f",
	"group": "5d08e9f.cd39818",
	"name": "Big Manual duty",
	"order": 15,
	"width": 2,
	"height": 1,
	"format": "<div style=\"text-align:right; position: absolute; bottom: 0px; width: 80px\">\n<div style=\"text-align:right\">Manual</div>\n<div style=\"margin-top:-5px\">\n<span style=\"font-size:26px\" ng-bind-html=\"msg.payload\"></span>\n<span style=\"font-size:22px\">٪</span>\n</div></div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 720,
	"y": 200,
	"wires": [
		[]
	]
}, {
	"id": "91954a0c.3263c8",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "",
	"rules": [{
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 460,
	"y": 200,
	"wires": [
		["899953f0.e896b"]
	]
}, {
	"id": "283d6e61.3aba02",
	"type": "change",
	"z": "f56f4168.8335f",
	"name": "",
	"rules": [{
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 460,
	"y": 320,
	"wires": [
		["1dedaf6a.27efb1"]
	]
}, {
	"id": "2e9c7f2f.3972b",
	"type": "rpi-gpio out",
	"z": "cc173848.876858",
	"name": "HLT GPIO",
	"pin": "36",
	"set": false,
	"level": "0",
	"freq": "1",
	"out": "pwm",
	"x": 300,
	"y": 480,
	"wires": []
}, {
	"id": "4b6b249c.4901ec",
	"type": "link in",
	"z": "cc173848.876858",
	"name": "HLT GPIO",
	"links": ["81d04f52.2dc9", "87200194.6b72d"],
	"x": 175,
	"y": 500,
	"wires": [
		["2e9c7f2f.3972b", "d7311ae.1f7e0e8"]
	]
}, {
	"id": "9ae2ebfe.902258",
	"type": "ui_text",
	"z": "cc173848.876858",
	"group": "5455ab3f.d64d04",
	"order": 3,
	"width": "2",
	"height": "1",
	"name": "HLT element output",
	"label": "Output",
	"format": "{{payload | number:0}}﹪",
	"layout": "col-center",
	"x": 590,
	"y": 540,
	"wires": []
}, {
	"id": "4107ef21.db895",
	"type": "ui_template",
	"z": "cc173848.876858",
	"group": "5d08e9f.cd39818",
	"name": "Big HLT duty text",
	"order": 10,
	"width": 3,
	"height": 1,
	"format": "<div style=\"text-align:center; position: absolute; bottom: 0px; width: 100px\">\n<span style=\"font-size:32px\" ng-bind-html=\"msg.payload\"></span>\n<span style=\"font-size:28px\">٪</span>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 590,
	"y": 500,
	"wires": [
		[]
	]
}, {
	"id": "d7311ae.1f7e0e8",
	"type": "change",
	"z": "cc173848.876858",
	"name": "",
	"rules": [{
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 340,
	"y": 520,
	"wires": [
		["4107ef21.db895", "9ae2ebfe.902258"]
	]
}, {
	"id": "b72ae7f7.055398",
	"type": "ui_text",
	"z": "c15c70f7.06d0d",
	"group": "5455ab3f.d64d04",
	"order": 7,
	"width": "2",
	"height": "1",
	"name": "HLT PID Integrator",
	"label": "Integral",
	"format": "{{integrator | number:1}}°C⦁s",
	"layout": "col-center",
	"x": 550,
	"y": 700,
	"wires": []
}, {
	"id": "d02fa6d5.1beb68",
	"type": "ui_text",
	"z": "c15c70f7.06d0d",
	"group": "5455ab3f.d64d04",
	"order": 5,
	"width": "2",
	"height": "1",
	"name": "HLT PID Error",
	"label": "Error",
	"format": "{{last_error | number:1}}°C",
	"layout": "col-center",
	"x": 540,
	"y": 660,
	"wires": []
}, {
	"id": "ba8d91bb.5738c",
	"type": "ui_text",
	"z": "c15c70f7.06d0d",
	"group": "5455ab3f.d64d04",
	"order": 9,
	"width": "2",
	"height": "1",
	"name": "HLT PID Derivative",
	"label": "Derivative",
	"format": "{{derivative | number:1}}°C/s",
	"layout": "col-center",
	"x": 550,
	"y": 740,
	"wires": []
}, {
	"id": "22029a92.1f2e66",
	"type": "link in",
	"z": "c15c70f7.06d0d",
	"name": "HLT PID display",
	"links": ["20d3de05.6759b2", "f336cc8.ab2b53"],
	"x": 95,
	"y": 680,
	"wires": [
		["fa2836c5.54bb08"]
	]
}, {
	"id": "fa2836c5.54bb08",
	"type": "change",
	"z": "c15c70f7.06d0d",
	"name": "",
	"rules": [{
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 240,
	"y": 680,
	"wires": [
		["b72ae7f7.055398", "d02fa6d5.1beb68", "ba8d91bb.5738c"]
	]
}, {
	"id": "e7a1307f.303ed",
	"type": "link in",
	"z": "3f1fa76c.ccd768",
	"name": "HLT PID logger",
	"links": ["20d3de05.6759b2"],
	"x": 175,
	"y": 780,
	"wires": [
		["f28fe26.34c3c2"]
	]
}, {
	"id": "f28fe26.34c3c2",
	"type": "switch",
	"z": "3f1fa76c.ccd768",
	"name": "PID logging on?",
	"property": "pid_log",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 1,
	"x": 300,
	"y": 780,
	"wires": [
		["5d97b3a0.7028dc"]
	]
}, {
	"id": "9d59e4ec.0363f8",
	"type": "function",
	"z": "3f1fa76c.ccd768",
	"name": "Format output for influxdb",
	"func": "msg.payload = [\n    {\n        measurement: \"PID-hlt-main-loop\",\n        fields: {\n            target: msg.target,\n            output: msg.output,\n            error: msg.last_error,\n            integrator: msg.integrator,\n            derivative: msg.derivative,\n            //active: global.get(\"hlt_pid\"),\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"initialize": "",
	"finalize": "",
	"x": 940,
	"y": 780,
	"wires": [
		["c1bb2651.6ea0a8"]
	]
}, {
	"id": "5d97b3a0.7028dc",
	"type": "delay",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"pauseType": "delay",
	"timeout": "250",
	"timeoutUnits": "milliseconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 510,
	"y": 780,
	"wires": [
		["a5407ecb.77531"]
	]
}, {
	"id": "a5407ecb.77531",
	"type": "delay",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"pauseType": "rate",
	"timeout": "10",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "5",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": true,
	"x": 700,
	"y": 780,
	"wires": [
		["9d59e4ec.0363f8"]
	]
}, {
	"id": "949d12d9.00aa8",
	"type": "link in",
	"z": "3f1fa76c.ccd768",
	"name": "HLT GPIO logger",
	"links": ["81d04f52.2dc9", "87200194.6b72d"],
	"x": 175,
	"y": 1020,
	"wires": [
		["72204a88.885c64"]
	]
}, {
	"id": "72204a88.885c64",
	"type": "switch",
	"z": "3f1fa76c.ccd768",
	"name": "Output logging on?",
	"property": "output_log",
	"propertyType": "global",
	"rules": [{
		"t": "true"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 1,
	"x": 310,
	"y": 1020,
	"wires": [
		["a6802ae4.95e4d8"]
	]
}, {
	"id": "a6be3880.5f68f8",
	"type": "function",
	"z": "3f1fa76c.ccd768",
	"name": "Format output for influxdb",
	"func": "msg.payload = [\n    {\n        measurement: \"output-HLT\",\n        fields: {\n            duty: msg.payload,\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
	"outputs": 1,
	"noerr": 0,
	"initialize": "",
	"finalize": "",
	"x": 940,
	"y": 1020,
	"wires": [
		["c1bb2651.6ea0a8"]
	]
}, {
	"id": "a6802ae4.95e4d8",
	"type": "delay",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"pauseType": "delay",
	"timeout": "250",
	"timeoutUnits": "milliseconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 510,
	"y": 1020,
	"wires": [
		["5953e2b3.828ddc"]
	]
}, {
	"id": "5953e2b3.828ddc",
	"type": "delay",
	"z": "3f1fa76c.ccd768",
	"name": "",
	"pauseType": "rate",
	"timeout": "10",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "5",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": true,
	"x": 700,
	"y": 1020,
	"wires": [
		["a6be3880.5f68f8"]
	]
}, {
	"id": "1fcae3c1.12ddec",
	"type": "ui_template",
	"z": "e729994b.1bbd18",
	"group": "5d08e9f.cd39818",
	"name": "HLT Bolt",
	"order": 2,
	"width": 3,
	"height": 2,
	"format": "<div style=\"overflow-y:visible !important; position:absolute; left:10px\">\n<ng-md-icon icon=\"{{(msg.rims_lock || false) ? 'flash_off' : 'flash_on'}}\" size=130 style=\"{{(msg.hlt_on || false) ? 'fill: gold' : 'fill: grey'}}; margin-top:-34px\"></ng-md-icon>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 520,
	"y": 180,
	"wires": [
		[]
	]
}, {
	"id": "138b94ab.11e18b",
	"type": "link in",
	"z": "e729994b.1bbd18",
	"name": "HLT bolt",
	"links": ["32f5b56.b2a174a", "4696b6c6.cf8958"],
	"x": 55,
	"y": 180,
	"wires": [
		["86d89d81.32d8f"]
	]
}, {
	"id": "550ff2b3.47f7fc",
	"type": "ui_template",
	"z": "6e33811e.10d33",
	"group": "5d08e9f.cd39818",
	"name": "HLT module text",
	"order": 1,
	"width": 6,
	"height": 1,
	"format": "<div style=\"text-align:center\">\n<span style=\"font-size:28px; color:#669933\">HLT</span>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 740,
	"y": 180,
	"wires": [
		[]
	]
}, {
	"id": "86d89d81.32d8f",
	"type": "change",
	"z": "e729994b.1bbd18",
	"name": "Bolt updates",
	"rules": [{
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}, {
		"t": "set",
		"p": "hlt_on",
		"pt": "msg",
		"to": "hlt_on",
		"tot": "global"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 350,
	"y": 180,
	"wires": [
		["1fcae3c1.12ddec"]
	]
}, {
	"id": "ec31f07f.e1bb1",
	"type": "change",
	"z": "e729994b.1bbd18",
	"name": "Bolt updates",
	"rules": [{
		"t": "set",
		"p": "bk_on",
		"pt": "msg",
		"to": "bk_on",
		"tot": "global"
	}, {
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 350,
	"y": 120,
	"wires": [
		["f22acb23.2902f8"]
	]
}, {
	"id": "baee4c3.83c9fb",
	"type": "link in",
	"z": "e729994b.1bbd18",
	"name": "BK bolt",
	"links": ["32f5b56.b2a174a", "4696b6c6.cf8958", "c4b0e428.97d1f8", "e39dcdac.b2ab9"],
	"x": 55,
	"y": 128,
	"wires": [
		["ec31f07f.e1bb1"]
	]
}, {
	"id": "c95398bd.0e0c88",
	"type": "change",
	"z": "e729994b.1bbd18",
	"name": "Bolt updates",
	"rules": [{
		"t": "set",
		"p": "bk_lock",
		"pt": "msg",
		"to": "bk_lock",
		"tot": "global"
	}, {
		"t": "set",
		"p": "rims_lock",
		"pt": "msg",
		"to": "rims_lock",
		"tot": "global"
	}, {
		"t": "set",
		"p": "rims_on",
		"pt": "msg",
		"to": "rims_on",
		"tot": "global"
	}, {
		"t": "set",
		"p": "bk_on",
		"pt": "msg",
		"to": "bk_on",
		"tot": "global"
	}, {
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}, {
		"t": "set",
		"p": "hlt_on",
		"pt": "msg",
		"to": "hlt_on",
		"tot": "global"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 350,
	"y": 260,
	"wires": [
		[]
	]
}, {
	"id": "fc557973.b954b8",
	"type": "rpi-gpio out",
	"z": "be6cd40a.3d80d8",
	"name": "HLT Pump GPIO",
	"pin": "33",
	"set": true,
	"level": "0",
	"freq": "1",
	"out": "out",
	"x": 590,
	"y": 720,
	"wires": []
}, {
	"id": "fc7bed92.fdb1d",
	"type": "change",
	"z": "be6cd40a.3d80d8",
	"name": "pump - off colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "grey",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 570,
	"y": 420,
	"wires": [
		["9b8ad5ac.4d8098"]
	]
}, {
	"id": "62b0d8c5.d9e738",
	"type": "change",
	"z": "be6cd40a.3d80d8",
	"name": "pump - on colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "#66cc00",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 570,
	"y": 380,
	"wires": [
		["9b8ad5ac.4d8098"]
	]
}, {
	"id": "2bea716b.162c0e",
	"type": "switch",
	"z": "be6cd40a.3d80d8",
	"name": "Pump state",
	"property": "pump",
	"propertyType": "global",
	"rules": [{
		"t": "eq",
		"v": "1",
		"vt": "num"
	}, {
		"t": "eq",
		"v": "0",
		"vt": "str"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 370,
	"y": 400,
	"wires": [
		["62b0d8c5.d9e738"],
		["fc7bed92.fdb1d"]
	]
}, {
	"id": "6594065a.378298",
	"type": "delay",
	"z": "be6cd40a.3d80d8",
	"name": "delay",
	"pauseType": "delay",
	"timeout": "0.2",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 350,
	"y": 340,
	"wires": [
		[]
	]
}, {
	"id": "9b8ad5ac.4d8098",
	"type": "link out",
	"z": "be6cd40a.3d80d8",
	"name": "Pump button colour",
	"links": ["c8d7ced7.be274"],
	"x": 715,
	"y": 400,
	"wires": []
}, {
	"id": "c6ca8e71.e17ac",
	"type": "link in",
	"z": "be6cd40a.3d80d8",
	"name": "Pump update",
	"links": ["f984a9d4.fa3918"],
	"x": 195,
	"y": 360,
	"wires": [
		["2bea716b.162c0e"]
	]
}, {
	"id": "ec9e9163.d129c",
	"type": "inject",
	"z": "be6cd40a.3d80d8",
	"name": "",
	"props": [{
		"p": "payload",
		"v": "0",
		"vt": "num"
	}, {
		"p": "topic",
		"v": "",
		"vt": "string"
	}],
	"repeat": "",
	"crontab": "",
	"once": true,
	"onceDelay": 0.1,
	"topic": "",
	"payload": "0",
	"payloadType": "num",
	"x": 150,
	"y": 20,
	"wires": [
		["bec9cd1.af77b3"]
	]
}, {
	"id": "1a1f5e61.7c8962",
	"type": "change",
	"z": "be6cd40a.3d80d8",
	"name": "Pump update",
	"rules": [{
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "pump",
		"tot": "global"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 380,
	"y": 720,
	"wires": [
		["fc557973.b954b8"]
	]
}, {
	"id": "b90bbe9f.5b09f",
	"type": "ui_button",
	"z": "be6cd40a.3d80d8",
	"name": "",
	"group": "5d08e9f.cd39818",
	"order": 19,
	"width": 6,
	"height": 1,
	"passthru": false,
	"label": "HLT Pump",
	"tooltip": "",
	"color": "",
	"bgcolor": "{{colour}}",
	"icon": "",
	"payload": "true",
	"payloadType": "bool",
	"topic": "",
	"x": 230,
	"y": 55,
	"wires": [
		["74b186a4.3b45f8"]
	]
}, {
	"id": "c8d7ced7.be274",
	"type": "link in",
	"z": "be6cd40a.3d80d8",
	"name": "Pump button colour",
	"links": ["9b8ad5ac.4d8098"],
	"x": 95,
	"y": 55,
	"wires": [
		["b90bbe9f.5b09f"]
	]
}, {
	"id": "edb1a138.ee21b",
	"type": "ui_ui_control",
	"z": "be6cd40a.3d80d8",
	"name": "Dashboard connection",
	"x": 160,
	"y": 400,
	"wires": [
		["2bea716b.162c0e"]
	]
}, {
	"id": "74b186a4.3b45f8",
	"type": "switch",
	"z": "be6cd40a.3d80d8",
	"name": "Pump state",
	"property": "pump",
	"propertyType": "global",
	"rules": [{
		"t": "eq",
		"v": "0",
		"vt": "str"
	}, {
		"t": "eq",
		"v": "1",
		"vt": "num"
	}],
	"checkall": "false",
	"repair": false,
	"outputs": 2,
	"x": 270,
	"y": 95,
	"wires": [
		["9a35b6ce.fed7e8"],
		["89c8c822.077d78"]
	]
}, {
	"id": "89c8c822.077d78",
	"type": "change",
	"z": "be6cd40a.3d80d8",
	"name": "Turn off",
	"rules": [{
		"t": "set",
		"p": "pump",
		"pt": "global",
		"to": "0",
		"tot": "num"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 640,
	"y": 95,
	"wires": [
		["f984a9d4.fa3918"]
	]
}, {
	"id": "9a35b6ce.fed7e8",
	"type": "change",
	"z": "be6cd40a.3d80d8",
	"name": "Turn on",
	"rules": [{
		"t": "set",
		"p": "pump",
		"pt": "global",
		"to": "1",
		"tot": "num"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 640,
	"y": 55,
	"wires": [
		["f984a9d4.fa3918"]
	]
}, {
	"id": "f984a9d4.fa3918",
	"type": "link out",
	"z": "be6cd40a.3d80d8",
	"name": "Pump update",
	"links": ["c6ca8e71.e17ac", "1360bfc2.fe872"],
	"x": 755,
	"y": 75,
	"wires": []
}, {
	"id": "bec9cd1.af77b3",
	"type": "change",
	"z": "be6cd40a.3d80d8",
	"name": "",
	"rules": [{
		"t": "set",
		"p": "pump",
		"pt": "global",
		"to": "payload",
		"tot": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 320,
	"y": 20,
	"wires": [
		[]
	]
}, {
	"id": "1360bfc2.fe872",
	"type": "link in",
	"z": "be6cd40a.3d80d8",
	"name": "Pump update",
	"links": ["f984a9d4.fa3918"],
	"x": 235,
	"y": 720,
	"wires": [
		["1a1f5e61.7c8962"]
	]
}, {
	"id": "cf4458cd.ae5d58",
	"type": "ui_button",
	"z": "6e33811e.10d33",
	"name": "",
	"group": "95022c28.729f7",
	"order": 3,
	"width": "6",
	"height": 1,
	"passthru": false,
	"label": "HLT PID",
	"tooltip": "",
	"color": "#757575",
	"bgcolor": "white",
	"icon": "",
	"payload": "2",
	"payloadType": "num",
	"topic": "",
	"x": 100,
	"y": 660,
	"wires": [
		["958a923e.2b317"]
	]
}, {
	"id": "9cd24684.8f34c8",
	"type": "ui_button",
	"z": "6e33811e.10d33",
	"name": "",
	"group": "5455ab3f.d64d04",
	"order": 10,
	"width": "6",
	"height": "1",
	"passthru": false,
	"label": "Back to menu",
	"tooltip": "",
	"color": "#757575",
	"bgcolor": "white",
	"icon": "",
	"payload": "1",
	"payloadType": "num",
	"topic": "",
	"x": 92,
	"y": 700,
	"wires": [
		["958a923e.2b317"]
	]
}, {
	"id": "ef2e0579.8137a8",
	"type": "rpi-gpio out",
	"z": "cc173848.876858",
	"name": "BK GPIO",
	"pin": "37",
	"set": false,
	"level": "0",
	"freq": "1",
	"out": "pwm",
	"x": 300,
	"y": 320,
	"wires": []
}, {
	"id": "878105e9.737e98",
	"type": "ui_text",
	"z": "cc173848.876858",
	"group": "284149c2.f30d46",
	"order": 3,
	"width": "2",
	"height": "1",
	"name": "BK element output",
	"label": "Output",
	"format": "{{payload | number:0}}﹪",
	"layout": "col-center",
	"x": 590,
	"y": 380,
	"wires": []
}, {
	"id": "3de2a0ab.5d45f",
	"type": "ui_template",
	"z": "cc173848.876858",
	"group": "e0112eb9.cc2e2",
	"name": "Big BK duty text",
	"order": 11,
	"width": 3,
	"height": 1,
	"format": "<div style=\"text-align:right; position: absolute; bottom: 0px; width: 100px\">\n<span style=\"font-size:32px\" ng-bind-html=\"msg.payload\"></span>\n<span style=\"font-size:28px\">٪</span>\n</div>",
	"storeOutMessages": true,
	"fwdInMessages": true,
	"templateScope": "local",
	"x": 580,
	"y": 340,
	"wires": [
		[]
	]
}, {
	"id": "dc8d18ce.013448",
	"type": "change",
	"z": "cc173848.876858",
	"name": "",
	"rules": [{
		"t": "delete",
		"p": "socketid",
		"pt": "msg"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 340,
	"y": 360,
	"wires": [
		["3de2a0ab.5d45f", "878105e9.737e98"]
	]
}, {
	"id": "9060e6e2.8dfb18",
	"type": "ui_button",
	"z": "be6cd40a.3d80d8",
	"name": "",
	"group": "295da4af.6ca11c",
	"order": 24,
	"width": 6,
	"height": 1,
	"passthru": false,
	"label": "MLT Pump",
	"tooltip": "",
	"color": "",
	"bgcolor": "{{colour}}",
	"icon": "",
	"payload": "true",
	"payloadType": "bool",
	"topic": "",
	"x": 230,
	"y": 155,
	"wires": [
		["e0f71558.54a328"]
	]
}, {
	"id": "e0f71558.54a328",
	"type": "switch",
	"z": "be6cd40a.3d80d8",
	"name": "Pump state",
	"property": "pump",
	"propertyType": "global",
	"rules": [{
		"t": "eq",
		"v": "0",
		"vt": "str"
	}, {
		"t": "eq",
		"v": "1",
		"vt": "num"
	}],
	"checkall": "false",
	"repair": false,
	"outputs": 2,
	"x": 270,
	"y": 195,
	"wires": [
		["f924edf9.c1ba8"],
		["6fdf783f.218868"]
	]
}, {
	"id": "6fdf783f.218868",
	"type": "change",
	"z": "be6cd40a.3d80d8",
	"name": "Turn off",
	"rules": [{
		"t": "set",
		"p": "pump",
		"pt": "global",
		"to": "0",
		"tot": "num"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 640,
	"y": 195,
	"wires": [
		["7e1dce1e.b9cdc"]
	]
}, {
	"id": "f924edf9.c1ba8",
	"type": "change",
	"z": "be6cd40a.3d80d8",
	"name": "Turn on",
	"rules": [{
		"t": "set",
		"p": "pump",
		"pt": "global",
		"to": "1",
		"tot": "num"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 640,
	"y": 155,
	"wires": [
		["7e1dce1e.b9cdc"]
	]
}, {
	"id": "7e1dce1e.b9cdc",
	"type": "link out",
	"z": "be6cd40a.3d80d8",
	"name": "Pump update",
	"links": ["b8bc9d7f.53e9", "dd767f5e.12ace"],
	"x": 755,
	"y": 175,
	"wires": []
}, {
	"id": "f908dafc.6a6c58",
	"type": "rpi-gpio out",
	"z": "be6cd40a.3d80d8",
	"name": "MLT Pump GPIO",
	"pin": "31",
	"set": true,
	"level": "0",
	"freq": "1",
	"out": "out",
	"x": 590,
	"y": 780,
	"wires": []
}, {
	"id": "fe3216f2.505128",
	"type": "change",
	"z": "be6cd40a.3d80d8",
	"name": "Pump update",
	"rules": [{
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "pump",
		"tot": "global"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 380,
	"y": 780,
	"wires": [
		["f908dafc.6a6c58"]
	]
}, {
	"id": "b8bc9d7f.53e9",
	"type": "link in",
	"z": "be6cd40a.3d80d8",
	"name": "Pump update",
	"links": ["7e1dce1e.b9cdc"],
	"x": 235,
	"y": 780,
	"wires": [
		["fe3216f2.505128"]
	]
}, {
	"id": "dfd05132.de235",
	"type": "link in",
	"z": "be6cd40a.3d80d8",
	"name": "Pump button colour",
	"links": ["c68f01e5.65f8"],
	"x": 95,
	"y": 155,
	"wires": [
		["9060e6e2.8dfb18"]
	]
}, {
	"id": "97a9ade1.f2faa",
	"type": "change",
	"z": "be6cd40a.3d80d8",
	"name": "pump - off colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "grey",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 570,
	"y": 520,
	"wires": [
		["c68f01e5.65f8"]
	]
}, {
	"id": "48c8b402.1a10dc",
	"type": "change",
	"z": "be6cd40a.3d80d8",
	"name": "pump - on colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "#66cc00",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 570,
	"y": 480,
	"wires": [
		["c68f01e5.65f8"]
	]
}, {
	"id": "81180ebd.71d9e",
	"type": "switch",
	"z": "be6cd40a.3d80d8",
	"name": "Pump state",
	"property": "pump",
	"propertyType": "global",
	"rules": [{
		"t": "eq",
		"v": "1",
		"vt": "num"
	}, {
		"t": "eq",
		"v": "0",
		"vt": "str"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 370,
	"y": 500,
	"wires": [
		["48c8b402.1a10dc"],
		["97a9ade1.f2faa"]
	]
}, {
	"id": "b50156f9.ee0fb8",
	"type": "delay",
	"z": "be6cd40a.3d80d8",
	"name": "delay",
	"pauseType": "delay",
	"timeout": "0.2",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 350,
	"y": 440,
	"wires": [
		[]
	]
}, {
	"id": "c68f01e5.65f8",
	"type": "link out",
	"z": "be6cd40a.3d80d8",
	"name": "Pump button colour",
	"links": ["dfd05132.de235"],
	"x": 715,
	"y": 500,
	"wires": []
}, {
	"id": "dd767f5e.12ace",
	"type": "link in",
	"z": "be6cd40a.3d80d8",
	"name": "Pump update",
	"links": ["7e1dce1e.b9cdc"],
	"x": 195,
	"y": 460,
	"wires": [
		["81180ebd.71d9e"]
	]
}, {
	"id": "2b91f261.a5702e",
	"type": "ui_ui_control",
	"z": "be6cd40a.3d80d8",
	"name": "Dashboard connection",
	"x": 160,
	"y": 500,
	"wires": [
		["81180ebd.71d9e"]
	]
}, {
	"id": "273b49a4.924476",
	"type": "change",
	"z": "be6cd40a.3d80d8",
	"name": "pump - off colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "grey",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 570,
	"y": 620,
	"wires": [
		["ba9cf084.220b9"]
	]
}, {
	"id": "dc564da2.1d8a2",
	"type": "change",
	"z": "be6cd40a.3d80d8",
	"name": "pump - on colour",
	"rules": [{
		"t": "set",
		"p": "colour",
		"pt": "msg",
		"to": "#66cc00",
		"tot": "str"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 570,
	"y": 580,
	"wires": [
		["ba9cf084.220b9"]
	]
}, {
	"id": "717cdf14.b1d04",
	"type": "switch",
	"z": "be6cd40a.3d80d8",
	"name": "Pump state",
	"property": "pump",
	"propertyType": "global",
	"rules": [{
		"t": "eq",
		"v": "1",
		"vt": "num"
	}, {
		"t": "eq",
		"v": "0",
		"vt": "str"
	}],
	"checkall": "true",
	"repair": false,
	"outputs": 2,
	"x": 370,
	"y": 600,
	"wires": [
		["dc564da2.1d8a2"],
		["273b49a4.924476"]
	]
}, {
	"id": "8a0e064e.bf76d8",
	"type": "delay",
	"z": "be6cd40a.3d80d8",
	"name": "delay",
	"pauseType": "delay",
	"timeout": "0.2",
	"timeoutUnits": "seconds",
	"rate": "1",
	"nbRateUnits": "1",
	"rateUnits": "second",
	"randomFirst": "1",
	"randomLast": "5",
	"randomUnits": "seconds",
	"drop": false,
	"x": 350,
	"y": 540,
	"wires": [
		[]
	]
}, {
	"id": "ba9cf084.220b9",
	"type": "link out",
	"z": "be6cd40a.3d80d8",
	"name": "Pump button colour",
	"links": ["d0c9cd4.824f93"],
	"x": 715,
	"y": 600,
	"wires": []
}, {
	"id": "3d41cc1c.690394",
	"type": "link in",
	"z": "be6cd40a.3d80d8",
	"name": "Pump update",
	"links": ["fccb68eb.3323b8"],
	"x": 195,
	"y": 560,
	"wires": [
		["717cdf14.b1d04"]
	]
}, {
	"id": "b1cbae6c.7bd67",
	"type": "ui_ui_control",
	"z": "be6cd40a.3d80d8",
	"name": "Dashboard connection",
	"x": 160,
	"y": 600,
	"wires": [
		["717cdf14.b1d04"]
	]
}, {
	"id": "6a70e5ce.8b12bc",
	"type": "rpi-gpio out",
	"z": "be6cd40a.3d80d8",
	"name": "BK Pump GPIO",
	"pin": "29",
	"set": true,
	"level": "0",
	"freq": "1",
	"out": "out",
	"x": 580,
	"y": 840,
	"wires": []
}, {
	"id": "db9b3ac.f771dc8",
	"type": "change",
	"z": "be6cd40a.3d80d8",
	"name": "Pump update",
	"rules": [{
		"t": "set",
		"p": "payload",
		"pt": "msg",
		"to": "pump",
		"tot": "global"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 380,
	"y": 840,
	"wires": [
		["6a70e5ce.8b12bc"]
	]
}, {
	"id": "5779a662.0a0e18",
	"type": "link in",
	"z": "be6cd40a.3d80d8",
	"name": "Pump update",
	"links": ["fccb68eb.3323b8"],
	"x": 235,
	"y": 840,
	"wires": [
		["db9b3ac.f771dc8"]
	]
}, {
	"id": "6299b471.507fdc",
	"type": "ui_button",
	"z": "be6cd40a.3d80d8",
	"name": "",
	"group": "e0112eb9.cc2e2",
	"order": 19,
	"width": 6,
	"height": 1,
	"passthru": false,
	"label": "BK Pump",
	"tooltip": "",
	"color": "",
	"bgcolor": "{{colour}}",
	"icon": "",
	"payload": "true",
	"payloadType": "bool",
	"topic": "",
	"x": 220,
	"y": 240,
	"wires": [
		["b7ee8f04.65216"]
	]
}, {
	"id": "b7ee8f04.65216",
	"type": "switch",
	"z": "be6cd40a.3d80d8",
	"name": "Pump state",
	"property": "pump",
	"propertyType": "global",
	"rules": [{
		"t": "eq",
		"v": "0",
		"vt": "str"
	}, {
		"t": "eq",
		"v": "1",
		"vt": "num"
	}],
	"checkall": "false",
	"repair": false,
	"outputs": 2,
	"x": 270,
	"y": 280,
	"wires": [
		["9800687d.cc0ee8"],
		["115cb389.46681c"]
	]
}, {
	"id": "115cb389.46681c",
	"type": "change",
	"z": "be6cd40a.3d80d8",
	"name": "Turn off",
	"rules": [{
		"t": "set",
		"p": "pump",
		"pt": "global",
		"to": "0",
		"tot": "num"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 640,
	"y": 280,
	"wires": [
		["fccb68eb.3323b8"]
	]
}, {
	"id": "9800687d.cc0ee8",
	"type": "change",
	"z": "be6cd40a.3d80d8",
	"name": "Turn on",
	"rules": [{
		"t": "set",
		"p": "pump",
		"pt": "global",
		"to": "1",
		"tot": "num"
	}],
	"action": "",
	"property": "",
	"from": "",
	"to": "",
	"reg": false,
	"x": 640,
	"y": 240,
	"wires": [
		["fccb68eb.3323b8"]
	]
}, {
	"id": "fccb68eb.3323b8",
	"type": "link out",
	"z": "be6cd40a.3d80d8",
	"name": "Pump update",
	"links": ["3d41cc1c.690394", "5779a662.0a0e18"],
	"x": 755,
	"y": 260,
	"wires": []
}, {
	"id": "d0c9cd4.824f93",
	"type": "link in",
	"z": "be6cd40a.3d80d8",
	"name": "Pump button colour",
	"links": ["ba9cf084.220b9"],
	"x": 95,
	"y": 240,
	"wires": [
		["6299b471.507fdc"]
	]
}]
